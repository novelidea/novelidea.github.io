<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>算法基础 | 美漂的野指针</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/7.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">算法基础</h1><a id="logo" href="/.">美漂的野指针</a><p class="description">Make a difference</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 主页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">算法基础</h1><div class="post-meta">Oct 27, 2016<span> | </span><span class="category"><a href="/categories/Algorithm/">算法</a></span></div><div class="post-content"><p>这些题目是2016年找全职工作时做的，大部分题目来自于一亩三分地上的面经。</p>
<h3 id="1-对角线打印矩阵"><a href="#1-对角线打印矩阵" class="headerlink" title="1. 对角线打印矩阵"></a>1. 对角线打印矩阵</h3><p>题目描述：输入为一个数字矩阵，对角线遍历输出矩阵内容。<br>Input:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;1,2,3,4&#125;, &#123;5,6,7,8&#125;, &#123;9,10,11,12&#125;, &#123;13,14,15,16&#125;, &#123;17,18,19,20&#125;&#125;</span><br></pre></td></tr></table></figure></p>
<p>Output:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1  </span><br><span class="line">2  5  </span><br><span class="line">3  6  9  </span><br><span class="line">4  7  10  13  </span><br><span class="line">8  11  14  17  </span><br><span class="line">12  15  18  </span><br><span class="line">16  19  </span><br><span class="line">20</span><br></pre></td></tr></table></figure></p>
<p>Code<br>笔误： colIndex -&gt; rowIndex<br>边界条件应该是： colCount - 1<br>总的循环条件是row col都必须满足</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">zagzigPrintMatrix</span><span class="params">(<span class="keyword">int</span>[][] matrix)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (matrix == <span class="keyword">null</span> || matrix.length == <span class="number">0</span> || matrix[<span class="number">0</span>].length == <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">int</span> rowCount = matrix.length, colCount = matrix[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">int</span> rowIndex = <span class="number">0</span>, colIndex = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(rowIndex &lt; rowCount &amp;&amp; colIndex &lt; colCount) &#123;</span><br><span class="line">            <span class="keyword">int</span> tmpRowIndex = rowIndex, tmpColIndex = colIndex;</span><br><span class="line">            <span class="keyword">while</span> (tmpRowIndex &lt; rowCount &amp;&amp; tmpColIndex &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                System.out.print(matrix[tmpRowIndex ++][tmpColIndex --] + <span class="string">"  "</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">            <span class="keyword">if</span> (colIndex &lt; colCount - <span class="number">1</span>) &#123;</span><br><span class="line">                colIndex ++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                rowIndex ++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[][] matrix = &#123;&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;, &#123;<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>&#125;, &#123;<span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>,<span class="number">12</span>&#125;, &#123;<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>,<span class="number">16</span>&#125;,&#123;<span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>, <span class="number">20</span>&#125;&#125;;</span><br><span class="line">        zagzigPrintMatrix(matrix);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-Merge-K-Sorted-Lists"><a href="#2-Merge-K-Sorted-Lists" class="headerlink" title="2. Merge K Sorted Lists"></a>2. Merge K Sorted Lists</h3><p>经常漏<code>)</code>，因为一般网页版ide的自动补全优点问题；<br>在构造函数<code>Pair</code>中漏掉<code>int</code>。</p>
<p>Code</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Pair</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> val, row, col;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Pair</span><span class="params">(<span class="keyword">int</span> val, <span class="keyword">int</span> row, <span class="keyword">int</span> col)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.val = val;</span><br><span class="line">            <span class="keyword">this</span>.row = row;</span><br><span class="line">            <span class="keyword">this</span>.col = col;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;Integer&gt; <span class="title">mergeKSortedList</span><span class="params">(<span class="keyword">int</span>[][] lists)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">        <span class="keyword">if</span> (lists == <span class="keyword">null</span> || lists.length == <span class="number">0</span>) <span class="keyword">return</span> result;</span><br><span class="line">        PriorityQueue&lt;Pair&gt; queue = <span class="keyword">new</span> PriorityQueue&lt;Pair&gt;(<span class="keyword">new</span> Comparator&lt;Pair&gt;() &#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Pair p1, Pair p2)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> p1.val - p2.val;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> rowIndex = <span class="number">0</span>; rowIndex &lt; lists.length; rowIndex ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (lists[rowIndex].length == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">            queue.offer(<span class="keyword">new</span> Pair(lists[rowIndex][<span class="number">0</span>], rowIndex, <span class="number">0</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (! queue.isEmpty()) &#123;</span><br><span class="line">            Pair curPair = queue.poll();</span><br><span class="line">            result.add(curPair.val);</span><br><span class="line">            <span class="keyword">if</span> (curPair.col &lt; lists[curPair.row].length - <span class="number">1</span>) &#123;</span><br><span class="line">                queue.offer(<span class="keyword">new</span> Pair(lists[curPair.row][curPair.col + <span class="number">1</span>], curPair.row, curPair.col + <span class="number">1</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[][] lists = &#123;&#123;<span class="number">1</span>, <span class="number">9</span>&#125;, &#123;<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;, &#123;<span class="number">3</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">9</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>&#125;, &#123;<span class="number">11</span>&#125;&#125;;</span><br><span class="line">        List&lt;Integer&gt; result = mergeKSortedList(lists);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> num : result) &#123;</span><br><span class="line">            System.out.print(num + <span class="string">"  "</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       <span class="keyword">int</span>[][] lists = &#123;&#123;&#125;, &#123;<span class="number">1</span>&#125;, &#123;<span class="number">1</span>,<span class="number">2</span>&#125;, &#123;<span class="number">1</span>,<span class="number">2</span>&#125;, &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;, &#123;<span class="number">6</span>,<span class="number">7</span>&#125;&#125;;</span><br><span class="line">       Node[] headsList = constructListList(lists);</span><br><span class="line">       Node head = mergeKSortedList(headsList);</span><br><span class="line">       Node tmp = head;</span><br><span class="line">       <span class="keyword">while</span> (tmp != <span class="keyword">null</span>) &#123;</span><br><span class="line">           System.out.print(tmp.val + <span class="string">"  "</span>);</span><br><span class="line">           tmp = tmp.next;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">private</span> Node[] constructListList(<span class="keyword">int</span>[][] values) &#123;</span><br><span class="line">       <span class="keyword">if</span> (values == <span class="keyword">null</span> || values.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">       Node[] result = <span class="keyword">new</span> Node[values.length];</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; values.length; i ++) &#123;</span><br><span class="line">           result[i] = constructList(values[i]);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> result;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> Node <span class="title">constructList</span><span class="params">(<span class="keyword">int</span>[] values)</span> </span>&#123;</span><br><span class="line">       Node dummy = <span class="keyword">new</span> Node(<span class="number">0</span>);</span><br><span class="line">       Node pre = dummy;</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> val : values) &#123;</span><br><span class="line">           Node node = <span class="keyword">new</span> Node(val);</span><br><span class="line">           pre.next = node;</span><br><span class="line">           pre = pre.next;</span><br><span class="line">       &#125;</span><br><span class="line">       pre.next = <span class="keyword">null</span>;</span><br><span class="line">       <span class="keyword">return</span> dummy.next;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">       <span class="keyword">int</span> val;</span><br><span class="line">       Node next;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">           <span class="keyword">this</span>.val = val;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> Node <span class="title">mergeKSortedList</span><span class="params">(Node[] heads)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (heads == <span class="keyword">null</span> || heads.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">       PriorityQueue&lt;Node&gt; priorityQueue = <span class="keyword">new</span> PriorityQueue&lt;&gt;(<span class="keyword">new</span> Comparator&lt;Node&gt;() &#123;</span><br><span class="line">           <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Node nodeA, Node nodeB)</span> </span>&#123;</span><br><span class="line">               <span class="keyword">return</span> nodeA.val - nodeB.val;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;);</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; heads.length; i ++) &#123;</span><br><span class="line">           <span class="keyword">if</span> (heads[i] == <span class="keyword">null</span>) <span class="keyword">continue</span>;</span><br><span class="line">           priorityQueue.offer(heads[i]);</span><br><span class="line">       &#125;</span><br><span class="line">       Node dummy = <span class="keyword">new</span> Node(<span class="number">0</span>);</span><br><span class="line">       Node tmpNode = dummy;</span><br><span class="line">       <span class="keyword">while</span> (! priorityQueue.isEmpty()) &#123;</span><br><span class="line">           Node minValueNode = priorityQueue.poll();</span><br><span class="line">           tmpNode.next = minValueNode;</span><br><span class="line">           tmpNode = tmpNode.next;</span><br><span class="line">           minValueNode = minValueNode.next;</span><br><span class="line">           <span class="keyword">if</span> (minValueNode != <span class="keyword">null</span>) priorityQueue.offer(minValueNode);</span><br><span class="line">       &#125;</span><br><span class="line">       tmpNode.next = <span class="keyword">null</span>;</span><br><span class="line">       <span class="keyword">return</span> dummy.next;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-Valid-Sodoku"><a href="#3-Valid-Sodoku" class="headerlink" title="3. Valid Sodoku"></a>3. Valid Sodoku</h3><p>Code</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValidSodoku</span><span class="params">(<span class="keyword">char</span>[][] board)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (board == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">       <span class="keyword">int</span> row = board.length, col = board[<span class="number">0</span>].length;</span><br><span class="line">       <span class="keyword">if</span> (row != <span class="number">9</span> || col != <span class="number">9</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">       HashSet&lt;String&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> rowIndex = <span class="number">0</span>; rowIndex &lt; <span class="number">9</span>; rowIndex ++) &#123;</span><br><span class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> colIndex = <span class="number">0</span>; colIndex &lt; <span class="number">9</span>; colIndex ++) &#123;</span><br><span class="line">               <span class="keyword">if</span> (board[rowIndex][colIndex] == <span class="string">'.'</span>) <span class="keyword">continue</span>;</span><br><span class="line">               String value = <span class="string">"("</span> + board[rowIndex][colIndex] + <span class="string">")"</span>;</span><br><span class="line">               <span class="keyword">if</span> (!visited.add(rowIndex + value) || ! visited.add(value + colIndex) || ! visited.add(rowIndex / <span class="number">3</span> + value + colIndex / <span class="number">3</span>)) &#123;</span><br><span class="line">                   <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h3 id="4-添加-是整型数组的结果最大"><a href="#4-添加-是整型数组的结果最大" class="headerlink" title="4. 添加 + * () 是整型数组的结果最大"></a>4. 添加 + * () 是整型数组的结果最大</h3><p>Code</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">addOperatorToMaxResult</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> len = nums.length;</span><br><span class="line">        <span class="comment">// dp[endIndex][cutNumber] meas nums[0] ~ nums[endIndex] split into cutNumber parts, the maximum value</span></span><br><span class="line">        <span class="comment">// dp[endIndex][cutNumber] = Math.max(dp[endIndex][cutNumber], dp[tmpIndex][cutNumber - 1] * sum[tmpIndex + 1][endIndex])</span></span><br><span class="line">        <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[len + <span class="number">1</span>][len + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span>[] sum = <span class="keyword">new</span> <span class="keyword">int</span>[len + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">1</span>; index &lt;= len; index ++) &#123;</span><br><span class="line">            sum[index] = sum[index - <span class="number">1</span>] + nums[index - <span class="number">1</span>];</span><br><span class="line">            dp[index][<span class="number">1</span>] = sum[index];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> endIndex = <span class="number">2</span>; endIndex &lt;= len; endIndex ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> cutNumber = <span class="number">2</span>; cutNumber &lt;= endIndex; cutNumber ++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> lastPartStartIndex = cutNumber; lastPartStartIndex &lt;= endIndex; lastPartStartIndex ++) &#123;</span><br><span class="line">                    dp[endIndex][cutNumber] = Math.max(dp[endIndex][cutNumber], dp[lastPartStartIndex - <span class="number">1</span>][cutNumber - <span class="number">1</span>] * (sum[endIndex] - sum[lastPartStartIndex - <span class="number">1</span>]));</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (endIndex == len) &#123;</span><br><span class="line">                    result = Math.max(result, dp[endIndex][cutNumber]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">maxResultContainsNegative</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> len = nums.length;</span><br><span class="line">        <span class="keyword">int</span>[][] max = <span class="keyword">new</span> <span class="keyword">int</span>[len + <span class="number">1</span>][len + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span>[][] min = <span class="keyword">new</span> <span class="keyword">int</span>[len + <span class="number">1</span>][len + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span>[] sum = <span class="keyword">new</span> <span class="keyword">int</span>[len + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">1</span>; index &lt;= len; index ++) &#123;</span><br><span class="line">            sum[index] = sum[index - <span class="number">1</span>] + nums[index - <span class="number">1</span>];</span><br><span class="line">            max[index][<span class="number">1</span>] = sum[index];</span><br><span class="line">            min[index][<span class="number">1</span>] = sum[index];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> result = Integer.MIN_VALUE;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> endIndex = <span class="number">1</span>; endIndex &lt;= len; endIndex ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> partNumber = <span class="number">2</span>; partNumber &lt;= len; partNumber ++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> lastPartStartIndex = partNumber; lastPartStartIndex &lt;= endIndex; lastPartStartIndex ++) &#123;</span><br><span class="line">                    <span class="keyword">int</span> lastSum = sum[endIndex] - sum[lastPartStartIndex - <span class="number">1</span>];</span><br><span class="line">                    max[endIndex][partNumber] = Math.max(max[endIndex][partNumber], lastSum * (lastSum &gt; <span class="number">0</span> ? max[lastPartStartIndex - <span class="number">1</span>][partNumber - <span class="number">1</span>] : min[lastPartStartIndex - <span class="number">1</span>][partNumber - <span class="number">1</span>]));</span><br><span class="line">                    min[endIndex][partNumber] = Math.min(min[endIndex][partNumber], lastSum * (lastSum &gt; <span class="number">0</span> ? min[lastPartStartIndex - <span class="number">1</span>][partNumber - <span class="number">1</span>] : max[lastPartStartIndex - <span class="number">1</span>][partNumber - <span class="number">1</span>]));</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (endIndex == len) &#123;</span><br><span class="line">                    result = Math.max(result, max[endIndex][partNumber]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] nums = &#123;-<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;;</span><br><span class="line">        <span class="comment">// int res1 = addOperatorToMaxResult(nums);</span></span><br><span class="line">        <span class="keyword">int</span> res2 = maxResultContainsNegative(nums);</span><br><span class="line">        System.out.println(res2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] numbers = &#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>&#125;;</span><br><span class="line">        <span class="keyword">int</span> result = maximumResult(numbers);</span><br><span class="line">        System.out.println(result);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maximumResult</span><span class="params">(<span class="keyword">int</span>[] numbers)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (numbers == <span class="keyword">null</span> || numbers.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> length = numbers.length;</span><br><span class="line">        <span class="keyword">int</span>[] sum = <span class="keyword">new</span> <span class="keyword">int</span>[length + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[length + <span class="number">1</span>][length + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= length; i ++) &#123;</span><br><span class="line">            sum[i] = sum[i - <span class="number">1</span>] + numbers[i - <span class="number">1</span>];</span><br><span class="line">            dp[i][<span class="number">1</span>] = sum[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> result = dp[length][<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> tmpLen = <span class="number">2</span>; tmpLen &lt;= length; tmpLen ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> partNumber = <span class="number">2</span>; partNumber &lt;= tmpLen; partNumber ++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> lastPartStartIndex = partNumber; lastPartStartIndex &lt; tmpLen; lastPartStartIndex++) &#123;</span><br><span class="line"><span class="comment">//                    这里需要注意的是 dp[lastPartStartIndex - 1][partNumber - 1], lastPartStartIndex 该变量代表了前 lastPartStartIndex 个数字,因为所有坐标是从1开始的.</span></span><br><span class="line">                    dp[tmpLen][partNumber] = Math.max(dp[tmpLen][partNumber], dp[lastPartStartIndex - <span class="number">1</span>][partNumber - <span class="number">1</span>] * (sum[tmpLen] - sum[lastPartStartIndex - <span class="number">1</span>]));</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (tmpLen == length) &#123;</span><br><span class="line">                    result = Math.max(result, dp[tmpLen][partNumber]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-Find-Min-or-Target-in-Rotated-Array"><a href="#5-Find-Min-or-Target-in-Rotated-Array" class="headerlink" title="5. Find Min or Target in Rotated Array"></a>5. Find Min or Target in Rotated Array</h3><p>Code</p>
<p>在找min时：在求mid的时候, left + (right - left) / 2;<br>在找target时：深刻理解 target 和 nums[mid] 比较的原因！</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">findMinIndex</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (nums[left] &lt; nums[right]) &#123;</span><br><span class="line">                right = mid - <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (nums[mid] &gt; nums[right]) &#123;</span><br><span class="line">                    left = mid + <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    right = mid;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> left;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] nums = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">0</span>&#125;;</span><br><span class="line">        <span class="keyword">int</span> res = findMinIndex(nums);</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] nums = &#123;<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">9</span>&#125;;</span><br><span class="line"><span class="comment">//        int res = findMin(nums);</span></span><br><span class="line">        <span class="keyword">int</span> res = findTargetIndex(nums, <span class="number">10</span>);</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findMin</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">null</span> == nums || nums.length &lt; <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (nums[left] &gt; nums[right]) &#123;</span><br><span class="line">                <span class="keyword">if</span> (nums[mid] &gt; nums[right]) &#123;</span><br><span class="line">                    left = mid + <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    right = mid;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                right = mid - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums[left];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findMinContainsDuplicate</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (nums[left] &gt; nums[right]) &#123;</span><br><span class="line">                <span class="keyword">if</span> (nums[mid] &lt; nums[right]) &#123;</span><br><span class="line">                    right = mid;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    left = mid + <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[left] &lt; nums[right])&#123;</span><br><span class="line">                right = mid;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                right --;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums[left];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findTargetIndex</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (nums[mid] == target) <span class="keyword">return</span> mid;</span><br><span class="line">            <span class="keyword">if</span> (nums[mid] &gt; target) &#123;</span><br><span class="line">                <span class="keyword">if</span> (nums[left] &gt; nums[right] &amp;&amp; nums[mid] &gt; nums[right] &amp;&amp; target &lt;= nums[right]) &#123;</span><br><span class="line">                    left = mid + <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    right = mid - <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (nums[left] &gt; nums[right] &amp;&amp; nums[mid] &lt; nums[left] &amp;&amp; target &gt;= nums[left]) &#123;</span><br><span class="line">                    right = mid - <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    left = mid + <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums[left] == target ? left : -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-Frog-Jump"><a href="#6-Frog-Jump" class="headerlink" title="6. Frog Jump"></a>6. Frog Jump</h3><p>Code</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[][] testCases = &#123;&#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">12</span>,<span class="number">17</span>&#125;, &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">11</span>&#125;&#125;;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] stones : testCases) &#123;</span><br><span class="line">            <span class="keyword">boolean</span> result = canJumpToTheEnd(stones);</span><br><span class="line">            System.out.println(result);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canJumpToTheEnd</span><span class="params">(<span class="keyword">int</span>[] stones)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (stones == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        HashMap&lt;Integer, HashSet&lt;Integer&gt;&gt; nextPosition = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> position : stones) nextPosition.put(position, <span class="keyword">new</span> HashSet&lt;Integer&gt;());</span><br><span class="line">        nextPosition.get(<span class="number">0</span>).add(<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">int</span> destination = stones[stones.length - <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> pos : stones) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> step : nextPosition.get(pos)) &#123;</span><br><span class="line">                <span class="keyword">int</span> dest = pos + step;</span><br><span class="line">                <span class="keyword">if</span> (dest == destination) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                <span class="keyword">if</span> (nextPosition.containsKey(dest)) &#123;</span><br><span class="line">                    nextPosition.get(dest).add(step);</span><br><span class="line">                    nextPosition.get(dest).add(step + <span class="number">1</span>);</span><br><span class="line">                    <span class="keyword">if</span> (step &gt; <span class="number">1</span>) nextPosition.get(dest).add(step - <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-Course-Schedule-Two"><a href="#7-Course-Schedule-Two" class="headerlink" title="7. Course Schedule Two"></a>7. Course Schedule Two</h3><p>注意点：可能在输入的prerequisites数组中有重复的，所以在初始化map的时候需要检验是否已经录入改该prerequisite。</p>
<p>Code</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       <span class="keyword">int</span>[][] testCase1 = &#123;&#123;<span class="number">1</span>,<span class="number">0</span>&#125;, &#123;<span class="number">2</span>,<span class="number">0</span>&#125;,&#123;<span class="number">3</span>,<span class="number">1</span>&#125;,&#123;<span class="number">3</span>,<span class="number">2</span>&#125;&#125;;</span><br><span class="line">       <span class="keyword">int</span>[][] testCase2 = &#123;&#123;<span class="number">5</span>,<span class="number">8</span>&#125;, &#123;<span class="number">3</span>,<span class="number">5</span>&#125;,&#123;<span class="number">1</span>,<span class="number">9</span>&#125;,&#123;<span class="number">4</span>,<span class="number">5</span>&#125;,&#123;<span class="number">0</span>,<span class="number">2</span>&#125;,&#123;<span class="number">1</span>,<span class="number">9</span>&#125;,&#123;<span class="number">7</span>,<span class="number">8</span>&#125;,&#123;<span class="number">4</span>,<span class="number">9</span>&#125;&#125;;</span><br><span class="line">       <span class="keyword">int</span>[] result = findOrder(<span class="number">10</span>, testCase2);</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i : result) &#123;</span><br><span class="line">           System.out.println(i);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">int</span>[] findOrder(<span class="keyword">int</span> numCourses, <span class="keyword">int</span>[][] prerequisites) &#123;</span><br><span class="line">       <span class="keyword">int</span>[] indegree = <span class="keyword">new</span> <span class="keyword">int</span>[numCourses];</span><br><span class="line">       HashMap&lt;Integer, HashSet&lt;Integer&gt;&gt; prerequisiteMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numCourses; i ++) &#123;</span><br><span class="line">           prerequisiteMap.put(i, <span class="keyword">new</span> HashSet&lt;&gt;());</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span>[] prerequisite : prerequisites) &#123;</span><br><span class="line">           <span class="keyword">if</span>(prerequisiteMap.get(prerequisite[<span class="number">1</span>]).add(prerequisite[<span class="number">0</span>])) &#123;</span><br><span class="line">               indegree[prerequisite[<span class="number">0</span>]] ++;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[numCourses];</span><br><span class="line">       <span class="keyword">int</span> resultIndex = <span class="number">0</span>;</span><br><span class="line">       Queue&lt;Integer&gt; nextScheduledCourse = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numCourses; i ++) &#123;</span><br><span class="line">           <span class="keyword">if</span> (indegree[i] == <span class="number">0</span>) nextScheduledCourse.add(i);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">while</span> (! nextScheduledCourse.isEmpty()) &#123;</span><br><span class="line">           <span class="keyword">int</span> size = nextScheduledCourse.size();</span><br><span class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i ++) &#123;</span><br><span class="line">               <span class="keyword">int</span> prerequisiteCouse = nextScheduledCourse.poll();</span><br><span class="line">               result[resultIndex ++] = prerequisiteCouse;</span><br><span class="line">               <span class="keyword">for</span> (<span class="keyword">int</span> nextCourse : prerequisiteMap.get(prerequisiteCouse)) &#123;</span><br><span class="line">                   indegree[nextCourse] --;</span><br><span class="line">                   <span class="keyword">if</span> (indegree[nextCourse] == <span class="number">0</span>) &#123;</span><br><span class="line">                       nextScheduledCourse.offer(nextCourse);</span><br><span class="line">                   &#125;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> resultIndex == numCourses ? result : <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">0</span>];</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h3 id="8-Restore-IP-Address"><a href="#8-Restore-IP-Address" class="headerlink" title="8. Restore IP Address"></a>8. Restore IP Address</h3><p>用四重循环方法做的时候需要注意循环边界条件：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">restoreIpAddresses</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">        <span class="keyword">if</span> (s == <span class="keyword">null</span> || s.length() &lt; <span class="number">4</span> || s.length() &gt; <span class="number">12</span>) <span class="keyword">return</span> result;</span><br><span class="line">        <span class="keyword">int</span> len = s.length();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> firstEnd = <span class="number">0</span>; firstEnd &lt; <span class="number">3</span> &amp;&amp; firstEnd &lt; len - <span class="number">3</span>; firstEnd ++) &#123;</span><br><span class="line">            String first = s.substring(<span class="number">0</span>, firstEnd + <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span> (Integer.valueOf(first) &gt; <span class="number">255</span> || (first.length() &gt; <span class="number">1</span> &amp;&amp; first.charAt(<span class="number">0</span>) == <span class="string">'0'</span>)) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> secondEnd = firstEnd + <span class="number">1</span>; secondEnd &lt;= firstEnd + <span class="number">3</span> &amp;&amp; secondEnd &lt; len - <span class="number">2</span>; secondEnd ++) &#123;</span><br><span class="line">                String second = s.substring(firstEnd + <span class="number">1</span>, secondEnd + <span class="number">1</span>);</span><br><span class="line">                <span class="comment">// System.out.println(second);</span></span><br><span class="line">                <span class="keyword">if</span> (Integer.valueOf(second) &gt; <span class="number">255</span> || (second.length() &gt; <span class="number">1</span> &amp;&amp; second.charAt(<span class="number">0</span>) == <span class="string">'0'</span>)) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> thirdEnd = secondEnd + <span class="number">1</span>; thirdEnd &lt;= secondEnd + <span class="number">3</span> &amp;&amp; thirdEnd &lt; len - <span class="number">1</span>; thirdEnd ++) &#123;</span><br><span class="line">                    String third = s.substring(secondEnd + <span class="number">1</span>, thirdEnd + <span class="number">1</span>);</span><br><span class="line">                    <span class="keyword">if</span> (Integer.valueOf(third) &gt; <span class="number">255</span> || (third.length() &gt; <span class="number">1</span> &amp;&amp; third.charAt(<span class="number">0</span>) == <span class="string">'0'</span>)) <span class="keyword">continue</span>;</span><br><span class="line">                    String fourth = s.substring(thirdEnd + <span class="number">1</span>);</span><br><span class="line">                    <span class="keyword">if</span> (Integer.valueOf(fourth) &gt; <span class="number">255</span> || (fourth.length() &gt; <span class="number">1</span> &amp;&amp; fourth.charAt(<span class="number">0</span>) == <span class="string">'0'</span>)) <span class="keyword">continue</span>;</span><br><span class="line">                    result.add(first + <span class="string">"."</span> + second + <span class="string">"."</span> + third + <span class="string">"."</span> + fourth);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String[] ips = &#123;<span class="string">"255255255255"</span>, <span class="string">"25525511135"</span>&#125;;</span><br><span class="line">        <span class="keyword">for</span> (String ip : ips) &#123;</span><br><span class="line">            ArrayList&lt;String&gt; resultSol1 = restoreIP(ip);</span><br><span class="line">            ArrayList&lt;String&gt; resultSol2 = restoreIPSolutionTwo(ip);</span><br><span class="line">            System.out.println(<span class="string">"result is"</span>);</span><br><span class="line">            <span class="keyword">for</span> (String res : resultSol2) &#123;</span><br><span class="line">                System.out.print(res + <span class="string">"   "</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ArrayList&lt;String&gt; <span class="title">restoreIP</span><span class="params">(String ip)</span> </span>&#123;</span><br><span class="line">        ArrayList&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (ip.length() &gt; <span class="number">12</span> || ip.length() &lt; <span class="number">4</span>) <span class="keyword">return</span> result;</span><br><span class="line">        dfs(result, <span class="keyword">new</span> ArrayList&lt;&gt;(), ip, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(ArrayList&lt;String&gt; result, ArrayList&lt;String&gt; tmp, String ip, <span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (index == <span class="number">4</span> &amp;&amp; ip.length() == <span class="number">0</span>) &#123;</span><br><span class="line">            result.add(String.join(<span class="string">"."</span>, tmp));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">3</span> &amp;&amp; i &lt;= ip.length(); i ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i &gt; <span class="number">1</span> &amp;&amp; ip.charAt(<span class="number">0</span>) == <span class="string">'0'</span>) <span class="keyword">break</span>;</span><br><span class="line">            String curPart = ip.substring(<span class="number">0</span>, i);</span><br><span class="line">            <span class="keyword">if</span> (Integer.valueOf(curPart) &gt; <span class="number">255</span>) <span class="keyword">break</span>;</span><br><span class="line">            tmp.add(ip.substring(<span class="number">0</span>, i));</span><br><span class="line">            dfs(result, tmp, ip.substring(i), index + <span class="number">1</span>);</span><br><span class="line">            tmp.remove(tmp.size() - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ArrayList&lt;String&gt; <span class="title">restoreIPSolutionTwo</span><span class="params">(String ip)</span> </span>&#123;</span><br><span class="line">        ArrayList&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> ipLen = ip.length();</span><br><span class="line">        <span class="keyword">if</span> (ipLen &gt; <span class="number">12</span> || ipLen &lt; <span class="number">4</span>) <span class="keyword">return</span> result;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> firstEndIndex = <span class="number">1</span>; firstEndIndex &lt; <span class="number">4</span> &amp;&amp; firstEndIndex &lt; ipLen - <span class="number">2</span>; firstEndIndex ++) &#123;</span><br><span class="line">            String firstPart = ip.substring(<span class="number">0</span>, firstEndIndex);</span><br><span class="line">            <span class="keyword">if</span> (! isValid(firstPart)) <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> secondEndIndex = firstEndIndex + <span class="number">1</span>; secondEndIndex &lt; firstEndIndex + <span class="number">4</span> &amp;&amp; secondEndIndex &lt; ipLen - <span class="number">1</span>; secondEndIndex ++) &#123;</span><br><span class="line">                String secondPart = ip.substring(firstEndIndex, secondEndIndex);</span><br><span class="line">                <span class="keyword">if</span> (! isValid(secondPart)) <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> thirdEndIndex = secondEndIndex + <span class="number">1</span>; thirdEndIndex &lt; secondEndIndex + <span class="number">4</span> &amp;&amp; thirdEndIndex &lt; ipLen; thirdEndIndex ++) &#123;</span><br><span class="line">                    String thirdPart = ip.substring(secondEndIndex, thirdEndIndex);</span><br><span class="line">                    <span class="keyword">if</span> (! isValid(thirdPart)) <span class="keyword">break</span>;</span><br><span class="line">                    String fourthPart = ip.substring(thirdEndIndex);</span><br><span class="line">                    <span class="keyword">if</span> (isValid(fourthPart)) &#123;</span><br><span class="line">                        result.add(firstPart + <span class="string">"."</span> + secondPart + <span class="string">"."</span> + thirdPart + <span class="string">"."</span> + fourthPart);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isValid</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> ((s.length() &gt; <span class="number">1</span> &amp;&amp; s.charAt(<span class="number">0</span>) == <span class="string">'0'</span>) || Integer.valueOf(s) &gt; <span class="number">255</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="9-XML-Parser"><a href="#9-XML-Parser" class="headerlink" title="9. XML Parser"></a>9. XML Parser</h3><p>最后直接返回root就可以了，而不必返回stack.peek()，事实上这样也会出错。</p>
<p>Code</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       ArrayList&lt;String&gt; input = <span class="keyword">new</span> ArrayList&lt;&gt;(Arrays.asList(<span class="string">"open,story"</span>,</span><br><span class="line">               <span class="string">"open,id"</span>,</span><br><span class="line">               <span class="string">"inner,1234"</span>,</span><br><span class="line">               <span class="string">"close,id"</span>,</span><br><span class="line">               <span class="string">"open,snaps"</span>,</span><br><span class="line">               <span class="string">"open,snap"</span>,</span><br><span class="line">               <span class="string">"close,snap"</span>,</span><br><span class="line">               <span class="string">"open,snap"</span>,</span><br><span class="line">               <span class="string">"close,snap"</span>,</span><br><span class="line">               <span class="string">"open,snap"</span>,</span><br><span class="line">               <span class="string">"close,snap"</span>,</span><br><span class="line">               <span class="string">"open,snap"</span>,</span><br><span class="line">               <span class="string">"close,snap"</span>,</span><br><span class="line">               <span class="string">"close,snaps"</span>,</span><br><span class="line">               <span class="string">"close,story"</span>));</span><br><span class="line">       XMLNode root = parser(input);</span><br><span class="line">       print(root, <span class="number">0</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">(XMLNode root, <span class="keyword">int</span> level)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (root == <span class="keyword">null</span>) <span class="keyword">return</span>;</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; level; i ++) System.out.print(<span class="string">" "</span>);</span><br><span class="line">       <span class="keyword">if</span> (root.children.size() == <span class="number">0</span>) &#123;</span><br><span class="line">           System.out.println(<span class="string">"&lt;"</span> + root.tagName + <span class="string">"&gt;"</span> + root.value + <span class="string">"&lt;/"</span> + root.tagName + <span class="string">"&gt;"</span>);</span><br><span class="line">       &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">           System.out.println(<span class="string">"&lt;"</span> + root.tagName + <span class="string">"&gt;"</span>);</span><br><span class="line">           <span class="keyword">for</span> (XMLNode child : root.children) &#123;</span><br><span class="line">               print(child, level + <span class="number">1</span>);</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; level; i ++) System.out.print(<span class="string">" "</span>);</span><br><span class="line">           System.out.println(<span class="string">"&lt;/"</span> + root.tagName + <span class="string">"&gt;"</span>);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="class"><span class="keyword">class</span> <span class="title">XMLNode</span> </span>&#123;</span><br><span class="line">       String type;</span><br><span class="line">       String tagName;</span><br><span class="line">       String value = <span class="string">""</span>;</span><br><span class="line">       ArrayList&lt;XMLNode&gt; children;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="title">XMLNode</span><span class="params">(String type)</span> </span>&#123;</span><br><span class="line">           <span class="keyword">this</span>.type = type;</span><br><span class="line">           <span class="keyword">this</span>.children = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> XMLNode <span class="title">parser</span><span class="params">(ArrayList&lt;String&gt; input)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (input == <span class="keyword">null</span> || input.size() == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">       Stack&lt;XMLNode&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">       String[] firstNodeValues = input.get(<span class="number">0</span>).split(<span class="string">","</span>);</span><br><span class="line">       XMLNode root = <span class="keyword">new</span> XMLNode(firstNodeValues[<span class="number">0</span>]);</span><br><span class="line">       root.tagName = firstNodeValues[<span class="number">1</span>];</span><br><span class="line">       stack.push(root);</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; input.size(); i ++) &#123;</span><br><span class="line">           String str = input.get(i);</span><br><span class="line">           String[] strs = str.split(<span class="string">","</span>);</span><br><span class="line">           <span class="keyword">if</span> (strs[<span class="number">0</span>].equals(<span class="string">"inner"</span>)) &#123;</span><br><span class="line">               stack.peek().value = strs[<span class="number">1</span>];</span><br><span class="line">           &#125; <span class="keyword">else</span> <span class="keyword">if</span> (strs[<span class="number">0</span>].equals(<span class="string">"open"</span>)) &#123;</span><br><span class="line">               XMLNode node = <span class="keyword">new</span> XMLNode(strs[<span class="number">0</span>]);</span><br><span class="line">               node.tagName = strs[<span class="number">1</span>];</span><br><span class="line">               <span class="keyword">if</span> (! stack.isEmpty()) &#123;</span><br><span class="line">                   stack.peek().children.add(node);</span><br><span class="line">               &#125;</span><br><span class="line">               stack.push(node);</span><br><span class="line">           &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">               stack.pop();</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> root;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h3 id="10-24-Game"><a href="#10-24-Game" class="headerlink" title="10. 24 Game"></a>10. 24 Game</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[][] nums = &#123;&#123;<span class="number">1</span>,<span class="number">4</span>,<span class="number">5</span>, <span class="number">9</span>&#125;, &#123;<span class="number">4</span>,<span class="number">1</span>,<span class="number">5</span>,<span class="number">6</span>&#125;, &#123;<span class="number">2</span>,<span class="number">3</span>,<span class="number">10</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">8</span>&#125;, &#123;<span class="number">4</span>,<span class="number">2</span>,<span class="number">8</span>,<span class="number">9</span>&#125;, &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;&#125;;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] num : nums) &#123;</span><br><span class="line">            <span class="keyword">boolean</span> result = gameSolution(num);</span><br><span class="line">            System.out.println(<span class="string">"result is:  "</span> + result);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">gameSolution</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        Arrays.sort(nums);</span><br><span class="line">        <span class="keyword">return</span> computerValue(nums, <span class="keyword">new</span> ArrayList&lt;&gt;(), <span class="keyword">new</span> <span class="keyword">boolean</span>[nums.length]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">computerValue</span><span class="params">(<span class="keyword">int</span>[] nums, ArrayList&lt;Integer&gt; reorderedNumbers, <span class="keyword">boolean</span>[] visited)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (reorderedNumbers.size() == nums.length) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> value : generatePartValue(reorderedNumbers, <span class="number">0</span>, nums.length - <span class="number">1</span>)) &#123;</span><br><span class="line">                <span class="keyword">if</span> (value == <span class="number">24</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (visited[i] || i &gt; <span class="number">0</span> &amp;&amp; nums[i] == nums[i - <span class="number">1</span>] &amp;&amp; !visited[i - <span class="number">1</span>]) <span class="keyword">continue</span>;</span><br><span class="line">            visited[i] = <span class="keyword">true</span>;</span><br><span class="line">            reorderedNumbers.add(nums[i]);</span><br><span class="line">            <span class="keyword">if</span> (computerValue(nums, reorderedNumbers, visited)) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            reorderedNumbers.remove(reorderedNumbers.size() - <span class="number">1</span>);</span><br><span class="line">            visited[i] = <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> HashSet&lt;Integer&gt; <span class="title">generatePartValue</span><span class="params">(ArrayList&lt;Integer&gt; nums, <span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">        HashSet&lt;Integer&gt; result = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (start == end) &#123;</span><br><span class="line">            result.add(nums.get(start));</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = start; index &lt; end; index ++) &#123;</span><br><span class="line">            HashSet&lt;Integer&gt; lefts = generatePartValue(nums, start, index);</span><br><span class="line">            HashSet&lt;Integer&gt; rights = generatePartValue(nums, index + <span class="number">1</span>, end);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> left : lefts) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> right : rights) &#123;</span><br><span class="line">                    result.add(left + right);</span><br><span class="line">                    result.add(left - right);</span><br><span class="line">                    result.add(left * right);</span><br><span class="line">                    <span class="keyword">if</span> (right != <span class="number">0</span>) result.add(left / right);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="11-Detect-Cycle-in-Graph"><a href="#11-Detect-Cycle-in-Graph" class="headerlink" title="11. Detect Cycle in Graph"></a>11. Detect Cycle in Graph</h3><p>Code</p>
<p>需要注意的是需要两个<code>set</code>，一个用来保存全局访问节点，一个用来保存当前路径走过的节点，如果在走路径的时候发现了全局已经访问的节点，则推出此分支的搜索，如果碰到当前路径走过的节点，则证明图中有环。</p>
<p>注意在dfs中要从path visited中移除访问过的节点</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">       <span class="keyword">int</span> label;</span><br><span class="line">       HashSet&lt;Node&gt; neighbours;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(<span class="keyword">int</span> label)</span> </span>&#123;</span><br><span class="line">           <span class="keyword">this</span>.label = label;</span><br><span class="line">           <span class="keyword">this</span>.neighbours = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">detectedCycle</span><span class="params">(ArrayList&lt;Node&gt; graph)</span> </span>&#123;</span><br><span class="line">       HashSet&lt;Node&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">       <span class="keyword">for</span> (Node node : graph) &#123;</span><br><span class="line">           <span class="keyword">if</span> (visited.contains(node)) <span class="keyword">continue</span>;</span><br><span class="line">           visited.add(node);</span><br><span class="line">           <span class="keyword">if</span> (dfs(node, <span class="keyword">new</span> HashSet&lt;Node&gt;(), visited)) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">dfs</span><span class="params">(Node node, HashSet&lt;Node&gt; pathVisited, HashSet&lt;Node&gt; globalVisited)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (pathVisited.contains(node)) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">       <span class="keyword">if</span> (globalVisited.contains(node)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">       pathVisited.add(node);</span><br><span class="line">       globalVisited.add(node);</span><br><span class="line">       <span class="keyword">for</span> (Node neighbour : node.neighbours) &#123;</span><br><span class="line">           <span class="keyword">if</span>(dfs(neighbour, pathVisited, globalVisited)) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       pathVisited.remove(node);</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h3 id="12-Bipart-Graph"><a href="#12-Bipart-Graph" class="headerlink" title="12. Bipart Graph"></a>12. Bipart Graph</h3><p>Code</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">bipartGraph</span><span class="params">(ArrayList&lt;Node&gt; graph)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (graph == <span class="keyword">null</span> || graph.size() &lt; <span class="number">3</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">       HashSet&lt;Node&gt; color1 = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">       HashSet&lt;Node&gt; color2 = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">       <span class="keyword">for</span> (Node node : graph) &#123;</span><br><span class="line">           <span class="keyword">if</span> (!color1.contains(node) &amp;&amp; !color2.contains(node)) &#123;</span><br><span class="line">               <span class="keyword">if</span> (paintColor(node, color1, color2) == <span class="keyword">false</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">paintColor</span><span class="params">(Node node, HashSet&lt;Node&gt; color1, HashSet&lt;Node&gt; color2)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (color2.contains(node)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">       color1.add(node);</span><br><span class="line">       <span class="keyword">for</span> (Node neighbour : node.neighbours) &#123;</span><br><span class="line">           <span class="keyword">if</span> (color1.contains(neighbour)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">           <span class="keyword">if</span> (paintColor(neighbour, color2, color1) == <span class="keyword">false</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h3 id="13-Toggle"><a href="#13-Toggle" class="headerlink" title="13. Toggle"></a>13. Toggle</h3><p>在hashmap中insert和delete时，不要忘记跟新hashmap。</p>
<p>Code</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       Toggle toggleInstance = <span class="keyword">new</span> Toggle();</span><br><span class="line">       toggleInstance.toggle(<span class="string">"a"</span>);</span><br><span class="line">       toggleInstance.toggle(<span class="string">"b"</span>);</span><br><span class="line">       toggleInstance.toggle(<span class="string">"c"</span>);</span><br><span class="line">       toggleInstance.toggle(<span class="string">"a"</span>);</span><br><span class="line">       toggleInstance.toggle(<span class="string">"c"</span>);</span><br><span class="line">       toggleInstance.toggle(<span class="string">"c"</span>);</span><br><span class="line">       toggleInstance.toggle(<span class="string">"a"</span>);</span><br><span class="line">       ArrayList&lt;String&gt; result = toggleInstance.getSelectedList();</span><br><span class="line">       <span class="keyword">for</span> (String s : result) &#123;</span><br><span class="line">           System.out.println(s);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">       Node pre, next;</span><br><span class="line">       String val;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="title">Node</span> <span class="params">(String val)</span> </span>&#123;</span><br><span class="line">           <span class="keyword">this</span>.val = val;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   Node head, tail;</span><br><span class="line">   HashMap&lt;String, Node&gt; mp;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">Toggle</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       mp = <span class="keyword">new</span> HashMap&lt;String, Node&gt;();</span><br><span class="line">       head = <span class="keyword">new</span> Node(<span class="string">" "</span>);</span><br><span class="line">       tail = <span class="keyword">new</span> Node(<span class="string">" "</span>);</span><br><span class="line">       head.next = tail;</span><br><span class="line">       tail.pre = head;</span><br><span class="line">       head.pre = <span class="keyword">null</span>;</span><br><span class="line">       tail.next = <span class="keyword">null</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">toggle</span><span class="params">(String username)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (mp.containsKey(username)) deleteNode(username);</span><br><span class="line">       <span class="keyword">else</span> insertNode(username);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> ArrayList&lt;String&gt; <span class="title">getSelectedList</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       ArrayList&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">       Node tmp = head.next;</span><br><span class="line">       <span class="keyword">while</span> (tmp != tail) &#123;</span><br><span class="line">           result.add(tmp.val);</span><br><span class="line">           tmp = tmp.next;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> result;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">deleteNode</span><span class="params">(String username)</span> </span>&#123;</span><br><span class="line">       Node cur = mp.get(username);</span><br><span class="line">       cur.pre.next = cur.next;</span><br><span class="line">       cur.next.pre = cur.pre;</span><br><span class="line">       cur = <span class="keyword">null</span>;</span><br><span class="line">       mp.remove(username);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">insertNode</span><span class="params">(String username)</span> </span>&#123;</span><br><span class="line">       Node insertedNode = <span class="keyword">new</span> Node(username);</span><br><span class="line">       insertedNode.pre = tail.pre;</span><br><span class="line">       insertedNode.next = tail;</span><br><span class="line">       tail.pre.next = insertedNode;</span><br><span class="line">       tail.pre = insertedNode;</span><br><span class="line">       mp.put(username, insertedNode);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h3 id="14-find-String-combined-by-given-char"><a href="#14-find-String-combined-by-given-char" class="headerlink" title="14. find String combined by given char"></a>14. find String combined by given char</h3><p>Link: <a href="http://www.1point3acres.com/bbs/thread-156347-1-1.html" target="_blank" rel="noopener">http://www.1point3acres.com/bbs/thread-156347-1-1.html</a><br>因为LZ说待查找的String是million级别的，所以还是需要对给定的String数组进行建Trie，因为考虑假如有1万个String是以10万个a开头的，那么在利用trie数据结构，我们只需要判断一次10万个a是否满足情况，而在没有trie的情况下，我们则需要对每个都需要判断。</p>
<p>Code</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">char</span>[] array = &#123;<span class="string">'a'</span>,<span class="string">'c'</span>,<span class="string">'a'</span>,<span class="string">'r'</span>,<span class="string">'t'</span>, <span class="string">'s'</span>, <span class="string">'c'</span>&#125;;</span><br><span class="line">        String[] strs = &#123;<span class="string">"a"</span>,<span class="string">"aa"</span>,<span class="string">"cat"</span>,<span class="string">"cats"</span>,<span class="string">"aaa"</span>,<span class="string">"cc"</span>&#125;;</span><br><span class="line">        ArrayList&lt;String&gt; result = findCombination(array, strs);</span><br><span class="line">        <span class="keyword">for</span> (String str : result) &#123;</span><br><span class="line">            System.out.println(str);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ArrayList&lt;String&gt; <span class="title">findCombination</span><span class="params">(<span class="keyword">char</span>[] array, String[] strs)</span> </span>&#123;</span><br><span class="line">        ArrayList&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (array == <span class="keyword">null</span> || strs == <span class="keyword">null</span> || array.length == <span class="number">0</span> || strs.length == <span class="number">0</span>) <span class="keyword">return</span> result;</span><br><span class="line">        TrieNode root = buildTrieTree(strs);</span><br><span class="line">        HashMap&lt;Character, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> ch : array) &#123;</span><br><span class="line">            map.put(ch, map.getOrDefault(ch, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        dfs(result, <span class="string">""</span>, root, map);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">TrieNode</span> </span>&#123;</span><br><span class="line">        <span class="keyword">char</span> val;</span><br><span class="line">        <span class="keyword">boolean</span> isWord;</span><br><span class="line">        HashMap&lt;Character, TrieNode&gt; children;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">TrieNode</span><span class="params">(<span class="keyword">char</span> val)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.val = val;</span><br><span class="line">            <span class="keyword">this</span>.isWord = <span class="keyword">false</span>;</span><br><span class="line">            <span class="keyword">this</span>.children = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> TrieNode <span class="title">buildTrieTree</span><span class="params">(String[] strs)</span> </span>&#123;</span><br><span class="line">        TrieNode root = <span class="keyword">new</span> TrieNode(<span class="string">' '</span>);</span><br><span class="line">        <span class="keyword">for</span> (String str : strs) &#123;</span><br><span class="line">            insertString(root, str);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">insertString</span><span class="params">(TrieNode root, String str)</span> </span>&#123;</span><br><span class="line">        TrieNode tmpNode = root;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> nodeValue : str.toCharArray()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (! tmpNode.children.containsKey(nodeValue)) &#123;</span><br><span class="line">                tmpNode.children.put(nodeValue, <span class="keyword">new</span> TrieNode(nodeValue));</span><br><span class="line">            &#125;</span><br><span class="line">            tmpNode = tmpNode.children.get(nodeValue);</span><br><span class="line">        &#125;</span><br><span class="line">        tmpNode.isWord = <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(ArrayList&lt;String&gt; result, String tmpPath, TrieNode root, HashMap&lt;Character, Integer&gt; map)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root.isWord) &#123;</span><br><span class="line">            result.add(tmpPath);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> child : root.children.keySet()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (! map.containsKey(child)) <span class="keyword">continue</span>;</span><br><span class="line">            map.put(child, map.get(child) - <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span> (map.get(child) &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                dfs(result, tmpPath + child, root.children.get(child), map);</span><br><span class="line">            &#125;</span><br><span class="line">            map.put(child, map.get(child) + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">```    </span><br><span class="line">这里同时也给出一个对给定的<span class="keyword">char</span>数组可以组成的String集合做Trie tree的处理的实现方法。</span><br><span class="line">这里有两点需要注意：</span><br><span class="line"><span class="number">1</span>. 在Trie Tree中搜索String时临界点的处理；</span><br><span class="line"><span class="number">2</span>. 建Trie Tree时可以优化。</span><br><span class="line">注意：该方法不适合这道题目，只是作为参考。</span><br><span class="line"></span><br><span class="line">```Java</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ArrayList&lt;String&gt; <span class="title">findCombination</span><span class="params">(<span class="keyword">char</span>[] array, String[] strs)</span> </span>&#123;</span><br><span class="line">        ArrayList&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        TrieNode root = buildTrie(array);</span><br><span class="line">        <span class="keyword">for</span> (String str : strs) &#123;</span><br><span class="line">            <span class="keyword">if</span> (searchString(root, str)) result.add(str);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">searchString</span><span class="params">(TrieNode root, String str)</span> </span>&#123;</span><br><span class="line">        TrieNode tmpNode = root;</span><br><span class="line">        <span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (tmpNode != <span class="keyword">null</span> &amp;&amp; index &lt; str.length()) &#123;</span><br><span class="line">            <span class="keyword">char</span> curChar = str.charAt(index ++);</span><br><span class="line">            tmpNode = tmpNode.children.get(curChar);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> index == str.length() &amp;&amp; tmpNode != <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">TrieNode</span> </span>&#123;</span><br><span class="line">        <span class="keyword">char</span> val;</span><br><span class="line">        HashMap&lt;Character, TrieNode&gt; children;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">TrieNode</span><span class="params">(<span class="keyword">char</span> val)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.val = val;</span><br><span class="line">            children = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> TrieNode <span class="title">buildTrie</span><span class="params">(<span class="keyword">char</span>[] array)</span> </span>&#123;</span><br><span class="line">        TrieNode root = <span class="keyword">new</span> TrieNode(<span class="string">' '</span>);</span><br><span class="line">        <span class="keyword">if</span> (array == <span class="keyword">null</span> || array.length == <span class="number">0</span>) <span class="keyword">return</span> root;</span><br><span class="line">        Arrays.sort(array);</span><br><span class="line">        dfs(array, <span class="keyword">new</span> <span class="keyword">boolean</span>[array.length], root);</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">char</span>[] array, <span class="keyword">boolean</span>[] visited, TrieNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.length; i ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (visited[i] == <span class="keyword">false</span>) &#123;</span><br><span class="line">                visited[i] = <span class="keyword">true</span>;</span><br><span class="line">                TrieNode child = <span class="keyword">new</span> TrieNode(array[i]);</span><br><span class="line">                root.children.put(array[i], child);</span><br><span class="line">                dfs(array, visited, child);</span><br><span class="line">                visited[i] = <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span> (i + <span class="number">1</span> &lt; array.length &amp;&amp; array[i] == array[i + <span class="number">1</span>] &amp;&amp; visited[i] == <span class="keyword">false</span>) i ++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="15-Detect-deadlock-in-log-file"><a href="#15-Detect-deadlock-in-log-file" class="headerlink" title="15. Detect deadlock in log file"></a>15. Detect deadlock in log file</h3><p>下面解法中的detect cycle不正确，应该是有两个set来做，参见11题。</p>
<p>Code<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">       <span class="keyword">int</span> program_id;</span><br><span class="line">       Set&lt;Node&gt; children;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">           <span class="keyword">this</span>.program_id = id;</span><br><span class="line">           <span class="keyword">this</span>.children = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="class"><span class="keyword">class</span> <span class="title">LogEntry</span> </span>&#123;</span><br><span class="line">       <span class="keyword">int</span> logId;</span><br><span class="line">       <span class="keyword">int</span> mutexId;</span><br><span class="line">       <span class="keyword">boolean</span> act;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="title">LogEntry</span><span class="params">(<span class="keyword">int</span> logId, <span class="keyword">int</span> mutexId, <span class="keyword">boolean</span> act)</span> </span>&#123;</span><br><span class="line">           <span class="keyword">this</span>.logId = logId;</span><br><span class="line">           <span class="keyword">this</span>.mutexId = mutexId;</span><br><span class="line">           <span class="keyword">this</span>.act = act;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       List&lt;LogEntry&gt; logs = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">       logs.add(<span class="keyword">new</span> LogEntry(<span class="number">1</span>,<span class="number">1</span>,<span class="keyword">true</span>));</span><br><span class="line">       logs.add(<span class="keyword">new</span> LogEntry(<span class="number">2</span>,<span class="number">2</span>,<span class="keyword">true</span>));</span><br><span class="line">       logs.add(<span class="keyword">new</span> LogEntry(<span class="number">3</span>,<span class="number">1</span>,<span class="keyword">true</span>));</span><br><span class="line">       logs.add(<span class="keyword">new</span> LogEntry(<span class="number">2</span>,<span class="number">1</span>,<span class="keyword">true</span>));</span><br><span class="line">       logs.add(<span class="keyword">new</span> LogEntry(<span class="number">1</span>,<span class="number">2</span>,<span class="keyword">true</span>));</span><br><span class="line">       logs.add(<span class="keyword">new</span> LogEntry(<span class="number">1</span>,<span class="number">1</span>,<span class="keyword">false</span>));</span><br><span class="line">       logs.add(<span class="keyword">new</span> LogEntry(<span class="number">3</span>,<span class="number">2</span>,<span class="keyword">true</span>));</span><br><span class="line">       <span class="keyword">int</span> res = detectDeadLock(logs);</span><br><span class="line">       System.out.print(res);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">detectDeadLock</span><span class="params">(List&lt;LogEntry&gt; logs)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (logs == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">       HashMap&lt;Integer, Node&gt; graph = <span class="keyword">new</span> HashMap&lt;Integer, Node&gt;();</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; logs.size(); i ++) &#123;</span><br><span class="line">           LogEntry log = logs.get(i);</span><br><span class="line">           Node parent = graph.containsKey(log.logId) ? graph.get(log.logId) : <span class="keyword">new</span> Node(log.logId);</span><br><span class="line">           graph.put(log.logId, parent);</span><br><span class="line">           <span class="keyword">if</span> (log.logId == log.mutexId) <span class="keyword">continue</span>;</span><br><span class="line">           Node child = graph.containsKey(log.mutexId) ? graph.get(log.mutexId) : <span class="keyword">new</span> Node(log.mutexId);</span><br><span class="line">           graph.put(log.mutexId, child);</span><br><span class="line">           <span class="keyword">if</span> (log.act == <span class="keyword">false</span>) &#123;</span><br><span class="line">               deleteEdge(parent, child);</span><br><span class="line">           &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">               addEdge(parent, child);</span><br><span class="line">               <span class="keyword">if</span> (containsCycle(parent, <span class="keyword">new</span> HashSet&lt;&gt;())) <span class="keyword">return</span> i + <span class="number">1</span>;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">deleteEdge</span><span class="params">(Node parent, Node child)</span> </span>&#123;</span><br><span class="line">       parent.children.remove(child);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">addEdge</span><span class="params">(Node parent, Node child)</span> </span>&#123;</span><br><span class="line">       parent.children.add(child);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">containsCycle</span><span class="params">(Node node, HashSet&lt;Node&gt; visited)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (!visited.add(node)) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">       <span class="keyword">for</span> (Node child : node.children) &#123;</span><br><span class="line">           <span class="keyword">if</span> (containsCycle(child, visited)) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="16-Big-Int"><a href="#16-Big-Int" class="headerlink" title="16. Big Int"></a>16. Big Int</h3><p>Update<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">BigInt</span> </span>&#123;</span><br><span class="line">        String val;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">BigInt</span><span class="params">(String v)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.val = v;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> BigInt <span class="title">add</span><span class="params">(BigInt other)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">int</span> aLen = <span class="keyword">this</span>.val.length();</span><br><span class="line">            <span class="keyword">int</span> bLen = other.val.length();</span><br><span class="line">            <span class="keyword">int</span> aIndex = <span class="keyword">this</span>.val.length() - <span class="number">1</span>, bIndex = other.val.length() - <span class="number">1</span>, carry = <span class="number">0</span>;</span><br><span class="line">            String result = <span class="string">""</span>;</span><br><span class="line">            <span class="keyword">while</span> (aIndex &gt;= <span class="number">0</span> || bIndex &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">int</span> tmpValue = carry;</span><br><span class="line">                <span class="keyword">if</span> (aIndex &gt;= <span class="number">0</span>) tmpValue += <span class="keyword">this</span>.val.charAt(aIndex) - <span class="string">'0'</span>;</span><br><span class="line">                <span class="keyword">if</span> (bIndex &gt;= <span class="number">0</span>) tmpValue += other.val.charAt(bIndex) - <span class="string">'0'</span>;</span><br><span class="line">                result = (tmpValue % <span class="number">10</span>) + result;</span><br><span class="line">                carry = tmpValue / <span class="number">10</span>;</span><br><span class="line">                aIndex--; bIndex --;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (carry != <span class="number">0</span>) result = carry + result;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> BigInt(result);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> BigInt <span class="title">multiply</span><span class="params">(BigInt other)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">int</span> aLen = <span class="keyword">this</span>.val.length(), bLen = other.val.length();</span><br><span class="line">            <span class="comment">// 999 * 99 = 98901</span></span><br><span class="line">            <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[aLen + bLen];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> aIndex = aLen - <span class="number">1</span>; aIndex &gt;= <span class="number">0</span>; aIndex --) &#123;</span><br><span class="line">                <span class="keyword">int</span> carry = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">int</span> aValue = <span class="keyword">this</span>.val.charAt(aIndex) - <span class="string">'0'</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> bIndex = bLen - <span class="number">1</span>; bIndex &gt;= <span class="number">0</span>; bIndex --) &#123;</span><br><span class="line">                    <span class="keyword">int</span> tmp = result[aIndex + bIndex + <span class="number">1</span>] + carry + aValue * (other.val.charAt(bIndex) - <span class="string">'0'</span>);</span><br><span class="line">                    result[aIndex + bIndex + <span class="number">1</span>] = tmp % <span class="number">10</span>;</span><br><span class="line">                    carry = tmp / <span class="number">10</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">int</span> shift = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">while</span> (carry != <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">int</span> tmp = result[aIndex - shift] + carry;</span><br><span class="line">                    result[aIndex - shift]  = tmp % <span class="number">10</span>;</span><br><span class="line">                    carry = tmp / <span class="number">10</span>;</span><br><span class="line">                    shift ++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            String resultStr = <span class="string">""</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> num : result) resultStr = resultStr + num;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> BigInt(resultStr);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        BigInt one = <span class="keyword">new</span> BigInt(<span class="string">"99"</span>);</span><br><span class="line">        BigInt two = <span class="keyword">new</span> BigInt(<span class="string">"9999"</span>);</span><br><span class="line">        BigInt three = one.multiply(two);</span><br><span class="line">        System.out.println(three.val);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       String[][] testCase = &#123;&#123;<span class="string">"0"</span>, <span class="string">"123"</span>&#125;, &#123;<span class="string">"987"</span>, <span class="string">"989"</span>&#125;, &#123;<span class="string">"9999"</span>, <span class="string">"1"</span>&#125;&#125;;</span><br><span class="line">       <span class="keyword">for</span> (String[] numbers : testCase) &#123;</span><br><span class="line">           String res = add(numbers[<span class="number">0</span>], numbers[<span class="number">1</span>]);</span><br><span class="line">           System.out.println(res);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> String <span class="title">add</span><span class="params">(String A, String B)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (A == <span class="keyword">null</span>) <span class="keyword">return</span> B;</span><br><span class="line">       <span class="keyword">if</span> (B == <span class="keyword">null</span>) <span class="keyword">return</span> A;</span><br><span class="line">       <span class="keyword">if</span> (A.length() &lt; B.length()) &#123;</span><br><span class="line">           String tmpStr = A;</span><br><span class="line">           A = B;</span><br><span class="line">           B = tmpStr;</span><br><span class="line">       &#125;</span><br><span class="line">       StringBuilder result = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">       <span class="keyword">int</span> carry = <span class="number">0</span>, pointA = A.length() - <span class="number">1</span>, pointB = B.length() - <span class="number">1</span>;</span><br><span class="line">       <span class="keyword">while</span> (pointA &gt;= <span class="number">0</span> || pointB &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">           <span class="keyword">if</span> (pointB &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">               <span class="keyword">int</span> value = A.charAt(pointA) - <span class="string">'0'</span> + B.charAt(pointB) - <span class="string">'0'</span> + carry;</span><br><span class="line">               result.insert(<span class="number">0</span>, value % <span class="number">10</span>);</span><br><span class="line">               carry = value / <span class="number">10</span>;</span><br><span class="line">           &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">               <span class="keyword">int</span> value = A.charAt(pointA) - <span class="string">'0'</span> + carry;</span><br><span class="line">               result.insert(<span class="number">0</span>, value % <span class="number">10</span>);</span><br><span class="line">               carry = value / <span class="number">10</span>;</span><br><span class="line">           &#125;</span><br><span class="line">           pointA --; pointB --;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">if</span> (carry != <span class="number">0</span>) result.insert(<span class="number">0</span>, carry);</span><br><span class="line">       <span class="keyword">return</span> result.toString();</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> String <span class="title">minus</span><span class="params">(String A, String B)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (A == <span class="keyword">null</span> || B == <span class="keyword">null</span> || A.length() == <span class="number">0</span> || B.length() == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">       <span class="keyword">int</span> compareTag = compareTwoNumbers(A, B);</span><br><span class="line">       <span class="keyword">if</span> (compareTag == <span class="number">0</span>) <span class="keyword">return</span> <span class="string">"0"</span>;</span><br><span class="line">       <span class="keyword">if</span> (compareTag == -<span class="number">1</span>) &#123;</span><br><span class="line">           String tmp = A;</span><br><span class="line">           A = B;</span><br><span class="line">           B = tmp;</span><br><span class="line">       &#125;</span><br><span class="line">       StringBuilder result = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">       <span class="keyword">int</span> indexA = A.length() - <span class="number">1</span>, indexB = B.length() - <span class="number">1</span>, carry = <span class="number">0</span>;</span><br><span class="line">       <span class="keyword">while</span> (indexA &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">           <span class="keyword">int</span> value = carry;</span><br><span class="line">           <span class="keyword">if</span> (indexB &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">               value += A.charAt(indexA) - <span class="string">'0'</span> - (B.charAt(indexB) - <span class="string">'0'</span>);</span><br><span class="line">           &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">               value += A.charAt(indexA) - <span class="string">'0'</span>;</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">if</span> (value &lt; <span class="number">0</span>) &#123;</span><br><span class="line">               value += <span class="number">10</span>;</span><br><span class="line">               carry = -<span class="number">1</span>;</span><br><span class="line">           &#125;</span><br><span class="line">           result.insert(<span class="number">0</span>, value);</span><br><span class="line">           indexA --; indexB --;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">int</span> zeroIndex = <span class="number">0</span>;</span><br><span class="line">       <span class="keyword">while</span> (zeroIndex &lt; result.length() - <span class="number">1</span> &amp;&amp; result.charAt(zeroIndex) == <span class="string">'0'</span>) zeroIndex ++;</span><br><span class="line">       <span class="keyword">return</span> (compareTag == -<span class="number">1</span> ? <span class="string">"-"</span> : <span class="string">""</span>) + result.toString().substring(zeroIndex);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> String <span class="title">multiply</span><span class="params">(String A, String B)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (A == <span class="keyword">null</span> || B == <span class="keyword">null</span> || A.length() == <span class="number">0</span> || B.length() == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">       <span class="keyword">int</span> lastIndexA = A.length() - <span class="number">1</span>, lastIndexB = B.length() - <span class="number">1</span>;</span><br><span class="line">       <span class="keyword">int</span> totalLen = lastIndexA + lastIndexB + <span class="number">2</span>;</span><br><span class="line">       <span class="keyword">int</span>[] resultInt = <span class="keyword">new</span> <span class="keyword">int</span>[totalLen];</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> indexA = lastIndexA; indexA &gt;= <span class="number">0</span>; indexA --) &#123;</span><br><span class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> indexB = lastIndexB; indexB &gt;= <span class="number">0</span>; indexB --) &#123;</span><br><span class="line">               <span class="keyword">int</span> curPosition = indexA + indexB + <span class="number">1</span>;</span><br><span class="line">               resultInt[curPosition] += (A.charAt(indexA) - <span class="string">'0'</span>) * (B.charAt(indexB) - <span class="string">'0'</span>);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       StringBuilder resultStr = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">       <span class="keyword">int</span> carry = <span class="number">0</span>;</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> tmpIndex = resultInt.length - <span class="number">1</span>; tmpIndex &gt;= <span class="number">0</span>; tmpIndex --) &#123;</span><br><span class="line">           <span class="keyword">int</span> value = resultInt[tmpIndex] + carry;</span><br><span class="line">           resultStr.insert(<span class="number">0</span>, value % <span class="number">10</span>);</span><br><span class="line">           carry = value / <span class="number">10</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">int</span> lastZeroIndex = <span class="number">0</span>;</span><br><span class="line">       <span class="keyword">while</span> (lastZeroIndex &lt; resultStr.length() - <span class="number">1</span> &amp;&amp; resultStr.charAt(lastZeroIndex) == <span class="string">'0'</span>) lastZeroIndex ++;</span><br><span class="line">       <span class="keyword">return</span> resultStr.toString().substring(lastZeroIndex);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h4 id="Follow-Up-with-negative-number"><a href="#Follow-Up-with-negative-number" class="headerlink" title="Follow Up: with negative number"></a>Follow Up: with negative number</h4><p>进行一系列的逻辑处理，比如<code>Add</code>中出现1个负数，就变换成<code>Minus</code>；如果出现两个负数，就变换成正数相加再在结果前加负号。</p>
<h4 id="Follow-Up-Big-Double"><a href="#Follow-Up-Big-Double" class="headerlink" title="Follow Up: Big Double"></a>Follow Up: Big Double</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> String <span class="title">bigDoubleAdd</span><span class="params">(String A, String B)</span> </span>&#123;</span><br><span class="line">        doubleAddCarry = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> dotIndexA = A.indexOf(<span class="string">"."</span>);</span><br><span class="line">        <span class="keyword">int</span> dotIndexB = B.indexOf(<span class="string">"."</span>);</span><br><span class="line">        String intA = dotIndexA == -<span class="number">1</span> ? A : A.substring(<span class="number">0</span>, dotIndexA);</span><br><span class="line">        String intB = dotIndexB == -<span class="number">1</span> ? B : B.substring(<span class="number">0</span>, dotIndexB);</span><br><span class="line">        String decimalA = dotIndexA == -<span class="number">1</span> ? <span class="string">""</span> : A.substring(dotIndexA + <span class="number">1</span>);</span><br><span class="line">        String decimalB = dotIndexB == -<span class="number">1</span> ? <span class="string">""</span> : B.substring(dotIndexB + <span class="number">1</span>);</span><br><span class="line">        String decimalSum = decimalAdd(decimalA, decimalB);</span><br><span class="line">        String intSum = intAdd(intA, intB);</span><br><span class="line">        <span class="keyword">return</span> intSum + (decimalSum == <span class="string">""</span> ? <span class="string">""</span> : (<span class="string">"."</span> + decimalSum));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> doubleAddCarry;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> String <span class="title">decimalAdd</span><span class="params">(String A, String B)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (A.length() == <span class="number">0</span>) <span class="keyword">return</span> B;</span><br><span class="line">        <span class="keyword">if</span> (B.length() == <span class="number">0</span>) <span class="keyword">return</span> A;</span><br><span class="line">        <span class="keyword">if</span> (A.length() &lt; B.length()) &#123;</span><br><span class="line">            String tmp = A;</span><br><span class="line">            A = B;</span><br><span class="line">            B = tmp;</span><br><span class="line">        &#125;</span><br><span class="line">        StringBuilder result = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">int</span> lenA = A.length() - <span class="number">1</span>, lenB = B.length() - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> indexA = lenA, indexB = lenB;</span><br><span class="line">        <span class="keyword">while</span> (indexA &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> value = A.charAt(indexA) - <span class="string">'0'</span> + doubleAddCarry;</span><br><span class="line">            <span class="keyword">if</span> (indexA &lt;= lenB) &#123;</span><br><span class="line">                value += B.charAt(indexB) - <span class="string">'0'</span>;</span><br><span class="line">                indexB --;</span><br><span class="line">            &#125;</span><br><span class="line">            result.insert(<span class="number">0</span>, value % <span class="number">10</span>);</span><br><span class="line">            doubleAddCarry = value / <span class="number">10</span>;</span><br><span class="line">            indexA --;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result.toString();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> String <span class="title">intAdd</span><span class="params">(String A, String B)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (A.length() == <span class="number">0</span>) <span class="keyword">return</span> B;</span><br><span class="line">        <span class="keyword">if</span> (B.length() == <span class="number">0</span>) <span class="keyword">return</span> A;</span><br><span class="line">        <span class="keyword">if</span> (A.length() &lt; B.length()) &#123;</span><br><span class="line">            String tmp = A;</span><br><span class="line">            A = B;</span><br><span class="line">            B = tmp;</span><br><span class="line">        &#125;</span><br><span class="line">        StringBuilder result = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">int</span> lenA = A.length(), lenB = B.length() - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> indexA = lenA - <span class="number">1</span>, indexB = lenB;</span><br><span class="line">        <span class="keyword">while</span> (indexA &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> value = A.charAt(indexA) - <span class="string">'0'</span> + doubleAddCarry;</span><br><span class="line">            <span class="keyword">if</span> (indexB &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                value += B.charAt(indexB) - <span class="string">'0'</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            result.insert(<span class="number">0</span>, value % <span class="number">10</span>);</span><br><span class="line">            doubleAddCarry = value / <span class="number">10</span>;</span><br><span class="line">            indexA --; indexB --;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (doubleAddCarry != <span class="number">0</span>) result.insert(<span class="number">0</span>, doubleAddCarry);</span><br><span class="line">        <span class="keyword">return</span> result.toString();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="17-SecretSanta"><a href="#17-SecretSanta" class="headerlink" title="17. SecretSanta"></a>17. SecretSanta</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String[][] testcases = &#123;&#123;<span class="string">"mary"</span>, <span class="string">"alice"</span>, <span class="string">"mike"</span>&#125;&#125;;</span><br><span class="line">        <span class="keyword">for</span> (String[] friends : testcases) &#123;</span><br><span class="line">            ArrayList&lt;ArrayList&lt;String&gt;&gt; result = giftExchange(friends);</span><br><span class="line">            System.out.println(<span class="string">"result is: "</span>);</span><br><span class="line">            <span class="keyword">for</span> (ArrayList&lt;String&gt; oneSolution : result) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt; oneSolution.size(); index ++) &#123;</span><br><span class="line">                    System.out.print(friends[index] + <span class="string">" -&gt; "</span> + oneSolution.get(index) + <span class="string">"   "</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> ArrayList&lt;ArrayList&lt;String&gt;&gt; giftExchange(String[] friends) &#123;</span><br><span class="line">        ArrayList&lt;ArrayList&lt;String&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;ArrayList&lt;String&gt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (friends == <span class="keyword">null</span>) <span class="keyword">return</span> result;</span><br><span class="line">        backtracking(result, <span class="keyword">new</span> ArrayList&lt;String&gt;(), friends, <span class="keyword">new</span> <span class="keyword">boolean</span>[friends.length]);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtracking</span><span class="params">(ArrayList&lt;ArrayList&lt;String&gt;&gt; result, ArrayList&lt;String&gt; tmpResult, String[] friends, <span class="keyword">boolean</span>[] visited)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (tmpResult.size() == friends.length) &#123;</span><br><span class="line">            result.add(<span class="keyword">new</span> ArrayList&lt;&gt;(tmpResult));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; friends.length; i ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (! visited[i] &amp;&amp; tmpResult.size() != i) &#123;</span><br><span class="line">                tmpResult.add(friends[i]);</span><br><span class="line">                visited[i] = <span class="keyword">true</span>;</span><br><span class="line">                backtracking(result, tmpResult, friends, visited);</span><br><span class="line">                tmpResult.remove(tmpResult.size() - <span class="number">1</span>);</span><br><span class="line">                visited[i] = <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="18-Permutation"><a href="#18-Permutation" class="headerlink" title="18. Permutation"></a>18. Permutation</h3><p>leetcode 46: <a href="https://leetcode.com/problems/permutations/" target="_blank" rel="noopener">https://leetcode.com/problems/permutations/</a><br>leetcode 46: comtains duplicate<br>以下是包含duplicate的解法。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">private List&lt;List&lt;Integer&gt;&gt; permute(int[] nums) &#123;</span><br><span class="line">       List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;List&lt;Integer&gt;&gt;();</span><br><span class="line">       Arrays.sort(nums);</span><br><span class="line">       backtracking(result, new ArrayList&lt;&gt;(), nums, new boolean[nums.length]);</span><br><span class="line">       return result;</span><br><span class="line">   &#125;</span><br><span class="line">   private void backtracking(List&lt;List&lt;Integer&gt;&gt; result, List&lt;Integer&gt; tmpResult, int[] nums, boolean[] visited) &#123;</span><br><span class="line">       if (tmpResult.size() == nums.length) &#123;</span><br><span class="line">           result.add(new ArrayList&lt;&gt;(tmpResult));</span><br><span class="line">           return;</span><br><span class="line">       &#125;</span><br><span class="line">       for (int i = 0; i &lt; nums.length; i ++) &#123;</span><br><span class="line">           if (! visited[i]) &#123;</span><br><span class="line">               visited[i] = true;</span><br><span class="line">               tmpResult.add(nums[i]);</span><br><span class="line">               backtracking(result, tmpResult, nums, visited);</span><br><span class="line">               visited[i] = false;</span><br><span class="line">               tmpResult.remove(tmpResult.size() - 1);</span><br><span class="line">               while (i + 1 &lt; nums.length &amp;&amp; nums[i] == nums[i + 1]) i ++;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="Follow-up-Next-Permutation"><a href="#Follow-up-Next-Permutation" class="headerlink" title="Follow up: Next Permutation"></a>Follow up: Next Permutation</h4><p>需要注意的是在两个<code>while</code>循环中临界值等于号的处理。相关的test case有：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[1,5,1], [5,1,1]</span><br></pre></td></tr></table></figure></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">nextPermutation</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length &lt; <span class="number">2</span>) <span class="keyword">return</span>;</span><br><span class="line">       <span class="keyword">int</span> index = nums.length - <span class="number">1</span>;</span><br><span class="line">       <span class="keyword">while</span> (index &gt; <span class="number">0</span> &amp;&amp; nums[index] &lt;= nums[index - <span class="number">1</span>]) index --;</span><br><span class="line">       <span class="keyword">if</span> (index == <span class="number">0</span>) &#123;</span><br><span class="line">           Arrays.sort(nums);</span><br><span class="line">       &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">           <span class="keyword">int</span> exchangeIndex = nums.length - <span class="number">1</span>;</span><br><span class="line">           <span class="keyword">while</span> (exchangeIndex &gt; index &amp;&amp; nums[exchangeIndex] &lt;= nums[index - <span class="number">1</span>]) exchangeIndex --;</span><br><span class="line">           <span class="keyword">int</span> tmp = nums[exchangeIndex];</span><br><span class="line">           nums[exchangeIndex] = nums[index - <span class="number">1</span>];</span><br><span class="line">           nums[index - <span class="number">1</span>] = tmp;</span><br><span class="line">           Arrays.sort(nums, index, nums.length);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h3 id="19-Game-of-Life"><a href="#19-Game-of-Life" class="headerlink" title="19. Game of Life"></a>19. Game of Life</h3><p>需要注意的是在判断邻居节点live的个数。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       <span class="keyword">int</span>[][] board = &#123;&#123;<span class="number">1</span>,<span class="number">1</span>&#125;, &#123;<span class="number">1</span>,<span class="number">0</span>&#125;&#125;;</span><br><span class="line">       gameOfLife(board);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">gameOfLife</span><span class="params">(<span class="keyword">int</span>[][] board)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (board == <span class="keyword">null</span> || board.length == <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">       <span class="keyword">int</span> row = board.length, col = board[<span class="number">0</span>].length;</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> rowIndex = <span class="number">0</span>; rowIndex &lt; row; rowIndex ++) &#123;</span><br><span class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> colIndex = <span class="number">0</span>; colIndex &lt; col; colIndex ++) &#123;</span><br><span class="line">               <span class="keyword">int</span> liveCount = <span class="number">0</span>;</span><br><span class="line">               <span class="keyword">for</span> (<span class="keyword">int</span> neighbourRowIndex = Math.max(<span class="number">0</span>, rowIndex - <span class="number">1</span>); neighbourRowIndex &lt;= Math.min(row - <span class="number">1</span>, rowIndex + <span class="number">1</span>); neighbourRowIndex ++) &#123;</span><br><span class="line">                   <span class="keyword">for</span> (<span class="keyword">int</span> neighbourColIndex = Math.max(<span class="number">0</span>, colIndex - <span class="number">1</span>); neighbourColIndex &lt;= Math.min(col - <span class="number">1</span>, colIndex + <span class="number">1</span>); neighbourColIndex ++) &#123;</span><br><span class="line">                       <span class="keyword">if</span> (neighbourRowIndex == rowIndex &amp;&amp; neighbourColIndex == colIndex) <span class="keyword">continue</span>;</span><br><span class="line">                       <span class="keyword">if</span> (board[neighbourRowIndex][neighbourColIndex] == <span class="number">1</span> || board[neighbourRowIndex][neighbourColIndex] == <span class="number">2</span>) liveCount ++;</span><br><span class="line">                   &#125;</span><br><span class="line">               &#125;</span><br><span class="line">               <span class="keyword">if</span> (board[rowIndex][colIndex] == <span class="number">1</span> &amp;&amp; (liveCount &lt; <span class="number">2</span> || liveCount &gt; <span class="number">3</span>)) board[rowIndex][colIndex] = <span class="number">2</span>;</span><br><span class="line">               <span class="keyword">else</span> <span class="keyword">if</span> (board[rowIndex][colIndex] == <span class="number">0</span> &amp;&amp; liveCount == <span class="number">3</span>) board[rowIndex][colIndex] = <span class="number">3</span>;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> rowIndex = <span class="number">0</span>; rowIndex &lt; row; rowIndex ++) &#123;</span><br><span class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> colIndex = <span class="number">0</span>; colIndex &lt; col; colIndex ++) &#123;</span><br><span class="line">               board[rowIndex][colIndex] &amp;= <span class="number">1</span>;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h4 id="Follow-Up-infinite-board"><a href="#Follow-Up-infinite-board" class="headerlink" title="Follow Up: infinite board"></a>Follow Up: infinite board</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">gameOfLifeInfinite</span><span class="params">(<span class="keyword">int</span>[][] board)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (board == <span class="keyword">null</span> || board.length == <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">       HashSet&lt;Cell&gt; live = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">       <span class="keyword">int</span> row = board.length, col = board[<span class="number">0</span>].length;</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; row; i ++) &#123;</span><br><span class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; col; j ++) &#123;</span><br><span class="line">               <span class="keyword">if</span> (board[i][j] == <span class="number">1</span>) live.add(<span class="keyword">new</span> Cell(i, j));</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       live = gameOfLife(live);</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; row; i ++) &#123;</span><br><span class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; col; j ++) &#123;</span><br><span class="line">               <span class="keyword">if</span> (live.contains(<span class="keyword">new</span> Cell(i, j))) board[i][j] = <span class="number">1</span>;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="class"><span class="keyword">class</span> <span class="title">Cell</span> </span>&#123;</span><br><span class="line">       <span class="keyword">int</span> x, y;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="title">Cell</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">           <span class="keyword">this</span>.x = x;</span><br><span class="line">           <span class="keyword">this</span>.y = y;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">           <span class="keyword">return</span> o <span class="keyword">instanceof</span> Cell &amp;&amp; ((Cell)o).x == <span class="keyword">this</span>.x &amp;&amp; ((Cell)o).y == <span class="keyword">this</span>.y;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">           <span class="keyword">int</span> hashCode = <span class="number">1</span>;</span><br><span class="line">           hashCode = hashCode * <span class="number">31</span> + <span class="keyword">this</span>.x;</span><br><span class="line">           hashCode = hashCode * <span class="number">31</span> + <span class="keyword">this</span>.y;</span><br><span class="line">           <span class="keyword">return</span> hashCode;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> HashSet&lt;Cell&gt; <span class="title">gameOfLife</span><span class="params">(HashSet&lt;Cell&gt; live)</span> </span>&#123;</span><br><span class="line">       HashMap&lt;Cell, Integer&gt; neighbours = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">       <span class="keyword">for</span> (Cell cell : live) &#123;</span><br><span class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> x = cell.x - <span class="number">1</span>; x &lt;= cell.x + <span class="number">1</span>; x ++) &#123;</span><br><span class="line">               <span class="keyword">for</span> (<span class="keyword">int</span> y = cell.y - <span class="number">1</span>; y &lt;= cell.y + <span class="number">1</span>; y ++) &#123;</span><br><span class="line">                   <span class="keyword">if</span> (x == cell.x &amp;&amp; y == cell.y) <span class="keyword">continue</span>;</span><br><span class="line">                   Cell neighbour = <span class="keyword">new</span> Cell(x, y);</span><br><span class="line">                   neighbours.put(neighbour, neighbours.getOrDefault(neighbour, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       HashSet&lt;Cell&gt; nextStates = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">       <span class="keyword">for</span> (Cell cell : neighbours.keySet()) &#123;</span><br><span class="line">           <span class="keyword">if</span> (neighbours.get(cell) == <span class="number">3</span> || (live.contains(cell) &amp;&amp; neighbours.get(cell) == <span class="number">2</span>)) nextStates.add(cell);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> nextStates;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h3 id="20-Trapping-Water-Problem"><a href="#20-Trapping-Water-Problem" class="headerlink" title="20. Trapping Water Problem"></a>20. Trapping Water Problem</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">trappingRainWater</span><span class="params">(<span class="keyword">int</span>[] heights)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (heights == <span class="keyword">null</span> || heights.length &lt; <span class="number">3</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> leftIndex=<span class="number">0</span>, rightIndex=heights.length-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> leftBounds = <span class="number">0</span>, rightBounds = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(leftIndex &lt;= rightIndex)&#123;</span><br><span class="line">            leftBounds = Math.max(leftBounds, heights[leftIndex]);</span><br><span class="line">            rightBounds = Math.max(rightBounds, heights[rightIndex]);</span><br><span class="line">            <span class="keyword">if</span>(leftBounds &lt; rightBounds)&#123;</span><br><span class="line">                result += leftBounds - heights[leftIndex];</span><br><span class="line">                leftIndex ++;</span><br><span class="line">            &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">                result += rightBounds - heights[rightIndex];</span><br><span class="line">                rightIndex --;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="21-Find-Median-from-Data-Stream"><a href="#21-Find-Median-from-Data-Stream" class="headerlink" title="21. Find Median from Data Stream"></a>21. Find Median from Data Stream</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">public class MedianFinder &#123;</span><br><span class="line">    PriorityQueue&lt;Integer&gt; max;</span><br><span class="line">    PriorityQueue&lt;Integer&gt; min;</span><br><span class="line">    int len;</span><br><span class="line">    public MedianFinder() &#123;</span><br><span class="line">        min = new PriorityQueue&lt;&gt;();</span><br><span class="line">        max = new PriorityQueue&lt;&gt;(Collections.reverseOrder());</span><br><span class="line">        len = 0;</span><br><span class="line">    &#125;</span><br><span class="line">    // Adds a number into the data structure.</span><br><span class="line">    public void addNum(int num) &#123;</span><br><span class="line">        max.add(num);</span><br><span class="line">        if (len % 2 == 1) &#123;</span><br><span class="line">            min.add(max.poll());</span><br><span class="line">        &#125;</span><br><span class="line">        if (len &gt; 1 &amp;&amp; max.peek() &gt; min.peek()) &#123;</span><br><span class="line">            max.add(min.poll());</span><br><span class="line">            min.add(max.poll());</span><br><span class="line">        &#125;</span><br><span class="line">        len ++;</span><br><span class="line">    &#125;</span><br><span class="line">    // Returns the median of current data stream</span><br><span class="line">    public double findMedian() &#123;</span><br><span class="line">        if (len % 2 == 0) &#123;</span><br><span class="line">            return ((double)(max.peek() + min.peek()) / 2);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            return (double)max.peek();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="22-Find-Combination-to-Sum"><a href="#22-Find-Combination-to-Sum" class="headerlink" title="22. Find Combination to Sum"></a>22. Find Combination to Sum</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; combinationSum(<span class="keyword">int</span>[] candidates, <span class="keyword">int</span> target) &#123;</span><br><span class="line">        <span class="keyword">if</span> (candidates == <span class="keyword">null</span> || candidates.length &lt; <span class="number">1</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        Arrays.sort(candidates);</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;List&lt;Integer&gt;&gt;();</span><br><span class="line">        List&lt;Integer&gt; tmp = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">        helper(result, tmp, <span class="number">0</span>, target, candidates, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">helper</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; result, List&lt;Integer&gt; tmp, <span class="keyword">int</span> tmpsum, <span class="keyword">int</span> target, <span class="keyword">int</span>[] candidates, <span class="keyword">int</span> start)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (tmpsum == target) &#123;</span><br><span class="line">            result.add(<span class="keyword">new</span> ArrayList&lt;Integer&gt;(tmp));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = start; i &lt; candidates.length; i ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (tmpsum + candidates[i] &gt; target) <span class="keyword">break</span>;</span><br><span class="line">            tmp.add(candidates[i]);</span><br><span class="line">            helper(result, tmp, tmpsum + candidates[i], target, candidates, i);</span><br><span class="line">            tmp.remove(tmp.size() - <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">while</span> (i + <span class="number">1</span> &lt; candidates.length &amp;&amp; candidates[i] == candidates[i + <span class="number">1</span>]) i ++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="23-Find-Duplicate-Number-in-Array"><a href="#23-Find-Duplicate-Number-in-Array" class="headerlink" title="23. Find Duplicate Number in Array"></a>23. Find Duplicate Number in Array</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[][] testcases = &#123;&#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>&#125;, &#123;<span class="number">3</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;, &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">4</span>&#125;, &#123;<span class="number">3</span>,<span class="number">3</span>,<span class="number">3</span>&#125;&#125;;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] nums : testcases) &#123;</span><br><span class="line">            <span class="keyword">int</span> res = findDuplicate(nums);</span><br><span class="line">            <span class="keyword">int</span> res2 = findDuplicateUsingSet(nums);</span><br><span class="line">            System.out.println(res + <span class="string">"   "</span>  + res2);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findDuplicateUsingSet</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length &lt; <span class="number">2</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        HashSet&lt;Integer&gt; numbersSet = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> num : nums) &#123;</span><br><span class="line">            <span class="keyword">if</span> (! numbersSet.add(num)) <span class="keyword">return</span> num;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>O(n) time complexity. O(n) space complexit.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findDuplicate</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length &lt; <span class="number">2</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    Arrays.sort(nums);</span><br><span class="line">    <span class="keyword">int</span> leftIndex = <span class="number">0</span>, rightIndex = nums.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (leftIndex &lt; rightIndex) &#123;</span><br><span class="line">        <span class="keyword">int</span> mid = leftIndex + (rightIndex - leftIndex) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (mid + <span class="number">1</span> &gt; nums[mid]) &#123;</span><br><span class="line">            rightIndex = mid - <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            leftIndex = mid + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nums[leftIndex];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>O(nlogn) time complexit. O(1) space complexit.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//    以0为头节点建立linkedlist,转换成链表找环起点问题</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findDuplicateUsingLinkedListAlgorithm</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length &lt; <span class="number">2</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> fastPoint = <span class="number">0</span>, slowPoint = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            fastPoint = nums[nums[fastPoint]];</span><br><span class="line">            slowPoint = nums[slowPoint];</span><br><span class="line">            <span class="keyword">if</span> (slowPoint == fastPoint) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> newPoint = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            slowPoint = nums[slowPoint];</span><br><span class="line">            newPoint = nums[newPoint];</span><br><span class="line">            <span class="keyword">if</span> (slowPoint == newPoint) <span class="keyword">return</span> slowPoint;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>O(n) time complexit. O(1) space complexity.</p>
<h3 id="24-Find-Amicable-Numbers"><a href="#24-Find-Amicable-Numbers" class="headerlink" title="24. Find Amicable Numbers"></a>24. Find Amicable Numbers</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt; findAmicableNumbers(<span class="keyword">int</span> n) &#123;</span><br><span class="line">        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();</span><br><span class="line">        <span class="keyword">int</span>[] sum = <span class="keyword">new</span> <span class="keyword">int</span>[n + <span class="number">1</span>];</span><br><span class="line">        Arrays.fill(sum, <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n / <span class="number">2</span>; i ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">2</span> * i; j &lt;= n; j += i) &#123;</span><br><span class="line">                sum[j] += i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        HashMap&lt;Integer, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n; i ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (map.containsKey(i)) &#123;</span><br><span class="line">                <span class="keyword">if</span> (map.get(i) == sum[i]) &#123;</span><br><span class="line">                    ArrayList&lt;Integer&gt; tmp = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">                    tmp.add(i);</span><br><span class="line">                    tmp.add(sum[i]);</span><br><span class="line">                    result.add(tmp);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                map.put(sum[i], i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="25-走迷宫，输出路径，可以打破墙"><a href="#25-走迷宫，输出路径，可以打破墙" class="headerlink" title="25. 走迷宫，输出路径，可以打破墙"></a>25. 走迷宫，输出路径，可以打破墙</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[][] matrix = &#123;&#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>&#125;,&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;,&#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;&#125;;</span><br><span class="line">        <span class="keyword">int</span>[][] matrix2 = &#123;&#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;, &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>&#125;, &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>&#125;, &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>&#125;, &#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>&#125;&#125;;</span><br><span class="line"><span class="comment">//        printShortestPath(matrix2);</span></span><br><span class="line">        printShortestPathWithBreakDownWalls(matrix2);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">printShortestPath</span><span class="params">(<span class="keyword">int</span>[][] matrix)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (matrix == <span class="keyword">null</span> || matrix.length == <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">int</span> row = matrix.length, col = matrix[<span class="number">0</span>].length;</span><br><span class="line">        HashMap&lt;Integer, Integer&gt; previousPosition = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        previousPosition.put(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        Queue&lt;Integer&gt; nextVisit = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        nextVisit.add(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">int</span> target = row * col - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span>[][] shifts = &#123;&#123;<span class="number">0</span>, -<span class="number">1</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;&#125;;</span><br><span class="line">        <span class="keyword">boolean</span> success = <span class="keyword">false</span>;</span><br><span class="line">        HashSet&lt;Integer&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        visited.add(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">while</span> (! nextVisit.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">int</span> size = nextVisit.size();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i ++) &#123;</span><br><span class="line">                <span class="keyword">int</span> curPos = nextVisit.poll();</span><br><span class="line">                <span class="keyword">if</span> (curPos == target) &#123;</span><br><span class="line">                    success = <span class="keyword">true</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span>[] shift : shifts) &#123;</span><br><span class="line">                    <span class="keyword">int</span> nextX = curPos / col + shift[<span class="number">0</span>];</span><br><span class="line">                    <span class="keyword">int</span> nextY = curPos % col + shift[<span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">int</span> next = nextX * col + nextY;</span><br><span class="line">                    <span class="keyword">if</span> (nextX &lt; <span class="number">0</span> || nextX &gt;= row || nextY &lt; <span class="number">0</span> || nextY &gt;= col || matrix[nextX][nextY] != <span class="number">0</span> || visited.contains(next)) <span class="keyword">continue</span>;</span><br><span class="line">                    visited.add(next);</span><br><span class="line">                    nextVisit.offer(next);</span><br><span class="line">                    previousPosition.put(next, curPos);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ArrayList&lt;Integer&gt; path = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (! success) &#123;</span><br><span class="line">            System.out.println(<span class="string">"Cannot find path."</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">int</span> cur = target;</span><br><span class="line">            <span class="keyword">while</span> (cur != <span class="number">0</span>) &#123;</span><br><span class="line">                path.add(<span class="number">0</span>, cur);</span><br><span class="line">                cur = previousPosition.get(cur);</span><br><span class="line">            &#125;</span><br><span class="line">            path.add(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">            <span class="keyword">for</span> (Integer pos : path) &#123;</span><br><span class="line">                System.out.println(<span class="string">"["</span> + pos / col + <span class="string">", "</span> + pos % col + <span class="string">"]"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">printShortestPathWithBreakDownWalls</span><span class="params">(<span class="keyword">int</span>[][] matrix)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (matrix == <span class="keyword">null</span> || matrix.length == <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">int</span> row = matrix.length, col = matrix[<span class="number">0</span>].length;</span><br><span class="line">        HashMap&lt;Integer, Integer&gt; previousPosition = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        previousPosition.put(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        Queue&lt;Integer&gt; nextVisit = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        nextVisit.add(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">int</span> target = row * col - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span>[][] shifts = &#123;&#123;<span class="number">0</span>, -<span class="number">1</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;&#125;;</span><br><span class="line">        <span class="keyword">boolean</span> success = <span class="keyword">false</span>;</span><br><span class="line">        HashSet&lt;Integer&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        visited.add(<span class="number">0</span>);</span><br><span class="line">        Queue&lt;Integer&gt; walls = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span> (! nextVisit.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">int</span> size = nextVisit.size();</span><br><span class="line">            <span class="keyword">while</span> (! walls.isEmpty()) nextVisit.offer(walls.poll());</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i ++) &#123;</span><br><span class="line">                <span class="keyword">int</span> curPos = nextVisit.poll();</span><br><span class="line">                <span class="keyword">if</span> (curPos == target) &#123;</span><br><span class="line">                    success = <span class="keyword">true</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span>[] shift : shifts) &#123;</span><br><span class="line">                    <span class="keyword">int</span> nextX = curPos / col + shift[<span class="number">0</span>];</span><br><span class="line">                    <span class="keyword">int</span> nextY = curPos % col + shift[<span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">int</span> next = nextX * col + nextY;</span><br><span class="line">                    <span class="keyword">if</span> (nextX &lt; <span class="number">0</span> || nextX &gt;= row || nextY &lt; <span class="number">0</span> || nextY &gt;= col || visited.contains(next)) <span class="keyword">continue</span>;</span><br><span class="line">                    visited.add(next);</span><br><span class="line">                    previousPosition.put(next, curPos);</span><br><span class="line">                    <span class="keyword">if</span> (matrix[nextX][nextY] == <span class="number">1</span>) &#123;</span><br><span class="line">                        walls.add(next);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        nextVisit.offer(next);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ArrayList&lt;Integer&gt; path = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (! success) &#123;</span><br><span class="line">            System.out.println(<span class="string">"Cannot find path."</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">int</span> cur = target;</span><br><span class="line">            <span class="keyword">while</span> (cur != <span class="number">0</span>) &#123;</span><br><span class="line">                path.add(<span class="number">0</span>, cur);</span><br><span class="line">                cur = previousPosition.get(cur);</span><br><span class="line">            &#125;</span><br><span class="line">            path.add(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">            <span class="keyword">for</span> (Integer pos : path) &#123;</span><br><span class="line">                System.out.println(<span class="string">"["</span> + pos / col + <span class="string">", "</span> + pos % col + <span class="string">"]"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>有空写一下将点坐标抽象成类的方法，这种方法在Java中需要重写 <code>equals</code>和<code>hashcode</code>两种方法，因为会用到hash方法。</p>
<h3 id="26-Meeting-room-schedule"><a href="#26-Meeting-room-schedule" class="headerlink" title="26. Meeting room schedule"></a>26. Meeting room schedule</h3><p>这里需要注意的是重写<code>Comparator</code>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[][] timeIntervals = <span class="keyword">new</span> <span class="keyword">int</span>[][]&#123;&#123;<span class="number">0</span>, <span class="number">2</span>&#125;, &#123;<span class="number">1</span>, <span class="number">4</span>&#125;, &#123;<span class="number">2</span>, <span class="number">3</span>&#125;, &#123;<span class="number">2</span>, <span class="number">5</span>&#125;&#125;;</span><br><span class="line">        ArrayList&lt;Interval&gt; intervals = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] time : timeIntervals) &#123;</span><br><span class="line">            Interval interval = <span class="keyword">new</span> Interval(time[<span class="number">0</span>], time[<span class="number">1</span>]);</span><br><span class="line">            intervals.add(interval);</span><br><span class="line">        &#125;</span><br><span class="line">        ArrayList&lt;ArrayList&lt;Interval&gt;&gt; results = scheduleMeetingRoom(intervals);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; results.size(); i ++) &#123;</span><br><span class="line">            System.out.print(<span class="string">"Room "</span> + i + <span class="string">":  "</span>);</span><br><span class="line">            <span class="keyword">for</span> (Interval interval : results.get(i)) &#123;</span><br><span class="line">                System.out.print(<span class="string">"["</span> + interval.start + <span class="string">", "</span> + interval.end + <span class="string">"] "</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Interval</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> start, end;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Interval</span><span class="params">(<span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.start = start;</span><br><span class="line">            <span class="keyword">this</span>.end = end;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Interval</span><span class="params">(Interval otherInterval)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.start = otherInterval.start;</span><br><span class="line">            <span class="keyword">this</span>.end = otherInterval.end;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Meeting</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> roomId;</span><br><span class="line">        Interval interval;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Meeting</span><span class="params">(<span class="keyword">int</span> roomId, Interval interval)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.roomId = roomId;</span><br><span class="line">            <span class="keyword">this</span>.interval = interval;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> ArrayList&lt;ArrayList&lt;Interval&gt;&gt; scheduleMeetingRoom(ArrayList&lt;Interval&gt; intervals) &#123;</span><br><span class="line">        ArrayList&lt;ArrayList&lt;Interval&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Interval&gt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (intervals == <span class="keyword">null</span> || intervals.size() == <span class="number">0</span>) <span class="keyword">return</span> result;</span><br><span class="line">        Collections.sort(intervals, <span class="keyword">new</span> Comparator&lt;Interval&gt;() &#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Interval i1, Interval i2)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> i1.start - i2.start;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        PriorityQueue&lt;Meeting&gt; priorityQueue = <span class="keyword">new</span> PriorityQueue&lt;&gt;(<span class="keyword">new</span> Comparator&lt;Meeting&gt;() &#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Meeting m1, Meeting m2)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> m1.interval.end - m2.interval.end;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">int</span> roomId = <span class="number">0</span>;</span><br><span class="line">        HashMap&lt;Integer, ArrayList&lt;Interval&gt;&gt; shedule = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (Interval interval : intervals) &#123;</span><br><span class="line">            Meeting meeting;</span><br><span class="line">            <span class="keyword">if</span> (! priorityQueue.isEmpty() &amp;&amp; priorityQueue.peek().interval.end &lt;= interval.start) &#123;</span><br><span class="line">                meeting = priorityQueue.poll();</span><br><span class="line">                meeting.interval.end = interval.end;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                roomId ++;</span><br><span class="line">                meeting = <span class="keyword">new</span> Meeting(roomId, interval);</span><br><span class="line">                <span class="keyword">if</span> (result.size() &lt;= meeting.roomId) result.add(<span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">            &#125;</span><br><span class="line">            priorityQueue.offer(meeting);</span><br><span class="line">            <span class="keyword">if</span> (result.size() &lt; meeting.roomId) result.add(<span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">            result.get(meeting.roomId - <span class="number">1</span>).add(<span class="keyword">new</span> Interval(interval));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="27-Merge-Sorted-Lists"><a href="#27-Merge-Sorted-Lists" class="headerlink" title="27. Merge Sorted Lists"></a>27. Merge Sorted Lists</h3><h4 id="Merge-two-sorted-lists"><a href="#Merge-two-sorted-lists" class="headerlink" title="Merge two sorted lists"></a>Merge two sorted lists</h4><h5 id="recursive-version"><a href="#recursive-version" class="headerlink" title="recursive version"></a>recursive version</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">mergeTwoLists</span><span class="params">(ListNode l1, ListNode l2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (l1 == <span class="keyword">null</span>) <span class="keyword">return</span> l2;</span><br><span class="line">        <span class="keyword">if</span> (l2 == <span class="keyword">null</span>) <span class="keyword">return</span> l1;</span><br><span class="line">        ListNode mergedHead;</span><br><span class="line">        <span class="keyword">if</span> (l1.val &lt; l2.val) &#123;</span><br><span class="line">            mergedHead = l1;</span><br><span class="line">            mergedHead.next = mergeTwoLists(l1.next, l2);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            mergedHead = l2;</span><br><span class="line">            mergedHead.next = mergeTwoLists(l1, l2.next);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> mergedHead;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h4 id="iterative-version"><a href="#iterative-version" class="headerlink" title="iterative version"></a>iterative version</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">mergeTwoLists</span><span class="params">(ListNode l1, ListNode l2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (l1 == <span class="keyword">null</span>) <span class="keyword">return</span> l2;</span><br><span class="line">        <span class="keyword">if</span> (l2 == <span class="keyword">null</span>) <span class="keyword">return</span> l1;</span><br><span class="line">        ListNode root = l1.val &lt;= l2.val ? l1 : l2;</span><br><span class="line">        ListNode pre = root;</span><br><span class="line">        ListNode tmpNode1 = l1.val &lt;= l2.val ? l1.next : l1;</span><br><span class="line">        ListNode tmpNode2 = l1.val &lt;= l2.val ? l2 : l2.next;</span><br><span class="line">        <span class="keyword">while</span> (tmpNode1 != <span class="keyword">null</span> &amp;&amp; tmpNode2 != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (tmpNode1.val &lt;= tmpNode2.val) &#123;</span><br><span class="line">                pre.next = tmpNode1;</span><br><span class="line">                pre = tmpNode1;</span><br><span class="line">                tmpNode1 = tmpNode1.next;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                pre.next = tmpNode2;</span><br><span class="line">                pre = tmpNode2;</span><br><span class="line">                tmpNode2 = tmpNode2.next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        pre.next = tmpNode1 == <span class="keyword">null</span> ? tmpNode2 : tmpNode1;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h4 id="Merge-K-sorted-Lists"><a href="#Merge-K-sorted-Lists" class="headerlink" title="Merge K sorted Lists"></a>Merge K sorted Lists</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">mergeKLists</span><span class="params">(ListNode[] lists)</span> </span>&#123;</span><br><span class="line">        ListNode dummy = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">        ListNode tail = dummy;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">null</span> == lists || <span class="number">1</span> &gt; lists.length) <span class="keyword">return</span> dummy.next;</span><br><span class="line">        PriorityQueue&lt;ListNode&gt; queue = <span class="keyword">new</span> PriorityQueue&lt;ListNode&gt;(lists.length, <span class="keyword">new</span> Comparator&lt;ListNode&gt;()&#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(ListNode h1,ListNode h2)</span></span>&#123;</span><br><span class="line">                <span class="keyword">return</span> h1.val - h2.val;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">for</span> (ListNode head : lists) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">null</span> != head)   queue.add(head);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (! queue.isEmpty()) &#123;</span><br><span class="line">            ListNode cur = queue.poll();</span><br><span class="line">            tail.next = cur;</span><br><span class="line">            tail = tail.next;</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">null</span> != cur.next) &#123;</span><br><span class="line">                queue.add(cur.next);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dummy.next;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="28-Ternary-Expression-Parser"><a href="#28-Ternary-Expression-Parser" class="headerlink" title="28. Ternary Expression Parser"></a>28. Ternary Expression Parser</h3><p>法一：Stack<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">parseTernary</span><span class="params">(String expression)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (expression == <span class="keyword">null</span>) <span class="keyword">return</span> expression;</span><br><span class="line">        Stack&lt;Character&gt; stack = <span class="keyword">new</span> Stack&lt;Character&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = expression.length() - <span class="number">1</span>; index &gt;= <span class="number">0</span>; index --) &#123;</span><br><span class="line">            <span class="keyword">char</span> cur = expression.charAt(index);</span><br><span class="line">            <span class="keyword">if</span> (cur == <span class="string">'?'</span>) &#123;</span><br><span class="line">                <span class="keyword">char</span> first = stack.pop();</span><br><span class="line">                stack.pop();</span><br><span class="line">                <span class="keyword">char</span> second = stack.pop();</span><br><span class="line">                index --;</span><br><span class="line">                <span class="keyword">if</span> (expression.charAt(index) == <span class="string">'T'</span>) stack.push(first);</span><br><span class="line">                <span class="keyword">else</span> stack.push(second);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                stack.push(cur);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span> + stack.pop();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<p>法二：binary search<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">parseTernary</span><span class="params">(String expression)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (expression == <span class="keyword">null</span>) <span class="keyword">return</span> expression;</span><br><span class="line">        Node root = buildTree(expression.toCharArray());</span><br><span class="line">        <span class="keyword">return</span> evaluate(root) + <span class="string">""</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">        <span class="keyword">char</span> val;</span><br><span class="line">        Node left, right, parent;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(<span class="keyword">char</span> val)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.val = val;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> Node <span class="title">buildTree</span><span class="params">(<span class="keyword">char</span>[] values)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (values.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        Node root = <span class="keyword">new</span> Node(values[<span class="number">0</span>]);</span><br><span class="line">        Node tmpNode = root;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; values.length; i ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (values[i] == <span class="string">'?'</span>) &#123;</span><br><span class="line">                Node left = <span class="keyword">new</span> Node(values[i + <span class="number">1</span>]);</span><br><span class="line">                tmpNode.left = left;</span><br><span class="line">                left.parent = tmpNode;</span><br><span class="line">                tmpNode = left;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (values[i] == <span class="string">':'</span>) &#123;</span><br><span class="line">                tmpNode = tmpNode.parent;</span><br><span class="line">                <span class="keyword">while</span> (tmpNode.right != <span class="keyword">null</span> &amp;&amp; tmpNode.parent != <span class="keyword">null</span>) &#123;</span><br><span class="line">                    tmpNode = tmpNode.parent;</span><br><span class="line">                &#125;</span><br><span class="line">                Node right = <span class="keyword">new</span> Node(values[i + <span class="number">1</span>]);</span><br><span class="line">                tmpNode.right = right;</span><br><span class="line">                right.parent = tmpNode;</span><br><span class="line">                tmpNode = right;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">char</span> <span class="title">evaluate</span><span class="params">(Node root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (root.val == <span class="string">'T'</span> || root.val == <span class="string">'F'</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (root.left == <span class="keyword">null</span> &amp;&amp; root.right == <span class="keyword">null</span>) <span class="keyword">return</span> root.val;</span><br><span class="line">            <span class="keyword">if</span> (root.val == <span class="string">'T'</span>) root = root.left;</span><br><span class="line">            <span class="keyword">else</span> root = root.right;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> root.val;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="29-Alien-Dictionary"><a href="#29-Alien-Dictionary" class="headerlink" title="29. Alien Dictionary"></a>29. Alien Dictionary</h3><p>注意在找到两个相邻String的第一个不通的单词后需要break此次比较。注意break的位置。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">alienOrder</span><span class="params">(String[] words)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (words == <span class="keyword">null</span> || words.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">        HashMap&lt;Character, Integer&gt; indegree = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        HashMap&lt;Character, HashSet&lt;Character&gt;&gt; outdegree = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (String word : words) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">char</span> ch : word.toCharArray()) &#123;</span><br><span class="line">                indegree.put(ch, <span class="number">0</span>);</span><br><span class="line">                outdegree.put(ch, <span class="keyword">new</span> HashSet&lt;Character&gt;());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt; words.length - <span class="number">1</span>; index ++) &#123;</span><br><span class="line">            String curWord = words[index];</span><br><span class="line">            String nextWord = words[index + <span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span> (curWord.length() &gt; nextWord.length() &amp;&amp; curWord.startsWith(nextWord)) <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> charIndex = <span class="number">0</span>; charIndex &lt; Math.min(curWord.length(), nextWord.length()); charIndex ++) &#123;</span><br><span class="line">                <span class="keyword">char</span> curChar = curWord.charAt(charIndex);</span><br><span class="line">                <span class="keyword">char</span> nextChar = nextWord.charAt(charIndex);</span><br><span class="line">                <span class="keyword">if</span> (curChar != nextChar) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (!outdegree.get(curChar).contains(nextChar)) &#123;</span><br><span class="line">                        outdegree.get(curChar).add(nextChar);</span><br><span class="line">                        indegree.put(nextChar, indegree.get(nextChar) + <span class="number">1</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        StringBuilder result = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        Queue&lt;Character&gt; queue = <span class="keyword">new</span> LinkedList&lt;Character&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> key : indegree.keySet()) &#123;</span><br><span class="line">            <span class="comment">// System.out.println(key + ":" + indegree.get(key));</span></span><br><span class="line">            <span class="keyword">if</span> (indegree.get(key) == <span class="number">0</span>) &#123;</span><br><span class="line">                queue.offer(key);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (! queue.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">int</span> size = queue.size();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt; size; index ++) &#123;</span><br><span class="line">                <span class="keyword">char</span> curChar = queue.poll();</span><br><span class="line">                result.append(curChar);</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">char</span> nextChar : outdegree.get(curChar)) &#123;</span><br><span class="line">                    indegree.put(nextChar, indegree.get(nextChar) - <span class="number">1</span>);</span><br><span class="line">                    <span class="keyword">if</span> (indegree.get(nextChar) == <span class="number">0</span>) queue.offer(nextChar);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// System.out.println(result.toString());</span></span><br><span class="line">        <span class="keyword">return</span> result.length() == indegree.size() ? result.toString() : <span class="string">""</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="30-party-problem"><a href="#30-party-problem" class="headerlink" title="30. party problem"></a>30. party problem</h3><p>类似于rob house 3.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;TreeNode, Integer&gt; mp = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">rob</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">null</span> == root) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (mp.containsKey(root)) <span class="keyword">return</span> mp.get(root);</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">null</span> == root.left &amp;&amp; <span class="keyword">null</span> == root.right) <span class="keyword">return</span> root.val;</span><br><span class="line">        <span class="keyword">int</span> robCurrent = root.val;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">null</span> != root.left) &#123;</span><br><span class="line">            robCurrent += rob(root.left.left) + rob(root.left.right);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">null</span> != root.right) &#123;</span><br><span class="line">            robCurrent += rob(root.right.left) + rob(root.right.right);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> result = Math.max(robCurrent, rob(root.left) + rob(root.right));</span><br><span class="line">        mp.put(root, result);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="31-Ugly-Number"><a href="#31-Ugly-Number" class="headerlink" title="31. Ugly Number"></a>31. Ugly Number</h3><p>whether a number is Ugly Number?</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isUgly</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (num &lt; <span class="number">1</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (num == <span class="number">1</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">while</span> (num % <span class="number">2</span> == <span class="number">0</span>) num &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (num % <span class="number">3</span> == <span class="number">0</span>) num /= <span class="number">3</span>;</span><br><span class="line">        <span class="keyword">while</span> (num % <span class="number">5</span> == <span class="number">0</span>) num /= <span class="number">5</span>;</span><br><span class="line">        <span class="keyword">return</span> num == <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>find the kth ugly number</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">nthUglyNumber</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (n &lt; <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span>[] nums = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">        nums[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> p2 = <span class="number">0</span>, p3 = <span class="number">0</span>, p5 = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i ++) &#123;</span><br><span class="line">            nums[i] = Math.min(nums[p2] * <span class="number">2</span>, Math.min(nums[p3] * <span class="number">3</span>, nums[p5] * <span class="number">5</span>));</span><br><span class="line">            <span class="keyword">if</span> (nums[i] == nums[p2] * <span class="number">2</span>) p2 ++;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] == nums[p3] * <span class="number">3</span>) p3 ++;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] == nums[p5] * <span class="number">5</span>) p5 ++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums[n - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>super Ugly number<br>prime candidates are a k length array</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">nthSuperUglyNumber</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span>[] primes)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len = primes.length;</span><br><span class="line">        <span class="keyword">int</span>[] pointers = <span class="keyword">new</span> <span class="keyword">int</span>[len];</span><br><span class="line">        <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">        result[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i ++) &#123;</span><br><span class="line">            <span class="keyword">int</span> min = findMin(primes, result, pointers);</span><br><span class="line">            result[i] = min;</span><br><span class="line">            updatePointers(primes, result, pointers, min);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result[n - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">findMin</span><span class="params">(<span class="keyword">int</span>[] primes, <span class="keyword">int</span>[] result, <span class="keyword">int</span>[] pointers)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> min = Integer.MAX_VALUE;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; primes.length; i ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (primes[i] * result[pointers[i]] &lt; min) &#123;</span><br><span class="line">                min = primes[i] * result[pointers[i]];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> min;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">updatePointers</span><span class="params">(<span class="keyword">int</span>[] primes, <span class="keyword">int</span>[] result, <span class="keyword">int</span>[] pointers, <span class="keyword">int</span> min)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; primes.length; i ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (primes[i] * result[pointers[i]] == min) pointers[i] ++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="32-K步从一个点到另一个点的路径总数"><a href="#32-K步从一个点到另一个点的路径总数" class="headerlink" title="32. K步从一个点到另一个点的路径总数"></a>32. K步从一个点到另一个点的路径总数</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findPathNumber</span><span class="params">(<span class="keyword">int</span> row, <span class="keyword">int</span> col, <span class="keyword">int</span> startRow, <span class="keyword">int</span> startCol, <span class="keyword">int</span> endRow, <span class="keyword">int</span> endCol, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[][][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[row][col][k + <span class="number">1</span>];</span><br><span class="line">        dp[startRow][startCol][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> step = <span class="number">1</span>; step &lt;= k; step ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> rowIndex = <span class="number">0</span>; rowIndex &lt; row; rowIndex ++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> colIndex = <span class="number">0</span>; colIndex &lt; col; colIndex ++) &#123;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> tmpRow = Math.max(<span class="number">0</span>, rowIndex - <span class="number">1</span>); tmpRow &lt;= Math.min(row - <span class="number">1</span>, rowIndex + <span class="number">1</span>); tmpRow ++) &#123;</span><br><span class="line">                        <span class="keyword">for</span> (<span class="keyword">int</span> tmpCol = Math.max(<span class="number">0</span>, colIndex - <span class="number">1</span>); tmpCol &lt;= Math.min(col - <span class="number">1</span>, colIndex + <span class="number">1</span>); tmpCol ++) &#123;</span><br><span class="line">                            <span class="keyword">if</span> (tmpRow == rowIndex &amp;&amp; tmpCol == colIndex) <span class="keyword">continue</span>;</span><br><span class="line">                            dp[rowIndex][colIndex][step] += dp[tmpRow][tmpCol][step - <span class="number">1</span>];</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[endRow][endCol][k];</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="33-Find-Longest-Increasing-Subsequence"><a href="#33-Find-Longest-Increasing-Subsequence" class="headerlink" title="33. Find Longest Increasing Subsequence"></a>33. Find Longest Increasing Subsequence</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findLongestSubsequence</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        ArrayList&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> num : nums) &#123;</span><br><span class="line">            <span class="keyword">int</span> pos = findInsertPos(result, num);</span><br><span class="line">            <span class="keyword">if</span> (pos &lt; result.size()) result.set(pos, num);</span><br><span class="line">            <span class="keyword">else</span> result.add(num);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// for (int num : result) System.out.println(num);</span></span><br><span class="line">        <span class="keyword">return</span> result.size();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// find first number larger than insert num</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">findInsertPos</span><span class="params">(ArrayList&lt;Integer&gt; list, <span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> pos = <span class="number">0</span>, left = <span class="number">0</span>, right = list.size() - <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// while (pos &lt; list.size() &amp;&amp; list.get(pos) &lt; num) pos ++;</span></span><br><span class="line">        <span class="comment">// return pos;</span></span><br><span class="line">        <span class="keyword">if</span> (list.size() == <span class="number">0</span> || list.get(right) &lt;= num) <span class="keyword">return</span> right + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (list.get(mid) &lt; num) &#123;</span><br><span class="line">                left = mid + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (list.get(mid) &gt; num) &#123;</span><br><span class="line">                right = mid;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> mid;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> left;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Solution sol = <span class="keyword">new</span> Solution();</span><br><span class="line">        <span class="keyword">int</span>[] nums = &#123;<span class="number">10</span>,<span class="number">9</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">7</span>,<span class="number">101</span>,<span class="number">18</span>&#125;;</span><br><span class="line">        <span class="keyword">int</span> res = sol.findLongestSubsequence(nums);</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="34-Best-Meeting-Point"><a href="#34-Best-Meeting-Point" class="headerlink" title="34. Best Meeting Point"></a>34. Best Meeting Point</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[][] grid = &#123;&#123;<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>&#125;, &#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;, &#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>&#125;&#125;;</span><br><span class="line">        <span class="keyword">int</span> res = minTotalDistance(grid);</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minTotalDistance</span><span class="params">(<span class="keyword">int</span>[][] grid)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (grid == <span class="keyword">null</span> || grid.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> row = grid.length, col = grid[<span class="number">0</span>].length, result = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span>[] horizonSum = <span class="keyword">new</span> <span class="keyword">int</span>[col];</span><br><span class="line">        <span class="keyword">int</span>[] verticalSum = <span class="keyword">new</span> <span class="keyword">int</span>[row];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> rowIndex = <span class="number">0</span>; rowIndex &lt; row; rowIndex ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> colIndex = <span class="number">0</span>; colIndex &lt; col; colIndex ++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (grid[rowIndex][colIndex] == <span class="number">1</span>) &#123;</span><br><span class="line">                    horizonSum[colIndex] ++;</span><br><span class="line">                    verticalSum[rowIndex] ++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] nums : <span class="keyword">new</span> <span class="keyword">int</span>[][]&#123;horizonSum, verticalSum&#125;) &#123;</span><br><span class="line">            <span class="keyword">int</span> left = <span class="number">0</span>, right = nums.length - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">                <span class="keyword">int</span> movePoints = Math.min(nums[left], nums[right]);</span><br><span class="line">                result += (right - left) * movePoints;</span><br><span class="line">                <span class="keyword">if</span> ((nums[left] -= movePoints) == <span class="number">0</span>) left ++;</span><br><span class="line">                <span class="keyword">if</span> ((nums[right] -= movePoints) == <span class="number">0</span>) right --;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="35-Shortest-Distance-From-all-Buildings"><a href="#35-Shortest-Distance-From-all-Buildings" class="headerlink" title="35. Shortest Distance From all Buildings"></a>35. Shortest Distance From all Buildings</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. bfs 写成 dfs</span></span><br><span class="line">    <span class="comment">// 2. visited 需要立刻赋值，即在将下一个需要访问的点加入queue中时就需要赋值；</span></span><br><span class="line">    <span class="comment">// 3. 在遍历矩阵时，只有当矩阵点为0时才可以进行结果比较；</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">shortestDistance</span><span class="params">(<span class="keyword">int</span>[][] grid)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (grid == <span class="keyword">null</span> || <span class="number">1</span> &gt; grid.length) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> row = grid.length, col = grid[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">int</span>[][] canBeVisited = <span class="keyword">new</span> <span class="keyword">int</span>[row][col];</span><br><span class="line">        <span class="keyword">int</span>[][] roadMap = <span class="keyword">new</span> <span class="keyword">int</span>[row][col];</span><br><span class="line">        <span class="keyword">int</span> buildingNumber = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; row; i ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; col; j ++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (grid[i][j] == <span class="number">1</span>) &#123;</span><br><span class="line">                    buildingNumber ++;</span><br><span class="line">                    bfs(grid, i, j, canBeVisited, roadMap);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> result = Integer.MAX_VALUE;</span><br><span class="line">        <span class="keyword">int</span>[] location = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; row; i ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; col; j ++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (grid[i][j] == <span class="number">0</span> &amp;&amp; canBeVisited[i][j] == buildingNumber &amp;&amp; roadMap[i][j] &lt; result) &#123;</span><br><span class="line">                    result = roadMap[i][j];</span><br><span class="line">                    location[<span class="number">0</span>] = i; location[<span class="number">1</span>] = j;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result == Integer.MAX_VALUE ? -<span class="number">1</span> : result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span>[][] shifts = <span class="keyword">new</span> <span class="keyword">int</span>[][]&#123;&#123;<span class="number">0</span>, -<span class="number">1</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;&#125;;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">bfs</span><span class="params">(<span class="keyword">int</span>[][] grid, <span class="keyword">int</span> r, <span class="keyword">int</span> c, <span class="keyword">int</span>[][] canBeVisited, <span class="keyword">int</span>[][] roadMap)</span> </span>&#123;</span><br><span class="line">        Queue&lt;<span class="keyword">int</span>[]&gt; nextLevel = <span class="keyword">new</span> LinkedList&lt;<span class="keyword">int</span>[]&gt;();</span><br><span class="line">        nextLevel.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;r, c&#125;);</span><br><span class="line">        <span class="keyword">int</span> level = <span class="number">0</span>, row = grid.length, col = grid[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">boolean</span>[][] visited = <span class="keyword">new</span> <span class="keyword">boolean</span>[row][col];</span><br><span class="line">        <span class="keyword">while</span> (! nextLevel.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">int</span> size = nextLevel.size();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt; size; index ++) &#123;</span><br><span class="line">                <span class="keyword">int</span>[] cur = nextLevel.poll();</span><br><span class="line">                <span class="keyword">int</span> i = cur[<span class="number">0</span>], j = cur[<span class="number">1</span>];</span><br><span class="line">                canBeVisited[i][j] ++;</span><br><span class="line">                roadMap[i][j] += level;        </span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span>[] shift : shifts) &#123;</span><br><span class="line">                    <span class="keyword">int</span> ii = i + shift[<span class="number">0</span>], jj = j + shift[<span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">if</span> (ii &lt; <span class="number">0</span> || ii &gt;= row || jj &lt; <span class="number">0</span> || jj &gt;= col || visited[ii][jj] || grid[ii][jj] != <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">                    visited[ii][jj] = <span class="keyword">true</span>;</span><br><span class="line">                    nextLevel.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;ii, jj&#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            level ++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="36-Regular-expression-matching"><a href="#36-Regular-expression-matching" class="headerlink" title="36. Regular expression matching"></a>36. Regular expression matching</h3><p>leetcode 10: regular expression matching<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isMatch</span><span class="params">(String s, String p)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> row = s.length(), column = p.length();</span><br><span class="line">        <span class="keyword">boolean</span>[][] match = <span class="keyword">new</span> <span class="keyword">boolean</span>[row + <span class="number">1</span>][column + <span class="number">1</span>];</span><br><span class="line">        match[<span class="number">0</span>][<span class="number">0</span>] = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">2</span>; j &lt;= column; j ++) match[<span class="number">0</span>][j] = match[<span class="number">0</span>][j - <span class="number">2</span>] &amp;&amp; (p.charAt(j - <span class="number">1</span>) == <span class="string">'*'</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= row; i ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= column; j ++) &#123;</span><br><span class="line">                <span class="keyword">if</span> ((s.charAt(i - <span class="number">1</span>) == p.charAt(j - <span class="number">1</span>)) || (p.charAt(j - <span class="number">1</span>) == <span class="string">'.'</span>)) &#123;</span><br><span class="line">                    match[i][j] = match[i - <span class="number">1</span>][j - <span class="number">1</span>];</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (p.charAt(j - <span class="number">1</span>) == <span class="string">'*'</span>) &#123;</span><br><span class="line">                    match[i][j] = match[i][j - <span class="number">1</span>] || match[i][j - <span class="number">2</span>] || (((i &gt; <span class="number">1</span> &amp;&amp; s.charAt(i - <span class="number">1</span>) == p.charAt(j - <span class="number">2</span>)) || p.charAt(j - <span class="number">2</span>) == <span class="string">'.'</span>) &amp;&amp; match[i - <span class="number">1</span>][j]);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    match[i][j] = <span class="keyword">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> match[row][column];</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<p>leetcode 44: wildcard matching<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isMatch</span><span class="params">(String s, String p)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> row = s.length(), column = p.length();</span><br><span class="line">       <span class="keyword">boolean</span>[][] match = <span class="keyword">new</span> <span class="keyword">boolean</span>[row + <span class="number">1</span>][column + <span class="number">1</span>];</span><br><span class="line">       match[<span class="number">0</span>][<span class="number">0</span>] = <span class="keyword">true</span>;</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= column; j ++) match[<span class="number">0</span>][j] = match[<span class="number">0</span>][j - <span class="number">1</span>] &amp;&amp; (p.charAt(j - <span class="number">1</span>) == <span class="string">'*'</span>);</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= row; i ++) &#123;</span><br><span class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= column; j ++) &#123;</span><br><span class="line">               <span class="keyword">if</span> (p.charAt(j - <span class="number">1</span>) == s.charAt(i - <span class="number">1</span>) || p.charAt(j - <span class="number">1</span>) == <span class="string">'?'</span>) &#123;</span><br><span class="line">                   match[i][j] = match[i - <span class="number">1</span>][j - <span class="number">1</span>];</span><br><span class="line">               &#125; <span class="keyword">else</span> <span class="keyword">if</span> (p.charAt(j - <span class="number">1</span>) == <span class="string">'*'</span>) &#123;</span><br><span class="line">                   match[i][j] = match[i - <span class="number">1</span>][j] || match[i][j - <span class="number">1</span>];</span><br><span class="line">               &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                   match[i][j] = <span class="keyword">false</span>;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> match[row][column];</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="37-Pass-Radar-Zone-Problem"><a href="#37-Pass-Radar-Zone-Problem" class="headerlink" title="37. Pass Radar Zone Problem"></a>37. Pass Radar Zone Problem</h4><p>Border is two lines</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Radar[] radars = <span class="keyword">new</span> Radar[<span class="number">2</span>];</span><br><span class="line">        radars[<span class="number">0</span>] = <span class="keyword">new</span> Radar(<span class="number">3</span>,<span class="number">3</span>,<span class="number">3</span>);</span><br><span class="line">        radars[<span class="number">1</span>] = <span class="keyword">new</span> Radar(<span class="number">3</span>,<span class="number">8</span>,<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">boolean</span> res = canPassRadarArea(radars, <span class="number">10</span>, <span class="number">0</span>);</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">canPassRadarArea</span><span class="params">(Radar[] radars, <span class="keyword">int</span> top, <span class="keyword">int</span> bottom)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (radars == <span class="keyword">null</span> || radars.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">int</span>[] father = <span class="keyword">new</span> <span class="keyword">int</span>[radars.length];</span><br><span class="line">        Arrays.fill(father, -<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt; radars.length - <span class="number">1</span>; index ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> otherIndex = index + <span class="number">1</span>; otherIndex &lt; radars.length; otherIndex ++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (didIntersected(radars[index], radars[otherIndex])) &#123;</span><br><span class="line">                    union(index, otherIndex, father, radars);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt; radars.length; index ++) &#123;</span><br><span class="line">            <span class="keyword">int</span> fatherRadarIndex = find(index, father);</span><br><span class="line">            Radar fatherRadar = radars[fatherRadarIndex];</span><br><span class="line">            <span class="keyword">if</span> (fatherRadar.top &gt;= top &amp;&amp; fatherRadar.bottom &lt;= bottom) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">didIntersected</span><span class="params">(Radar first, Radar second)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">double</span> centerDistanceSquare = Math.pow(first.x - second.x, <span class="number">2</span>) + Math.pow(first.y - second.y, <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">double</span> radiusSquare = Math.pow(first.r + second.r, <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">return</span> radiusSquare &lt;= centerDistanceSquare;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">union</span><span class="params">(<span class="keyword">int</span> firstIndex, <span class="keyword">int</span> secondIndex, <span class="keyword">int</span>[] fathers, Radar[] radars)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> firstFather = find(firstIndex, fathers);</span><br><span class="line">        <span class="keyword">int</span> secondFather = find(secondIndex, fathers);</span><br><span class="line">        <span class="keyword">if</span> (firstFather != secondFather) &#123;</span><br><span class="line">            fathers[firstFather] = secondFather;</span><br><span class="line">            radars[secondFather].top = Math.max(radars[secondFather].top, radars[firstFather].top);</span><br><span class="line">            radars[secondFather].bottom = Math.min(radars[secondFather].bottom, radars[firstFather].bottom);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> radarIndex, <span class="keyword">int</span>[] father)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (-<span class="number">1</span> != father[radarIndex]) &#123;</span><br><span class="line">            radarIndex = father[radarIndex];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> radarIndex;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Radar</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> x, y, r, top, bottom;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Radar</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> r)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.x = x;</span><br><span class="line">            <span class="keyword">this</span>.y = y;</span><br><span class="line">            <span class="keyword">this</span>.r = r;</span><br><span class="line">            <span class="keyword">this</span>.top = y + r;</span><br><span class="line">            <span class="keyword">this</span>.bottom = y - r;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>Borders is a square room</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">        ArrayList&lt;Radar&gt; radars = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        radars.add(<span class="keyword">new</span> Radar(<span class="number">5</span>,<span class="number">3</span>,<span class="number">3</span>));</span><br><span class="line">        radars.add(<span class="keyword">new</span> Radar(<span class="number">5</span>,<span class="number">8</span>,<span class="number">2</span>));</span><br><span class="line">        <span class="keyword">boolean</span> res = canPassArea(<span class="number">0</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">0</span>, radars);</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Radar</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> x, y, radius, left, right, top, bottom;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Radar</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> radius)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.x = x;</span><br><span class="line">            <span class="keyword">this</span>.y = y;</span><br><span class="line">            <span class="keyword">this</span>.radius = radius;</span><br><span class="line">            <span class="keyword">this</span>.left = x - radius;</span><br><span class="line">            <span class="keyword">this</span>.right = x + radius;</span><br><span class="line">            <span class="keyword">this</span>.top = y + radius;</span><br><span class="line">            <span class="keyword">this</span>.bottom = y - radius;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canPassArea</span><span class="params">(<span class="keyword">int</span> left, <span class="keyword">int</span> right, <span class="keyword">int</span> top, <span class="keyword">int</span> bottom, ArrayList&lt;Radar&gt; radars)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (radars == <span class="keyword">null</span> || radars.size() == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">int</span>[] father = <span class="keyword">new</span> <span class="keyword">int</span>[radars.size()];</span><br><span class="line">        Arrays.fill(father, -<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> firstRadar = <span class="number">0</span>; firstRadar &lt; radars.size(); firstRadar ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> secondRadar = firstRadar + <span class="number">1</span>; secondRadar &lt; radars.size(); secondRadar ++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (isIntersected(radars.get(firstRadar), radars.get(secondRadar))) &#123;</span><br><span class="line">                    union(firstRadar, secondRadar, father, radars);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt; radars.size(); index ++) &#123;</span><br><span class="line">            Radar radar = radars.get(index);</span><br><span class="line">            <span class="keyword">if</span> ((radar.left &lt;= left || radar.bottom &lt;= bottom) &amp;&amp; (radar.top &gt;= top || radar.right &gt;= right)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isIntersected</span><span class="params">(Radar firstRadar, Radar secondRadar)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (Math.pow(firstRadar.x - secondRadar.x, <span class="number">2</span>) + Math.pow(firstRadar.y - secondRadar.y, <span class="number">2</span>) &lt;= Math.pow(firstRadar.radius + secondRadar.radius, <span class="number">2</span>)) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">union</span><span class="params">(<span class="keyword">int</span> firstRadarIndex, <span class="keyword">int</span> secondRadarIndex, <span class="keyword">int</span>[] father, ArrayList&lt;Radar&gt; radars)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> firstFather = find(firstRadarIndex, father);</span><br><span class="line">        <span class="keyword">int</span> secondFather = find(secondRadarIndex, father);</span><br><span class="line">        <span class="keyword">if</span> (firstFather != secondFather) &#123;</span><br><span class="line">            father[firstFather] = secondFather;</span><br><span class="line">            radars.get(secondRadarIndex).left = Math.min(radars.get(secondRadarIndex).left, radars.get(firstRadarIndex).left);</span><br><span class="line">            radars.get(secondRadarIndex).right = Math.max(radars.get(secondRadarIndex).right, radars.get(firstRadarIndex).right);</span><br><span class="line">            radars.get(secondRadarIndex).top = Math.max(radars.get(secondRadarIndex).top, radars.get(firstRadarIndex).top);</span><br><span class="line">            radars.get(secondRadarIndex).bottom = Math.min(radars.get(secondRadarIndex).bottom, radars.get(firstRadarIndex).bottom);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> radarIndex, <span class="keyword">int</span>[] father)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (father[radarIndex] != -<span class="number">1</span>) &#123;</span><br><span class="line">            radarIndex = father[radarIndex];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> radarIndex;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="38-BST-TO-HashMap"><a href="#38-BST-TO-HashMap" class="headerlink" title="38. BST TO HashMap"></a>38. BST TO HashMap</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Map map = <span class="keyword">new</span> Map();</span><br><span class="line">    System.out.println(map.size());</span><br><span class="line">    map.put(<span class="string">"Country"</span>, <span class="string">"US"</span>);</span><br><span class="line">    System.out.println(map.size());</span><br><span class="line">    map.put(<span class="string">"Fruit"</span>, <span class="string">"Apple"</span>);</span><br><span class="line">    System.out.println(map.size());</span><br><span class="line">    map.put(<span class="string">"Fruit"</span>, <span class="string">"Mango"</span>);</span><br><span class="line">    System.out.println(map.size());</span><br><span class="line">    map.put(<span class="string">"Planet"</span>, <span class="string">"Earth"</span>);</span><br><span class="line">    System.out.println(map.size());</span><br><span class="line">    map.put(<span class="string">"App"</span>, <span class="string">"PayPal"</span>);</span><br><span class="line">    System.out.println(map.size());</span><br><span class="line">    String fruit = map.get(<span class="string">"Fruit"</span>);</span><br><span class="line">    System.out.println(<span class="string">"Fruit value is: "</span> + fruit);</span><br><span class="line">    String country = map.get(<span class="string">"Country"</span>);</span><br><span class="line">    System.out.println(<span class="string">"Country value is: "</span> + country);</span><br><span class="line">    String planet = map.get(<span class="string">"Planet"</span>);</span><br><span class="line">    System.out.println(<span class="string">"Planet value is: "</span> + planet);</span><br><span class="line">    String app = map.get(<span class="string">"App"</span>);</span><br><span class="line">    System.out.println(<span class="string">"App value is: "</span> + app);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">    String key, val;</span><br><span class="line">    <span class="keyword">int</span> count;</span><br><span class="line">    Node left, right;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(String key, String val)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.key = key;</span><br><span class="line">        <span class="keyword">this</span>.val = val;</span><br><span class="line">        <span class="keyword">this</span>.count = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Map</span> </span>&#123;</span><br><span class="line">    Node root;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Map</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        root = <span class="keyword">new</span> Node(<span class="string">""</span>, <span class="string">""</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">get</span><span class="params">(String key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> getValue(root, key);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">put</span><span class="params">(String key, String val)</span> </span>&#123;</span><br><span class="line">        insertNode(root, key, val);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> root.count - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> Node <span class="title">insertNode</span><span class="params">(Node root, String key, String val)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">            Node node = <span class="keyword">new</span> Node(key, val);</span><br><span class="line">            <span class="keyword">return</span> node;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (root.key.compareTo(key) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            root.left = insertNode(root.left, key, val);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (root.key.compareTo(key) &lt; <span class="number">0</span>)&#123;</span><br><span class="line">            root.right = insertNode(root.right, key, val);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            root.val = val;</span><br><span class="line">        &#125;</span><br><span class="line">        root.count = (root.left == <span class="keyword">null</span> ? <span class="number">0</span> : root.left.count) + <span class="number">1</span> + (root.right == <span class="keyword">null</span> ? <span class="number">0</span> : root.right.count);</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> String <span class="title">getValue</span><span class="params">(Node root, String key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span> || key == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">if</span> (root.key.compareTo(key) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> getValue(root.left, key);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (root.key.compareTo(key) &lt; <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> getValue(root.right, key);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> root.val;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Advantages of BST over Hash Table:<br><a href="http://www.geeksforgeeks.org/advantages-of-bst-over-hash-table/" target="_blank" rel="noopener">http://www.geeksforgeeks.org/advantages-of-bst-over-hash-table/</a></p>
<ol>
<li>get all keys in sorted order</li>
<li>Doing order statistics, finding closest lower and greater elements, doing range queries are easy to do with BSTs</li>
<li>easy to customize BST</li>
<li>all operations are guaranteed to work in O(Logn) time.  But with Hashing, Θ(1) is average time and some particular operations may be costly, especially when table resizing happens.</li>
</ol>
<h3 id="39-Flatten-Binary-Tree-to-Linked-List"><a href="#39-Flatten-Binary-Tree-to-Linked-List" class="headerlink" title="39. Flatten Binary Tree to Linked List"></a>39. Flatten Binary Tree to Linked List</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">flatten</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">null</span> == root) <span class="keyword">return</span>;</span><br><span class="line">        flatten(root.left);</span><br><span class="line">        flatten(root.right);</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">null</span> != root.left) &#123;</span><br><span class="line">            TreeNode bottom = findBottomNode(root.left);</span><br><span class="line">            bottom.right = root.right;</span><br><span class="line">            root.right = root.left;</span><br><span class="line">            bottom.left = <span class="keyword">null</span>;</span><br><span class="line">            root.left = <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> TreeNode <span class="title">findBottomNode</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">null</span> == root) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        TreeNode bottom = root;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">null</span> != bottom &amp;&amp; <span class="keyword">null</span> != bottom.right) bottom = bottom.right;</span><br><span class="line">        <span class="keyword">return</span> bottom;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="40-Version-Number-Compare"><a href="#40-Version-Number-Compare" class="headerlink" title="40. Version Number Compare"></a>40. Version Number Compare</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareVersion</span><span class="params">(String version1, String version2)</span> </span>&#123;</span><br><span class="line">        String[] nums1 = version1.split(<span class="string">"\\."</span>);</span><br><span class="line">        String[] nums2 = version2.split(<span class="string">"\\."</span>);</span><br><span class="line">        <span class="keyword">int</span> index1 = <span class="number">0</span>, index2 = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (; index1 &lt; nums1.length &amp;&amp; index2 &lt; nums2.length; index1 ++, index2 ++) &#123;</span><br><span class="line">            <span class="keyword">int</span> num1 = Integer.valueOf(nums1[index1]);</span><br><span class="line">            <span class="keyword">int</span> num2 = Integer.valueOf(nums2[index2]);</span><br><span class="line">            <span class="keyword">if</span> (num1 &gt; num2) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (num1 &lt; num2) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (index1 &lt; nums1.length) &#123;</span><br><span class="line">            <span class="keyword">if</span> (Integer.valueOf(nums1[index1 ++]) &gt; <span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (index2 &lt; nums2.length) &#123;</span><br><span class="line">            <span class="keyword">if</span> (Integer.valueOf(nums2[index2 ++]) &gt; <span class="number">0</span>) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="41-Sqrt"><a href="#41-Sqrt" class="headerlink" title="41. Sqrt"></a>41. Sqrt</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">calculateSqrt</span><span class="params">(<span class="keyword">int</span> number)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (number &lt; <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> low = <span class="number">0</span>, high = number;</span><br><span class="line">        <span class="keyword">while</span> (low &lt;= high) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = low + (high - low) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (number / mid &gt;= mid &amp;&amp; number / (mid + <span class="number">1</span>) &lt; (mid + <span class="number">1</span>)) <span class="keyword">return</span> mid;</span><br><span class="line">            <span class="keyword">if</span> (number / mid &gt; mid) &#123;</span><br><span class="line">                low = mid + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                high = mid - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> low;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="42-Print-Path-from-root-to-leaf"><a href="#42-Print-Path-from-root-to-leaf" class="headerlink" title="42. Print Path from root to leaf"></a>42. Print Path from root to leaf</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PrintPathOfATree</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">TreeNode</span> </span>&#123;</span><br><span class="line">        String label;</span><br><span class="line">        ArrayList&lt;TreeNode&gt; children;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">TreeNode</span><span class="params">(String label)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.label = label;</span><br><span class="line">            <span class="keyword">this</span>.children = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        TreeNode nodeA = <span class="keyword">new</span> TreeNode(<span class="string">"a"</span>);</span><br><span class="line">        TreeNode nodeB = <span class="keyword">new</span> TreeNode(<span class="string">"b"</span>);</span><br><span class="line">        TreeNode nodeC = <span class="keyword">new</span> TreeNode(<span class="string">"c"</span>);</span><br><span class="line">        TreeNode nodeD = <span class="keyword">new</span> TreeNode(<span class="string">"d"</span>);</span><br><span class="line">        TreeNode nodeE = <span class="keyword">new</span> TreeNode(<span class="string">"e"</span>);</span><br><span class="line">        TreeNode nodeF = <span class="keyword">new</span> TreeNode(<span class="string">"f"</span>);</span><br><span class="line">        nodeA.children.add(nodeB);</span><br><span class="line">        nodeA.children.add(nodeC);</span><br><span class="line">        nodeA.children.add(nodeD);</span><br><span class="line">        nodeB.children.add(nodeE);</span><br><span class="line">        nodeE.children.add(nodeF);</span><br><span class="line">        printPath(nodeA);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">printPath</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        dfs(root, <span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(TreeNode root, ArrayList&lt;TreeNode&gt; path)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        path.add(root);</span><br><span class="line">        <span class="keyword">if</span> (root.children.size() == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (TreeNode node : path) &#123;</span><br><span class="line">                System.out.print(node.label + <span class="string">"  "</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">for</span> (TreeNode child : root.children) &#123;</span><br><span class="line">                dfs(child, path);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        path.remove(path.size() - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="43-拿coin问题"><a href="#43-拿coin问题" class="headerlink" title="43. 拿coin问题"></a>43. 拿coin问题</h3><p>谁先拿到最后一个获胜，可以拿1或者2个<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">firstWillWin</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> !(n % <span class="number">3</span> == <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<p>可以从左边拿1或2个，value高的获胜<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (values == <span class="keyword">null</span> || values.length &lt; <span class="number">3</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">int</span> len = values.length;</span><br><span class="line">        <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[len + <span class="number">2</span>];</span><br><span class="line">        dp[len - <span class="number">1</span>] = values[len - <span class="number">1</span>];</span><br><span class="line">        dp[len - <span class="number">2</span>] = values[len - <span class="number">1</span>] + values[len - <span class="number">2</span>];</span><br><span class="line">        <span class="keyword">int</span> sum = dp[len - <span class="number">2</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = len - <span class="number">3</span>; index &gt;= <span class="number">0</span>; index --) &#123;</span><br><span class="line">            sum += values[index];</span><br><span class="line">            dp[index] = Math.max(values[index] + Math.min(dp[index + <span class="number">2</span>], dp[index + <span class="number">3</span>]), values[index] + values[index + <span class="number">1</span>] + Math.min(dp[index + <span class="number">3</span>], dp[index + <span class="number">4</span>]));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[<span class="number">0</span>] * <span class="number">2</span> &gt; sum;</span><br></pre></td></tr></table></figure></p>
<p>可以从左右各取一个，但是B童鞋一直取两头最大的那个，A先手，问A可以获得的最大总和是多少<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getMaximumNumber</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> len = nums.length;</span><br><span class="line">        <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[len][len];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i ++) &#123;</span><br><span class="line">            dp[i][i] = nums[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len - <span class="number">1</span>; i ++) &#123;</span><br><span class="line">            dp[i][i + <span class="number">1</span>] = Math.max(nums[i], nums[i + <span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; len; i ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; len - i; j ++) &#123;</span><br><span class="line">                <span class="keyword">int</span> pickLeft = nums[j] + (nums[j + <span class="number">1</span>] &gt; nums[j + i] ? dp[j + <span class="number">2</span>][j + i] : dp[j + <span class="number">1</span>][i + j - <span class="number">1</span>]);</span><br><span class="line">                <span class="keyword">int</span> pickRight = nums[i + j] + (nums[j] &gt; nums[i + j - <span class="number">1</span>] ? dp[j + <span class="number">1</span>][j + i - <span class="number">1</span>] : dp[j][j + i - <span class="number">2</span>]);</span><br><span class="line">                dp[j][j + i] = Math.max(pickLeft, pickRight);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[<span class="number">0</span>][len - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="44-Auto-Complete"><a href="#44-Auto-Complete" class="headerlink" title="44. Auto Complete"></a>44. Auto Complete</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AutoComplete</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> TrieNode root, lastInputNode;</span><br><span class="line">    Stack&lt;TrieNode&gt; allLastInputs;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">AutoComplete</span><span class="params">(ArrayList&lt;String&gt; dictionary)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.root = buildTrieTree(dictionary);</span><br><span class="line">        <span class="keyword">this</span>.lastInputNode = <span class="keyword">this</span>.root;</span><br><span class="line">        <span class="keyword">this</span>.allLastInputs = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">        allLastInputs.push(<span class="keyword">this</span>.root);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">TrieNode</span> </span>&#123;</span><br><span class="line">        <span class="keyword">char</span> val;</span><br><span class="line">        <span class="keyword">int</span> count;</span><br><span class="line">        HashMap&lt;Character, TrieNode&gt; children;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">TrieNode</span><span class="params">(<span class="keyword">char</span> var)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.val = var;</span><br><span class="line">            <span class="keyword">this</span>.count = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">this</span>.children = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> TrieNode <span class="title">buildTrieTree</span><span class="params">(ArrayList&lt;String&gt; dictionary)</span> </span>&#123;</span><br><span class="line">        TrieNode root = <span class="keyword">new</span> TrieNode(<span class="string">' '</span>);</span><br><span class="line">        <span class="keyword">if</span> (dictionary == <span class="keyword">null</span>) <span class="keyword">return</span> root;</span><br><span class="line">        <span class="keyword">for</span>(String word : dictionary) &#123;</span><br><span class="line">            insertWord(root, word);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">insertWord</span><span class="params">(TrieNode root, String word)</span> </span>&#123;</span><br><span class="line">        TrieNode tmpNode = root;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> c : word.toCharArray()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (! tmpNode.children.containsKey(c)) tmpNode.children.put(c, <span class="keyword">new</span> TrieNode(c));</span><br><span class="line">            TrieNode child = tmpNode.children.get(c);</span><br><span class="line">            child.count ++;</span><br><span class="line">            tmpNode = child;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">inputChar</span><span class="params">(<span class="keyword">char</span> c)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (! <span class="keyword">this</span>.lastInputNode.children.containsKey(c)) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>.lastInputNode = <span class="keyword">this</span>.lastInputNode.children.get(c);</span><br><span class="line">        <span class="keyword">this</span>.allLastInputs.push(<span class="keyword">this</span>.lastInputNode);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.lastInputNode.count;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">deleteChar</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.allLastInputs.size() == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>.allLastInputs.pop();</span><br><span class="line">        <span class="keyword">this</span>.lastInputNode = <span class="keyword">this</span>.allLastInputs.peek();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.lastInputNode.count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="45-Find-same-substring-and-number"><a href="#45-Find-same-substring-and-number" class="headerlink" title="45. Find same substring and number"></a>45. Find same substring and number</h3><p><a href="http://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=209891&amp;extra=page%3D1%26filter%3Dsortid%26sortid%3D311%26searchoption%5B3046%5D%5Bvalue%5D%3D21%26searchoption%5B3046%5D%5Btype%5D%3Dradio%26sortid%3D311" target="_blank" rel="noopener">http://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=209891&amp;extra=page%3D1%26filter%3Dsortid%26sortid%3D311%26searchoption%5B3046%5D%5Bvalue%5D%3D21%26searchoption%5B3046%5D%5Btype%5D%3Dradio%26sortid%3D311</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TreeNode</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    TreeNode left, right;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TreeNode</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.val = val;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ResultPair</span> </span>&#123;</span><br><span class="line">    TreeNode root;</span><br><span class="line">    <span class="keyword">int</span> count;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ResultPair</span><span class="params">(TreeNode root, <span class="keyword">int</span> count)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.root = root;</span><br><span class="line">        <span class="keyword">this</span>.count = count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> HashMap&lt;TreeNode, Integer&gt; <span class="title">findDuplicateSubtree</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    HashMap&lt;TreeNode, Integer&gt; result = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    HashMap&lt;String, ResultPair&gt; subtreeMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    generateSubtreeStringTag(root, subtreeMap);</span><br><span class="line">    <span class="keyword">for</span> (ResultPair pair : subtreeMap.values()) &#123;</span><br><span class="line">        <span class="keyword">if</span> (pair.count == <span class="number">1</span>) <span class="keyword">continue</span>;</span><br><span class="line">        result.put(pair.root, pair.count);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> String <span class="title">generateSubtreeStringTag</span><span class="params">(TreeNode root, HashMap&lt;String, ResultPair&gt; subtreeMap)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="string">"#"</span>;</span><br><span class="line">    <span class="keyword">if</span> (root.left == <span class="keyword">null</span> &amp;&amp; root.right == <span class="keyword">null</span>) <span class="keyword">return</span> String.valueOf(root.val);</span><br><span class="line">    String leftSubtreeTag = generateSubtreeStringTag(root.left, subtreeMap);</span><br><span class="line">    String rightSubtreeTag = generateSubtreeStringTag(root.right, subtreeMap);</span><br><span class="line">    String curTag = leftSubtreeTag + String.valueOf(root.val) + rightSubtreeTag;</span><br><span class="line">    <span class="keyword">if</span> (! subtreeMap.containsKey(curTag)) subtreeMap.put(curTag, <span class="keyword">new</span> ResultPair(root, <span class="number">0</span>));</span><br><span class="line">    subtreeMap.get(curTag).count ++;</span><br><span class="line">    <span class="keyword">return</span> curTag;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="46-矩阵中找路径，可经过一个点［1，m］次"><a href="#46-矩阵中找路径，可经过一个点［1，m］次" class="headerlink" title="46. 矩阵中找路径，可经过一个点［1，m］次"></a>46. 矩阵中找路径，可经过一个点［1，m］次</h3><p><a href="http://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=209889&amp;extra=page%3D1%26filter%3Dsortid%26sortid%3D311%26searchoption%5B3046%5D%5Bvalue%5D%3D21%26searchoption%5B3046%5D%5Btype%5D%3Dradio%26sortid%3D311" target="_blank" rel="noopener">http://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=209889&amp;extra=page%3D1%26filter%3Dsortid%26sortid%3D311%26searchoption%5B3046%5D%5Bvalue%5D%3D21%26searchoption%5B3046%5D%5Btype%5D%3Dradio%26sortid%3D311</a><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ArrayList&lt;String&gt; <span class="title">findPath</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> m)</span> </span>&#123;</span><br><span class="line">        ArrayList&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (matrix == <span class="keyword">null</span>) <span class="keyword">return</span> result;</span><br><span class="line">        dfs(matrix, <span class="keyword">new</span> <span class="keyword">int</span>[matrix.length][matrix[<span class="number">0</span>].length], <span class="number">0</span>, <span class="number">0</span>, <span class="keyword">new</span> StringBuilder(), <span class="number">0</span>, result, m);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[][] shifts = &#123;&#123;<span class="number">0</span>, -<span class="number">1</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;&#125;;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span>[][] visitedNumber, <span class="keyword">int</span> rowIndex, <span class="keyword">int</span> colIndex, StringBuilder path, <span class="keyword">int</span> visitedBlockNumber, ArrayList&lt;String&gt; result, <span class="keyword">int</span> maximumVisitedNumber)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> row = matrix.length, col = matrix[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">if</span> (visitedBlockNumber == row * col) &#123;</span><br><span class="line">            result.add(path.toString());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (visitedNumber[rowIndex][colIndex] == maximumVisitedNumber) <span class="keyword">return</span>;</span><br><span class="line">        path.append(matrix[rowIndex][colIndex]);</span><br><span class="line">        <span class="keyword">if</span> (visitedNumber[rowIndex][colIndex] == <span class="number">0</span>) visitedBlockNumber ++;</span><br><span class="line">        visitedNumber[rowIndex][colIndex] ++;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] shift : shifts) &#123;</span><br><span class="line">            <span class="keyword">int</span> nextRow = rowIndex + shift[<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">int</span> nextCol = colIndex + shift[<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span> (nextRow &lt; <span class="number">0</span> || nextRow &gt;= row || nextCol &lt; <span class="number">0</span> || nextCol &gt;= col) <span class="keyword">continue</span>;</span><br><span class="line">            dfs(matrix, visitedNumber, nextRow, nextCol, path, visitedBlockNumber, result, maximumVisitedNumber);</span><br><span class="line">        &#125;</span><br><span class="line">        visitedNumber[rowIndex][colIndex] --;</span><br><span class="line">        path.deleteCharAt(path.length() - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span> (visitedNumber[rowIndex][colIndex] == <span class="number">0</span>) visitedBlockNumber --;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="47-翻转矩阵中m个点，求结果，并且不考虑x-y-x-amp-y对称结果"><a href="#47-翻转矩阵中m个点，求结果，并且不考虑x-y-x-amp-y对称结果" class="headerlink" title="47. 翻转矩阵中m个点，求结果，并且不考虑x,y,x&amp;y对称结果"></a>47. 翻转矩阵中m个点，求结果，并且不考虑x,y,x&amp;y对称结果</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MatrixRotateElement</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[][] matrix = &#123;&#123;<span class="number">0</span>,<span class="number">0</span>&#125;, &#123;<span class="number">0</span>,<span class="number">0</span>&#125;&#125;;</span><br><span class="line">        rotateMatrixElement(matrix, <span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> ArrayList&lt;<span class="keyword">int</span>[][]&gt; rotateMatrixElement(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> num) &#123;</span><br><span class="line">        ArrayList&lt;<span class="keyword">int</span>[][]&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (matrix == <span class="keyword">null</span> || num == <span class="number">0</span> || num &gt; matrix.length * matrix[<span class="number">0</span>].length) <span class="keyword">return</span> result;</span><br><span class="line">        <span class="keyword">int</span> row = matrix.length, col = matrix[<span class="number">0</span>].length;</span><br><span class="line">        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; rotatedPoints = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"><span class="comment">//        backtracking(rotatedPoints, new ArrayList&lt;&gt;(), 0, num, new boolean[row * col], 0);</span></span><br><span class="line">        backtrackingRemoveDuplicate(rotatedPoints, <span class="keyword">new</span> ArrayList&lt;&gt;(), <span class="number">0</span>, num, <span class="keyword">new</span> <span class="keyword">boolean</span>[row * col], <span class="number">0</span>, <span class="keyword">new</span> HashSet&lt;String&gt;());</span><br><span class="line">        <span class="keyword">for</span> (ArrayList&lt;Integer&gt; points : rotatedPoints) &#123;</span><br><span class="line">            <span class="keyword">int</span>[][] tmpResult = <span class="keyword">new</span> <span class="keyword">int</span>[row][col];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> point : points) &#123;</span><br><span class="line">                tmpResult[point / col][point % col] = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            result.add(tmpResult);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> rowIndex = <span class="number">0</span>; rowIndex &lt; row; rowIndex ++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> colIndex = <span class="number">0</span>; colIndex &lt; col; colIndex ++) &#123;</span><br><span class="line">                    System.out.print(tmpResult[rowIndex][colIndex] + <span class="string">" "</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">"\n"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtracking</span><span class="params">(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; points, ArrayList&lt;Integer&gt; tmpPoints, <span class="keyword">int</span> number, <span class="keyword">int</span> totalNumber, <span class="keyword">boolean</span>[] visited, <span class="keyword">int</span> startIndex)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (tmpPoints.size() == totalNumber) &#123;</span><br><span class="line">            points.add(<span class="keyword">new</span> ArrayList&lt;&gt;(tmpPoints));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = startIndex; index &lt; visited.length; index ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (! visited[index]) &#123;</span><br><span class="line">                visited[index] = <span class="keyword">true</span>;</span><br><span class="line">                tmpPoints.add(index);</span><br><span class="line">                backtracking(points, tmpPoints, number + <span class="number">1</span>, totalNumber, visited, index + <span class="number">1</span>);</span><br><span class="line">                tmpPoints.remove(tmpPoints.size() - <span class="number">1</span>);</span><br><span class="line">                visited[index] = <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtrackingRemoveDuplicate</span><span class="params">(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; points, ArrayList&lt;Integer&gt; tmpPoints, <span class="keyword">int</span> number, <span class="keyword">int</span> totalNumber, <span class="keyword">boolean</span>[] visited, <span class="keyword">int</span> startIndex, HashSet&lt;String&gt; duplica)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (tmpPoints.size() == totalNumber) &#123;</span><br><span class="line">            <span class="keyword">if</span> (! didContains(tmpPoints, duplica, (<span class="keyword">int</span>)Math.sqrt(visited.length))) &#123;</span><br><span class="line">                points.add(<span class="keyword">new</span> ArrayList&lt;&gt;(tmpPoints));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = startIndex; index &lt; visited.length; index ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (! visited[index]) &#123;</span><br><span class="line">                visited[index] = <span class="keyword">true</span>;</span><br><span class="line">                tmpPoints.add(index);</span><br><span class="line">                backtrackingRemoveDuplicate(points, tmpPoints, number + <span class="number">1</span>, totalNumber, visited, index + <span class="number">1</span>, duplica);</span><br><span class="line">                tmpPoints.remove(tmpPoints.size() - <span class="number">1</span>);</span><br><span class="line">                visited[index] = <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">didContains</span><span class="params">(ArrayList&lt;Integer&gt; points, HashSet&lt;String&gt; visited, <span class="keyword">int</span> row)</span> </span>&#123;</span><br><span class="line">        String key = <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> point : points) &#123;</span><br><span class="line">            key = key + <span class="string">"#"</span> + point;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (visited.contains(key)) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        visited.add(key);</span><br><span class="line">        ArrayList&lt;String&gt; duplica = generateDuplicaKey(points, row);</span><br><span class="line">        <span class="keyword">for</span> (String dup : duplica) &#123;</span><br><span class="line">            visited.add(dup);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 假设矩阵ROW == COL</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> ArrayList&lt;String&gt; <span class="title">generateDuplicaKey</span><span class="params">(ArrayList&lt;Integer&gt; points, <span class="keyword">int</span> row)</span> </span>&#123;</span><br><span class="line">        ArrayList&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        String xDupPoint = <span class="string">""</span>, yDupPoint = <span class="string">""</span>, xyDupPoint = <span class="string">""</span>;</span><br><span class="line">        ArrayList&lt;Integer&gt; xDup = <span class="keyword">new</span> ArrayList&lt;&gt;(), yDup = <span class="keyword">new</span> ArrayList&lt;&gt;(), xyDup = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (Integer point : points) &#123;</span><br><span class="line">            <span class="keyword">int</span> rowIndex = point / row, colIndex = point % row;</span><br><span class="line">            xDup.add(rowIndex * row + (row - colIndex - <span class="number">1</span>));</span><br><span class="line">            yDup.add((row - rowIndex - <span class="number">1</span>) * row + colIndex);</span><br><span class="line">            xyDup.add((row - rowIndex - <span class="number">1</span>) * row + (rowIndex - colIndex - <span class="number">1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        Collections.sort(xDup);</span><br><span class="line">        Collections.sort(yDup);</span><br><span class="line">        Collections.sort(xyDup);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt; xDup.size(); index ++) &#123;</span><br><span class="line">            xDupPoint = xDupPoint + <span class="string">"#"</span> + xDup.get(index);</span><br><span class="line">            yDupPoint = yDupPoint + <span class="string">"#"</span> + yDup.get(index);</span><br><span class="line">            xyDupPoint = xyDupPoint + <span class="string">"#"</span> + xyDup.get(index);</span><br><span class="line">        &#125;</span><br><span class="line">        result.add(xDupPoint);</span><br><span class="line">        result.add(yDupPoint);</span><br><span class="line">        result.add(xyDupPoint);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="48-找出一个String中是否存在另一个String的Anagram"><a href="#48-找出一个String中是否存在另一个String的Anagram" class="headerlink" title="48. 找出一个String中是否存在另一个String的Anagram"></a>48. 找出一个String中是否存在另一个String的Anagram</h3><p>此种解法中易错的是在最后一个break前需要移动start指针。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">doesContainsAnagram</span><span class="params">(String s, String t)</span> </span>&#123;</span><br><span class="line">        Map&lt;Character, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;Character, Integer&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> c : t.toCharArray()) map.put(c, map.getOrDefault(c, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">int</span> mapSize = map.size();</span><br><span class="line">        Map&lt;Character, Integer&gt; mapCopy = <span class="keyword">new</span> HashMap&lt;&gt;(map);</span><br><span class="line">        <span class="keyword">int</span> start = <span class="number">0</span>, end = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (; end &lt; s.length(); end ++) &#123;</span><br><span class="line">            <span class="keyword">char</span> c = s.charAt(end);</span><br><span class="line">            <span class="keyword">if</span> (! map.containsKey(c)) &#123;</span><br><span class="line">                <span class="keyword">for</span> (; start &lt; end; start ++) &#123;</span><br><span class="line">                    <span class="keyword">char</span> pre = s.charAt(start);</span><br><span class="line">                    map.put(pre, map.get(pre) + <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                start = end + <span class="number">1</span>;</span><br><span class="line">                mapSize = map.size();</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                map.put(c, map.get(c) - <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span> (map.get(c) == <span class="number">0</span>) &#123;</span><br><span class="line">                    mapSize --;</span><br><span class="line">                    <span class="keyword">if</span> (mapSize == <span class="number">0</span>) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (map.get(c) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">for</span> (; start &lt;= end; start ++) &#123;</span><br><span class="line">                        <span class="keyword">char</span> pre = s.charAt(start);</span><br><span class="line">                        map.put(pre, map.get(pre) + <span class="number">1</span>);</span><br><span class="line">                        <span class="keyword">if</span> (pre != c) &#123;</span><br><span class="line">                            <span class="keyword">if</span> (map.get(pre) == <span class="number">1</span>) mapSize ++;</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                            start ++;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Solution sol = <span class="keyword">new</span> Solution();</span><br><span class="line">        <span class="keyword">boolean</span> res = sol.doesContainsAnagram(<span class="string">"aabab"</span>, <span class="string">"abb"</span>);</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="Index"><a href="#Index" class="headerlink" title="Index"></a>Index</h3><h4 id="51-Find-Subset-has-min-difference"><a href="#51-Find-Subset-has-min-difference" class="headerlink" title="51. Find Subset has min difference"></a>51. Find Subset has min difference</h4><h4 id="52-Reconstruct-Itinerary"><a href="#52-Reconstruct-Itinerary" class="headerlink" title="52. Reconstruct Itinerary"></a>52. Reconstruct Itinerary</h4><h3 id="51-Find-Subset-has-min-difference-1"><a href="#51-Find-Subset-has-min-difference-1" class="headerlink" title="51. Find Subset has min difference"></a>51. Find Subset has min difference</h3><p><a href="http://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=210172&amp;extra=page%3D1%26filter%3Dsortid%26sortid%3D311%26searchoption%5B3046%5D%5Bvalue%5D%3D1%26searchoption%5B3046%5D%5Btype%5D%3Dradio%26sortid%3D311" target="_blank" rel="noopener">http://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=210172&amp;extra=page%3D1%26filter%3Dsortid%26sortid%3D311%26searchoption%5B3046%5D%5Bvalue%5D%3D1%26searchoption%5B3046%5D%5Btype%5D%3Dradio%26sortid%3D311</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> ArrayList&lt;Integer&gt; <span class="title">solution</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> size)</span> </span>&#123;</span><br><span class="line">        ArrayList&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || size &gt; nums.length) <span class="keyword">return</span> result;</span><br><span class="line">        Arrays.sort(nums);</span><br><span class="line">        <span class="keyword">int</span> min = Integer.MAX_VALUE, minStartIndex = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = size - <span class="number">1</span>; index &lt; nums.length; index ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[index] - nums[index - size + <span class="number">1</span>] &lt; min) &#123;</span><br><span class="line">                minStartIndex = index - size + <span class="number">1</span>;</span><br><span class="line">                min = nums[index] - nums[index - size + <span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt; size; index ++) &#123;</span><br><span class="line">            result.add(nums[index + minStartIndex]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="52-Reconstruct-Itinerary-1"><a href="#52-Reconstruct-Itinerary-1" class="headerlink" title="52. Reconstruct Itinerary"></a>52. Reconstruct Itinerary</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReconstructItinery</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String[][] tickets = &#123;&#123;<span class="string">"JFK"</span>,<span class="string">"SFO"</span>&#125;,&#123;<span class="string">"JFK"</span>,<span class="string">"ATL"</span>&#125;,&#123;<span class="string">"SFO"</span>,<span class="string">"ATL"</span>&#125;,&#123;<span class="string">"ATL"</span>,<span class="string">"JFK"</span>&#125;,&#123;<span class="string">"ATL"</span>,<span class="string">"SFO"</span>&#125;&#125;;</span><br><span class="line">        List&lt;String&gt; result = findItinerary(tickets);</span><br><span class="line">        <span class="keyword">for</span> (String pos : result) &#123;</span><br><span class="line">            System.out.println(pos);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// treat ticket as an edge of graph [start, end];</span></span><br><span class="line">    <span class="comment">// calculate degree of each node</span></span><br><span class="line">    <span class="comment">// dfs start from JFK, start end to start, if there's no next station, insert position to the head of result. recursive</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">findItinerary</span><span class="params">(String[][] tickets)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"><span class="comment">//        HashMap&lt;String, List&lt;String&gt;&gt; graph = new HashMap&lt;&gt;();</span></span><br><span class="line">        HashMap&lt;String, PriorityQueue&lt;String&gt;&gt; graph = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (String[] ticket : tickets) &#123;</span><br><span class="line">            <span class="keyword">if</span>(! graph.containsKey(ticket[<span class="number">0</span>])) graph.put(ticket[<span class="number">0</span>], <span class="keyword">new</span> PriorityQueue&lt;String&gt;());</span><br><span class="line">            graph.get(ticket[<span class="number">0</span>]).offer(ticket[<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        dfs(result, graph, <span class="string">"JFK"</span>);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    tickets = [["MUC", "LHR"], ["JFK", "MUC"], ["SFO", "SJC"], ["LHR", "SFO"]]</span></span><br><span class="line"><span class="comment">//    Return ["JFK", "MUC", "LHR", "SFO", "SJC"].</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(List&lt;String&gt; result, HashMap&lt;String, PriorityQueue&lt;String&gt;&gt; graph, String curPos)</span> </span>&#123;</span><br><span class="line">        PriorityQueue&lt;String&gt; nextPosList = graph.get(curPos);</span><br><span class="line">        <span class="keyword">while</span> (nextPosList != <span class="keyword">null</span> &amp;&amp; !nextPosList.isEmpty()) &#123;</span><br><span class="line">            String next = nextPosList.poll();</span><br><span class="line">            nextPosList.remove(next);</span><br><span class="line">            dfs(result, graph, next);</span><br><span class="line">        &#125;</span><br><span class="line">        result.add(<span class="number">0</span>, curPos);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="53-Double-Linked-List"><a href="#53-Double-Linked-List" class="headerlink" title="53. Double Linked List"></a>53. Double Linked List</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">         String[] values = &#123;<span class="string">"1"</span>, <span class="string">"2"</span>, <span class="string">"3"</span>, <span class="string">"4"</span>, <span class="string">"5"</span>&#125;;</span><br><span class="line">        Node head = constructList(values);</span><br><span class="line">        HashSet&lt;String&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        set.add(<span class="string">"2"</span>); set.add(<span class="string">"5"</span>);</span><br><span class="line">        Node root = removeNodeByValue(head, set);</span><br><span class="line">        Node tmpNode = root;</span><br><span class="line">        <span class="keyword">while</span> (tmpNode != <span class="keyword">null</span>) &#123;</span><br><span class="line">            System.out.println(tmpNode.val);</span><br><span class="line">            tmpNode = tmpNode.next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">        String val;</span><br><span class="line">        Node pre, next;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(String val)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.val = val;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Node <span class="title">constructList</span><span class="params">(String[] list)</span> </span>&#123;</span><br><span class="line">        Node dummy = <span class="keyword">new</span> Node(<span class="string">""</span>);</span><br><span class="line">        Node preNode = dummy;</span><br><span class="line">        <span class="keyword">for</span> (String val : list) &#123;</span><br><span class="line">            Node curNode = <span class="keyword">new</span> Node(val);</span><br><span class="line">            preNode.next = curNode;</span><br><span class="line">            curNode.pre = preNode;</span><br><span class="line">            preNode = preNode.next;</span><br><span class="line">        &#125;</span><br><span class="line">        preNode.next = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">return</span> dummy.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Node <span class="title">removeNodeByValue</span><span class="params">(Node head, HashSet&lt;String&gt; set)</span> </span>&#123;</span><br><span class="line">        Node dummy = <span class="keyword">new</span> Node(<span class="string">""</span>);</span><br><span class="line">        dummy.next = head;</span><br><span class="line">        head.pre = dummy;</span><br><span class="line">        Node tmpNode = head, preNode = dummy;</span><br><span class="line">        <span class="keyword">while</span> (tmpNode != <span class="keyword">null</span>)  &#123;</span><br><span class="line">            <span class="keyword">if</span> (set.contains(tmpNode.val)) &#123;</span><br><span class="line">                preNode.next = <span class="keyword">null</span>;</span><br><span class="line">                tmpNode = tmpNode.next;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                preNode.next = tmpNode;</span><br><span class="line">                preNode = tmpNode;</span><br><span class="line">                tmpNode = preNode.next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dummy.next;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="54-Ways-to-spend-money"><a href="#54-Ways-to-spend-money" class="headerlink" title="54. Ways to spend money"></a>54. Ways to spend money</h3><p><a href="http://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=209852&amp;extra=page%3D1%26filter%3Dsortid%26sortid%3D311%26searchoption%5B3046%5D%5Bvalue%5D%3D1%26searchoption%5B3046%5D%5Btype%5D%3Dradio%26sortid%3D311" target="_blank" rel="noopener">http://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=209852&amp;extra=page%3D1%26filter%3Dsortid%26sortid%3D311%26searchoption%5B3046%5D%5Bvalue%5D%3D1%26searchoption%5B3046%5D%5Btype%5D%3Dradio%26sortid%3D311</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SpendMoneyWays</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] numbers = &#123;<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;;</span><br><span class="line">        <span class="keyword">int</span>[] prices = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;;</span><br><span class="line">        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; result = waysToSpendMoney(numbers, prices, <span class="number">10</span>);</span><br><span class="line">        System.out.println(result);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt; waysToSpendMoney(<span class="keyword">int</span>[] numbers, <span class="keyword">int</span>[] prices, <span class="keyword">int</span> money) &#123;</span><br><span class="line">        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();</span><br><span class="line">        backtracking(result, <span class="keyword">new</span> ArrayList&lt;&gt;(), numbers, prices, money, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtracking</span><span class="params">(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; result, ArrayList&lt;Integer&gt; tmpRes, <span class="keyword">int</span>[] number, <span class="keyword">int</span>[] prices, <span class="keyword">int</span> remainMoney, <span class="keyword">int</span> startIndex)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (remainMoney == <span class="number">0</span>) &#123;</span><br><span class="line">            result.add(<span class="keyword">new</span> ArrayList&lt;&gt;(tmpRes));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = startIndex; index &lt; number.length; index ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (number[index] == <span class="number">0</span> || remainMoney &lt; prices[index]) <span class="keyword">continue</span>;</span><br><span class="line">            tmpRes.add(index);</span><br><span class="line">            number[index] --;</span><br><span class="line">            backtracking(result, tmpRes, number, prices, remainMoney - prices[index], index);</span><br><span class="line">            number[index] ++;</span><br><span class="line">            tmpRes.remove(tmpRes.size() - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="55-Decode-String"><a href="#55-Decode-String" class="headerlink" title="55. Decode String"></a>55. Decode String</h3><p><a href="http://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=210301&amp;extra=page%3D1%26filter%3Dsortid%26sortid%3D311%26sortid%3D311" target="_blank" rel="noopener">http://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=210301&amp;extra=page%3D1%26filter%3Dsortid%26sortid%3D311%26sortid%3D311</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">decodeString</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (s == <span class="keyword">null</span> || s.length() == <span class="number">0</span> || !s.contains(<span class="string">"["</span>)) <span class="keyword">return</span> s;</span><br><span class="line">        String result = <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i ++) &#123;</span><br><span class="line">            <span class="keyword">char</span> c = s.charAt(i);</span><br><span class="line">            <span class="keyword">if</span> (Character.isDigit(c)) &#123;</span><br><span class="line">                <span class="keyword">int</span> number = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">while</span> (i &lt; s.length() &amp;&amp; Character.isDigit(s.charAt(i))) &#123;</span><br><span class="line">                    number = number * <span class="number">10</span> + s.charAt(i) - <span class="string">'0'</span>;</span><br><span class="line">                    i ++;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">int</span> lastIndex = generateLastIndex(s, i + <span class="number">1</span>);</span><br><span class="line">                String embedStr = decodeString(s.substring(i + <span class="number">1</span>, lastIndex));</span><br><span class="line">                <span class="keyword">while</span> (number-- &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    result = result + embedStr;</span><br><span class="line">                &#125;</span><br><span class="line">                i = lastIndex;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                result = result + s.charAt(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">generateLastIndex</span><span class="params">(String s, <span class="keyword">int</span> start)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">1</span>, index = start;</span><br><span class="line">        <span class="keyword">while</span> (count != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">char</span> c = s.charAt(index);</span><br><span class="line">            <span class="keyword">if</span> (c == <span class="string">'['</span>) count ++;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">']'</span>) count --;</span><br><span class="line">            index ++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> index - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String s = <span class="string">"aaaxxxaxxxxx"</span>;</span><br><span class="line">        String res = decodeString(s);</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">decodeString</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (s == <span class="keyword">null</span> || s.length() == <span class="number">0</span> || s.length() == <span class="number">1</span>) <span class="keyword">return</span> s;</span><br><span class="line">        String result = <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">int</span> len = s.length();</span><br><span class="line">        <span class="keyword">boolean</span> success = <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> tmpLen = len / <span class="number">2</span>; tmpLen &gt;= <span class="number">1</span>; tmpLen --) &#123;</span><br><span class="line">            <span class="keyword">int</span> endIndex = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> start = <span class="number">0</span>; start &lt;= len - <span class="number">2</span> * tmpLen; start ++) &#123;</span><br><span class="line">                <span class="keyword">int</span> repeatNumber = <span class="number">0</span>;</span><br><span class="line">                String cur = s.substring(start, start + tmpLen);</span><br><span class="line">                <span class="keyword">if</span> (cur.equals(s.substring(start + tmpLen, start + <span class="number">2</span> * tmpLen))) &#123;</span><br><span class="line">                    endIndex = start;</span><br><span class="line">                    <span class="keyword">while</span> (s.substring(start).startsWith(cur)) &#123;</span><br><span class="line">                        repeatNumber ++;</span><br><span class="line">                        start = start + tmpLen;</span><br><span class="line">                    &#125;</span><br><span class="line">                    String lastPart = (endIndex + repeatNumber * tmpLen &gt;= s.length() ? <span class="string">""</span> : s.substring(endIndex + repeatNumber * tmpLen));</span><br><span class="line">                    result = decodeString(s.substring(<span class="number">0</span>, endIndex)) + String.valueOf(repeatNumber) + <span class="string">"["</span> + decodeString(cur) + <span class="string">"]"</span> + decodeString(lastPart);</span><br><span class="line">                    success = <span class="keyword">true</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (success) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="56-Best-Meet-Point"><a href="#56-Best-Meet-Point" class="headerlink" title="56. Best Meet Point"></a>56. Best Meet Point</h3><p>注意点：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (left &lt; right)</span><br></pre></td></tr></table></figure></p>
<p>经常忘记循环<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (min == array[right]) right --;</span><br></pre></td></tr></table></figure></p>
<p>需要左右同时判断<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (matrix == <span class="keyword">null</span> || matrix.length == <span class="number">0</span> || matrix[<span class="number">0</span>].length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> row = matrix.length, col = matrix[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">int</span>[] vertical = <span class="keyword">new</span> <span class="keyword">int</span>[col];</span><br><span class="line">        <span class="keyword">int</span>[] horizontal = <span class="keyword">new</span> <span class="keyword">int</span>[row];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> r = <span class="number">0</span>; r &lt; row; r ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> c = <span class="number">0</span>; c &lt; col; c ++) &#123;</span><br><span class="line">                vertical[c] += matrix[r][c];</span><br><span class="line">                horizontal[r] += matrix[r][c];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] array : <span class="keyword">new</span> <span class="keyword">int</span>[][]&#123;vertical, horizontal&#125;) &#123;</span><br><span class="line">            <span class="keyword">int</span> left = <span class="number">0</span>, right = array.length - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">                <span class="keyword">int</span> min = Math.min(array[left], array[right]);</span><br><span class="line">                result += min * (right - left);</span><br><span class="line">                <span class="keyword">if</span> (min == array[left]) left ++;</span><br><span class="line">                <span class="keyword">if</span> (min == array[right]) right --;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br></pre></td></tr></table></figure></p>
<h3 id="57"><a href="#57" class="headerlink" title="57."></a>57.</h3><p><a href="https://instant.1point3acres.com/thread/197434" target="_blank" rel="noopener">https://instant.1point3acres.com/thread/197434</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by novelidea on 11/18/16.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MeteoroliteProblem</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        ArrayList&lt;Meteorolite&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        list.add(<span class="keyword">new</span> Meteorolite(<span class="number">2</span>, <span class="string">'U'</span>));</span><br><span class="line">        list.add(<span class="keyword">new</span> Meteorolite(<span class="number">3</span>, <span class="string">'R'</span>));</span><br><span class="line">        list.add(<span class="keyword">new</span> Meteorolite(<span class="number">4</span>, <span class="string">'R'</span>));</span><br><span class="line">        list.add(<span class="keyword">new</span> Meteorolite(<span class="number">2</span>, <span class="string">'R'</span>));</span><br><span class="line">        list.add(<span class="keyword">new</span> Meteorolite(<span class="number">3</span>, <span class="string">'D'</span>));</span><br><span class="line">        list.add(<span class="keyword">new</span> Meteorolite(<span class="number">1</span>, <span class="string">'R'</span>));</span><br><span class="line">        <span class="keyword">int</span> res = countNumberOfHitPoint(list);</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Meteorolite</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> weight;</span><br><span class="line">        <span class="keyword">char</span> direction;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Meteorolite</span><span class="params">(<span class="keyword">int</span> weight, <span class="keyword">char</span> direction)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.weight = weight;</span><br><span class="line">            <span class="keyword">this</span>.direction = direction;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">countNumberOfHitPoint</span><span class="params">(ArrayList&lt;Meteorolite&gt; meteorolites)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (meteorolites == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;Integer&gt;();</span><br><span class="line">        <span class="keyword">for</span> (Meteorolite me : meteorolites) &#123;</span><br><span class="line">            <span class="keyword">if</span> (me.direction == <span class="string">'R'</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (! stack.isEmpty() &amp;&amp; stack.peek() &gt; me.weight) <span class="keyword">continue</span>;</span><br><span class="line">                stack.push(me.weight);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> stack.size();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="58-Iterator-for-BST"><a href="#58-Iterator-for-BST" class="headerlink" title="58. Iterator for BST"></a>58. Iterator for BST</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by novelidea on 11/19/16.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IteratorForBST</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String str = <span class="string">"1234#6##5"</span>;</span><br><span class="line">        Tree tree = <span class="keyword">new</span> Tree(str);</span><br><span class="line">        IteratorForBST it = <span class="keyword">new</span> IteratorForBST(tree.root);</span><br><span class="line">        System.out.println(<span class="string">"hello"</span>);</span><br><span class="line">        <span class="keyword">while</span> (it.hasNext()) &#123;</span><br><span class="line">            System.out.println(it.next().val);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeNode</span> </span>&#123;</span><br><span class="line">        <span class="keyword">char</span> val;</span><br><span class="line">        TreeNode left, right;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">TreeNode</span><span class="params">(<span class="keyword">char</span> val)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.val = val;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Tree</span> </span>&#123;</span><br><span class="line">        TreeNode root;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Tree</span><span class="params">(String str)</span> </span>&#123;</span><br><span class="line">            root = buildTree(str, <span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">private</span> TreeNode <span class="title">buildTree</span><span class="params">(String str, <span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (index &gt;= str.length()) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">            TreeNode node = <span class="keyword">new</span> TreeNode(str.charAt(index));</span><br><span class="line">            <span class="keyword">if</span> (<span class="number">2</span> * index + <span class="number">1</span> &lt; str.length() &amp;&amp; str.charAt(<span class="number">2</span> * index + <span class="number">1</span>) != <span class="string">'#'</span>) node.left = buildTree(str, <span class="number">2</span> * index + <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span> (<span class="number">2</span> * index + <span class="number">2</span> &lt; str.length() &amp;&amp; str.charAt(<span class="number">2</span> * index + <span class="number">2</span>) != <span class="string">'#'</span>) node.right = buildTree(str, <span class="number">2</span> * index + <span class="number">2</span>);</span><br><span class="line">            <span class="keyword">return</span> node;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    TreeNode curNode;</span><br><span class="line">    Stack&lt;TreeNode&gt; stack;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">IteratorForBST</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        curNode = root;</span><br><span class="line">        stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">while</span> (curNode != <span class="keyword">null</span>) &#123;</span><br><span class="line">            stack.push(curNode);</span><br><span class="line">            curNode = curNode.left;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> !stack.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> TreeNode <span class="title">next</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        TreeNode res = stack.peek();</span><br><span class="line">        stack.pop();</span><br><span class="line">        <span class="keyword">if</span> (res.right != <span class="keyword">null</span>) &#123;</span><br><span class="line">            stack.push(res.right);</span><br><span class="line">            TreeNode tmp = res.right.left;</span><br><span class="line">            <span class="keyword">while</span> (tmp != <span class="keyword">null</span>) &#123;</span><br><span class="line">                stack.push(tmp);</span><br><span class="line">                tmp = tmp.left;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="59-Reverse-word-in-String"><a href="#59-Reverse-word-in-String" class="headerlink" title="59. Reverse word in String"></a>59. Reverse word in String</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by novelidea on 11/19/16.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReverseWordInString</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">//        System.out.println(reverseWordInString("hello world"));</span></span><br><span class="line">        String str = <span class="string">"hello world"</span>;</span><br><span class="line">        reverseWordInStringWithoutExtraSpace(str.toCharArray());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">reverseWordInString</span><span class="params">(String str)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (str == <span class="keyword">null</span> || str.length() &lt;= <span class="number">1</span>) <span class="keyword">return</span> str;</span><br><span class="line">        String[] strArray = str.split(<span class="string">" "</span>);</span><br><span class="line">        Collections.reverse(Arrays.asList(strArray));</span><br><span class="line">        <span class="keyword">return</span> String.join(<span class="string">" "</span>, strArray);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">reverseWordInStringWithoutExtraSpace</span><span class="params">(<span class="keyword">char</span>[] str)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (str == <span class="keyword">null</span> || str.length == <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">        reversePart(str, <span class="number">0</span>, str.length - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">int</span> start = <span class="number">0</span>, end = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (; end &lt; str.length; end ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (str[end] == <span class="string">' '</span>) &#123;</span><br><span class="line">                reversePart(str, start, end - <span class="number">1</span>);</span><br><span class="line">                start = end + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        reversePart(str, start, end - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">reversePart</span><span class="params">(<span class="keyword">char</span>[] array, <span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (start == end) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt; (end - start + <span class="number">1</span>) / <span class="number">2</span>; index ++) &#123;</span><br><span class="line">            <span class="keyword">char</span> tmp = array[start + index];</span><br><span class="line">            array[start + index] = array[end - index];</span><br><span class="line">            array[end - index] = tmp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="60-翻转字符串中的单词"><a href="#60-翻转字符串中的单词" class="headerlink" title="60. 翻转字符串中的单词"></a>60. 翻转字符串中的单词</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">reverseWords</span><span class="params">(String s)</span></span>&#123;</span><br><span class="line">        String[] words = s.split(<span class="string">" "</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; words.length / <span class="number">2</span>; i ++)&#123;</span><br><span class="line">            String tmp = words[i];</span><br><span class="line">            words[i] = words[words.length - <span class="number">1</span> - i];</span><br><span class="line">            words[words.length - <span class="number">1</span> - i] = tmp;</span><br><span class="line">        &#125;</span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">for</span>(String str : words)&#123;</span><br><span class="line">            sb.append(str + <span class="string">" "</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        String result = sb.toString();</span><br><span class="line">        result.trim();</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="61-2Sum"><a href="#61-2Sum" class="headerlink" title="61. 2Sum"></a>61. 2Sum</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] twoSum(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target) &#123;</span><br><span class="line">        <span class="keyword">int</span>[] defaultResult = &#123;<span class="number">0</span>,<span class="number">0</span>&#125;;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">null</span> == nums) <span class="keyword">return</span> defaultResult;</span><br><span class="line">        Map&lt;Integer, Integer&gt; mp = <span class="keyword">new</span> HashMap&lt;Integer, Integer&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i ++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(mp.containsKey(target - nums[i]) == <span class="keyword">true</span>) &#123;</span><br><span class="line">                <span class="keyword">int</span>[] result1 = &#123;mp.get(target - nums[i]), i&#125;;</span><br><span class="line">                <span class="keyword">return</span> result1;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                mp.put(nums[i], i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> defaultResult;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h3 id="62-Binary-Search"><a href="#62-Binary-Search" class="headerlink" title="62. Binary Search"></a>62. Binary Search</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> start = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">int</span> end = nums.length - <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">while</span>(start &lt;= end) &#123;</span><br><span class="line">		<span class="keyword">int</span> mid = start + (end - start) / <span class="number">2</span>;</span><br><span class="line">		<span class="keyword">if</span> (nums[mid] == target) &#123;</span><br><span class="line">			<span class="keyword">return</span> mid;</span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &lt; target) &#123;</span><br><span class="line">			start = mid + <span class="number">1</span>;</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			mid = mid - <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="63-倒V型数组中找最大元素"><a href="#63-倒V型数组中找最大元素" class="headerlink" title="63.倒V型数组中找最大元素"></a>63.倒V型数组中找最大元素</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FindLargestNumber</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findLargestNumber</span><span class="params">(<span class="keyword">int</span>[] numbers)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (numbers == <span class="keyword">null</span> || numbers.length == <span class="number">0</span>) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = numbers.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">            <span class="keyword">if</span> (left + <span class="number">1</span> == right) &#123;</span><br><span class="line">                <span class="keyword">return</span> Math.max(numbers[left], numbers[right]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (numbers[mid] &gt; numbers[mid - <span class="number">1</span>]) &#123;</span><br><span class="line">                left = mid;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                right = mid;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> numbers[left];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        FindLargestNumber sol = <span class="keyword">new</span> FindLargestNumber();</span><br><span class="line">        <span class="keyword">int</span>[] numbers = &#123;<span class="number">0</span>,<span class="number">200</span>,<span class="number">199</span>,<span class="number">198</span>,<span class="number">2</span>,<span class="number">1</span>&#125;;</span><br><span class="line">        <span class="keyword">int</span> res = sol.findLargestNumber(numbers);</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="64-树中最长连续子序列"><a href="#64-树中最长连续子序列" class="headerlink" title="64. 树中最长连续子序列"></a>64. 树中最长连续子序列</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.pengfeixing.Google;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Created by novelidea on 12/9/16.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">P3LongestConsecutiveSequence</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> val;</span><br><span class="line">        Node left, right;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Node</span> <span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.val = val;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Node <span class="title">constructTree</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Node node1 = <span class="keyword">new</span> Node(<span class="number">5</span>);</span><br><span class="line">        Node node2 = <span class="keyword">new</span> Node(<span class="number">4</span>);</span><br><span class="line">        Node node3 = <span class="keyword">new</span> Node(<span class="number">6</span>);</span><br><span class="line">        Node node4 = <span class="keyword">new</span> Node(<span class="number">3</span>);</span><br><span class="line">        Node node5 = <span class="keyword">new</span> Node(<span class="number">7</span>);</span><br><span class="line">        node1.left = node2;</span><br><span class="line">        node1.right = node3;</span><br><span class="line">        node2.right = node4;</span><br><span class="line">        node3.left = node5;</span><br><span class="line">        <span class="keyword">return</span> node1;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestLengthOfSubsequence</span><span class="params">()</span> </span>&#123;</span><br><span class="line">         Node root = constructTree();</span><br><span class="line">         <span class="keyword">return</span> postOrder(root).maxLength;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Result</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> val, length, maxLength, tag;</span><br><span class="line">        <span class="comment">// tag(bottom up): 1 increase, -1 decrease</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Result</span><span class="params">(<span class="keyword">int</span> val, <span class="keyword">int</span> length, <span class="keyword">int</span> maxLength, <span class="keyword">int</span> tag)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.val = val;</span><br><span class="line">            <span class="keyword">this</span>.length = length;</span><br><span class="line">            <span class="keyword">this</span>.maxLength = maxLength;</span><br><span class="line">            <span class="keyword">this</span>.tag = tag;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> Result <span class="title">postOrder</span><span class="params">(Node root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">new</span> Result(-<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (root.left == <span class="keyword">null</span> &amp;&amp; root.right == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">new</span> Result(root.val, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">        Result leftResult = postOrder(root.left);</span><br><span class="line">        Result rightResult = postOrder(root.right);</span><br><span class="line">        Result result = <span class="keyword">new</span> Result(root.val, <span class="number">1</span>, Math.max(leftResult.maxLength, rightResult.maxLength), <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (root.left != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (leftResult.tag != -<span class="number">1</span> &amp;&amp; root.left.val + <span class="number">1</span> == root.val) &#123;</span><br><span class="line">                result.length = leftResult.length + <span class="number">1</span>;</span><br><span class="line">                result.tag = <span class="number">1</span>;</span><br><span class="line">                result.maxLength = Math.max(result.maxLength, result.length + <span class="number">1</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (leftResult.tag != <span class="number">1</span> &amp;&amp; root.left.val - <span class="number">1</span> == root.val) &#123;</span><br><span class="line">                result.length = leftResult.length + <span class="number">1</span>;</span><br><span class="line">                result.tag = -<span class="number">1</span>;</span><br><span class="line">                result.maxLength = Math.max(result.maxLength, result.length + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (root.right != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (rightResult.tag != -<span class="number">1</span> &amp;&amp; root.right.val + <span class="number">1</span> == root.val) &#123;</span><br><span class="line">                result.length = rightResult.length + <span class="number">1</span>;</span><br><span class="line">                result.tag = <span class="number">1</span>;</span><br><span class="line">                result.maxLength = Math.max(result.maxLength, result.length + <span class="number">1</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (rightResult.tag != <span class="number">1</span> &amp;&amp; root.right.val - <span class="number">1</span> == root.val) &#123;</span><br><span class="line">                result.length = rightResult.length + <span class="number">1</span>;</span><br><span class="line">                result.tag = -<span class="number">1</span>;</span><br><span class="line">                result.maxLength = Math.max(result.maxLength, result.length + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> ((root.left != <span class="keyword">null</span> &amp;&amp; root.right != <span class="keyword">null</span>) &amp;&amp; ! ((leftResult.tag == <span class="number">1</span> &amp;&amp; rightResult.tag == <span class="number">1</span>) || (leftResult.tag == -<span class="number">1</span> &amp;&amp; rightResult.tag == -<span class="number">1</span>))) &#123;</span><br><span class="line">            <span class="keyword">int</span> leftDiff = root.val - root.left .val;</span><br><span class="line">            <span class="keyword">int</span> rightDiff = root.right.val - root.val;</span><br><span class="line">            <span class="keyword">if</span> (leftDiff == rightDiff) &#123;</span><br><span class="line">                result.maxLength = Math.max(result.maxLength, leftResult.length + <span class="number">1</span> + rightResult.length);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        P3LongestConsecutiveSequence sol = <span class="keyword">new</span> P3LongestConsecutiveSequence();</span><br><span class="line">        <span class="keyword">int</span> res = sol.longestLengthOfSubsequence();</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="65-Double-linked-list"><a href="#65-Double-linked-list" class="headerlink" title="65. Double linked list"></a>65. Double linked list</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NumberOfComponentsInDoubleLinkedList</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">        String val;</span><br><span class="line">        Node pre, next;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Node</span> <span class="params">(String val)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.val = val;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numberOfCompnents</span><span class="params">(ArrayList&lt;Node&gt; nodes)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nodes == <span class="keyword">null</span> || nodes.size() == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        HashMap&lt;Node, Node&gt; rootsMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (Node node : nodes) &#123;</span><br><span class="line">            <span class="keyword">if</span> (rootsMap.containsKey(node)) <span class="keyword">continue</span>;</span><br><span class="line">            rootsMap.put(node, node);</span><br><span class="line">            <span class="keyword">if</span> (rootsMap.containsKey(node.pre)) &#123;</span><br><span class="line">                union(rootsMap, node.pre, node);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (rootsMap.containsKey(node.next)) &#123;</span><br><span class="line">                union(rootsMap, node, node.next);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        Set&lt;Node&gt; components = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (Node node : rootsMap.keySet()) &#123;</span><br><span class="line">            components.add(find(rootsMap, node));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> components.size();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">union</span><span class="params">(HashMap&lt;Node, Node&gt; rootsMap, Node node1, Node node2)</span> </span>&#123;</span><br><span class="line">        Node node1Root = find(rootsMap, node1);</span><br><span class="line">        Node node2Root = find(rootsMap, node2);</span><br><span class="line">        <span class="keyword">if</span> (node1Root != node2Root) &#123;</span><br><span class="line">            rootsMap.put(node2Root, node1Root);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> Node <span class="title">find</span><span class="params">(HashMap&lt;Node, Node&gt; rootsMap, Node node)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (rootsMap.get(node) == node) <span class="keyword">return</span> node;</span><br><span class="line">        <span class="keyword">return</span> find(rootsMap, rootsMap.get(node));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        NumberOfComponentsInDoubleLinkedList sol = <span class="keyword">new</span> NumberOfComponentsInDoubleLinkedList();</span><br><span class="line">        Node node1 = <span class="keyword">new</span> Node(<span class="string">"1"</span>);</span><br><span class="line">        Node node2 = <span class="keyword">new</span> Node(<span class="string">"2"</span>);</span><br><span class="line">        Node node3 = <span class="keyword">new</span> Node(<span class="string">"3"</span>);</span><br><span class="line">        Node node4 = <span class="keyword">new</span> Node(<span class="string">"4"</span>);</span><br><span class="line">        node1.next = node2;</span><br><span class="line">        node2.pre = node1;</span><br><span class="line">        node2.next = node3;</span><br><span class="line">        node3.pre = node2;</span><br><span class="line">        node3.next = node4;</span><br><span class="line">        node4.next = node3;</span><br><span class="line">        ArrayList&lt;Node&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        list.add(node1);</span><br><span class="line">        list.add(node3);</span><br><span class="line">        <span class="keyword">int</span> res = sol.numberOfCompnents(list);</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="66-Vote-Problem"><a href="#66-Vote-Problem" class="headerlink" title="66. Vote Problem"></a>66. Vote Problem</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">VoteProblem</span> </span>&#123;</span><br><span class="line">    Map&lt;Long, Map&lt;String, Integer&gt;&gt; votes = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(String name, Long timestamp)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (! votes.containsKey(timestamp)) &#123;</span><br><span class="line">            votes.put(timestamp, <span class="keyword">new</span> HashMap&lt;&gt;());</span><br><span class="line">        &#125;</span><br><span class="line">        Map&lt;String, Integer&gt; detailMap = votes.get(timestamp);</span><br><span class="line">        detailMap.put(name, detailMap.getOrDefault(name, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">topKCandidate</span><span class="params">(Long timestamp, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        Map&lt;String, Integer&gt; globalMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (Long time : votes.keySet()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (time &lt;= timestamp) &#123;</span><br><span class="line">                Map&lt;String, Integer&gt; tmpMap = votes.get(time);</span><br><span class="line">                <span class="keyword">for</span> (String name : tmpMap.keySet()) &#123;</span><br><span class="line">                    globalMap.put(name, globalMap.getOrDefault(name, <span class="number">0</span>) + tmpMap.get(name));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        List&lt;Map.Entry&lt;String, Integer&gt;&gt; votesList = <span class="keyword">new</span> ArrayList&lt;&gt;(globalMap.entrySet());</span><br><span class="line">        Collections.sort(votesList, <span class="keyword">new</span> Comparator&lt;Map.Entry&lt;String, Integer&gt;&gt;() &#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Map.Entry&lt;String, Integer&gt; entry1, Map.Entry&lt;String, Integer&gt; entry2)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> entry2.getValue() - entry1.getValue();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (; index &lt; k &amp;&amp; index &lt; votesList.size(); index ++) &#123;</span><br><span class="line">            result.add(votesList.get(index).getKey());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 这里需要处理并列情况:</span></span><br><span class="line">        <span class="keyword">while</span> (index &lt; votesList.size() &amp;&amp; index &gt; <span class="number">0</span> &amp;&amp; votesList.get(index).getValue() == votesList.get(index - <span class="number">1</span>).getValue()) &#123;</span><br><span class="line">            result.add(votesList.get(index ++).getKey());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        VoteProblem s = <span class="keyword">new</span> VoteProblem();</span><br><span class="line">        s.insert(<span class="string">"a"</span>, <span class="number">1l</span>);</span><br><span class="line">        s.insert(<span class="string">"b"</span>, <span class="number">10l</span>);</span><br><span class="line">        s.insert(<span class="string">"a"</span>, <span class="number">4l</span>);</span><br><span class="line">        s.insert(<span class="string">"c"</span>, <span class="number">2l</span>);</span><br><span class="line">        s.insert(<span class="string">"b"</span>, <span class="number">9l</span>);</span><br><span class="line">        s.insert(<span class="string">"a"</span>, <span class="number">7l</span>);</span><br><span class="line">        List&lt;String&gt; result = s.topKCandidate(<span class="number">5l</span>, <span class="number">0</span>);</span><br><span class="line">        System.out.println(result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="67-Weighted-Random"><a href="#67-Weighted-Random" class="headerlink" title="67. Weighted Random"></a>67. Weighted Random</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WeightedRandom</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] sum;</span><br><span class="line">    <span class="keyword">int</span>[] nums;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">WeightedRandom</span><span class="params">(<span class="keyword">int</span>[] numbers)</span> </span>&#123;</span><br><span class="line">        nums = numbers;</span><br><span class="line">        <span class="keyword">int</span> len = numbers.length;</span><br><span class="line">        sum = <span class="keyword">new</span> <span class="keyword">int</span>[len];</span><br><span class="line">        sum[<span class="number">0</span>] = numbers[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">1</span>; index &lt; len; index ++) &#123;</span><br><span class="line">            sum[index] = sum[index - <span class="number">1</span>] + numbers[index];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getRandom</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (<span class="keyword">int</span>)(Math.random() * (sum[sum.length - <span class="number">1</span>]) + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">searchTarget</span><span class="params">(<span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = sum.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (sum[mid] &lt; target) &#123;</span><br><span class="line">                left = mid + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                right = mid;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums[left];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        WeightedRandom random = <span class="keyword">new</span> WeightedRandom(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">6</span>&#125;);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">14</span>; ++i) &#123;</span><br><span class="line">            <span class="keyword">int</span> rand = random.getRandom();</span><br><span class="line">            System.out.printf(<span class="string">"%d "</span>, random.searchTarget(rand));</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="68-在一个排好序数组中找出任意一个出现频率大于-1-4-的数"><a href="#68-在一个排好序数组中找出任意一个出现频率大于-1-4-的数" class="headerlink" title="68. 在一个排好序数组中找出任意一个出现频率大于 1/4 的数"></a>68. 在一个排好序数组中找出任意一个出现频率大于 1/4 的数</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FindAnyNumberAppearMoreQuaterTimes</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findNumber</span><span class="params">(<span class="keyword">int</span>[] numbers)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len = numbers.length;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = len / <span class="number">4</span>;</span><br><span class="line">        <span class="keyword">while</span> (right &lt; len) &#123;</span><br><span class="line">            <span class="keyword">if</span> (numbers[left] == numbers[right]) <span class="keyword">return</span> numbers[left];</span><br><span class="line">            left = findFirstAppearanceOfNumber(numbers, left + <span class="number">1</span>, right);</span><br><span class="line">            right = left + len / <span class="number">4</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">findFirstAppearanceOfNumber</span><span class="params">(<span class="keyword">int</span>[] numbers, <span class="keyword">int</span> start, <span class="keyword">int</span> targetIndex)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (start == targetIndex) <span class="keyword">return</span> start;</span><br><span class="line">        <span class="keyword">int</span> right = targetIndex - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (start &lt; right) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = start + (right - start) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (numbers[start] &lt; numbers[mid]) &#123;</span><br><span class="line">                start = mid + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                right = mid;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> start;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        FindAnyNumberAppearMoreQuaterTimes sol = <span class="keyword">new</span> FindAnyNumberAppearMoreQuaterTimes();</span><br><span class="line">        <span class="keyword">int</span>[] numbers = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">0</span>, <span class="number">0</span>,<span class="number">1</span>, <span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line">        <span class="keyword">int</span> res = sol.findNumber(numbers);</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="69-Stock-Design"><a href="#69-Stock-Design" class="headerlink" title="69. Stock Design"></a>69. Stock Design</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Stock</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Record</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">Record</span>&gt; </span>&#123;</span><br><span class="line">        Long timestamp;</span><br><span class="line">        <span class="keyword">int</span> price;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Record</span><span class="params">(<span class="keyword">long</span> timestamp, <span class="keyword">int</span> price)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.timestamp = timestamp;</span><br><span class="line">            <span class="keyword">this</span>.price = price;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// @Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Record other)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">this</span>.price == other.price) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">this</span>.timestamp.compareTo(other.timestamp);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">this</span>.price - other.price;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    HashMap&lt;Long, Record&gt; timeToRecord;</span><br><span class="line">    TreeSet&lt;Record&gt; records;</span><br><span class="line">    <span class="keyword">int</span> min, max, latest;</span><br><span class="line">    <span class="keyword">long</span> currentTime;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Stock</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        timeToRecord = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        records = <span class="keyword">new</span> TreeSet&lt;&gt;();</span><br><span class="line">        min = -<span class="number">1</span>;</span><br><span class="line">        max = -<span class="number">1</span>;</span><br><span class="line">        latest = -<span class="number">1</span>;</span><br><span class="line">        currentTime = -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onUpdate</span><span class="params">(<span class="keyword">long</span> timestamp, <span class="keyword">int</span> price)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (timeToRecord.containsKey(timestamp)) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"invalid argument"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        Record record = <span class="keyword">new</span> Record(timestamp, price);</span><br><span class="line">        timeToRecord.put(timestamp, record);</span><br><span class="line">        <span class="keyword">if</span> (price &gt; max) max = price;</span><br><span class="line">        <span class="keyword">if</span> (min == -<span class="number">1</span> || min &gt; price) min = price;</span><br><span class="line">        <span class="keyword">if</span> (currentTime &lt; timestamp) &#123;</span><br><span class="line">            currentTime = timestamp;</span><br><span class="line">            latest = price;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCorrect</span><span class="params">(<span class="keyword">long</span> timestamp, <span class="keyword">int</span> price)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (! timeToRecord.containsKey(timestamp)) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"invalid argument"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        Record record = timeToRecord.get(timestamp);</span><br><span class="line">        records.remove(record);</span><br><span class="line">        <span class="keyword">int</span> prePrice = record.price;</span><br><span class="line">        record.price = price;</span><br><span class="line">        records.add(record);</span><br><span class="line">        <span class="keyword">if</span> (min == prePrice) &#123;</span><br><span class="line">            min = records.first().price;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            min = Math.min(min, records.first().price);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (max == prePrice) &#123;</span><br><span class="line">            max = records.last().price;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            max = Math.max(max, records.last().price);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (currentTime == timestamp) latest = price;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"(min:"</span> + min + <span class="string">", max:"</span> + max + <span class="string">", latest:"</span> + latest + <span class="string">")"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Stock stock = <span class="keyword">new</span> Stock();  </span><br><span class="line">        stock.onUpdate(<span class="number">1</span>, <span class="number">5</span>);</span><br><span class="line">        System.out.println(stock); <span class="comment">// 5, 5, 5</span></span><br><span class="line">        stock.onUpdate(<span class="number">2</span>, <span class="number">10</span>);</span><br><span class="line">        System.out.println(stock); <span class="comment">// 5, 10, 10</span></span><br><span class="line">        stock.onUpdate(<span class="number">3</span>, <span class="number">15</span>);</span><br><span class="line">        System.out.println(stock); <span class="comment">// 5, 15, 15</span></span><br><span class="line">        stock.onCorrect(<span class="number">2</span>, <span class="number">1</span>);</span><br><span class="line">        System.out.println(stock); <span class="comment">// 1, 15, 15</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="70-Min-Square-Area"><a href="#70-Min-Square-Area" class="headerlink" title="70. Min Square Area"></a>70. Min Square Area</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MinSquare</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> x, y;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Point</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.x = x;</span><br><span class="line">            <span class="keyword">this</span>.y = y;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> o <span class="keyword">instanceof</span> Point &amp;&amp; <span class="keyword">this</span>.x == ((Point)o).x &amp;&amp; <span class="keyword">this</span>.y == ((Point)o).y;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">int</span> hashCode = <span class="number">1</span>;</span><br><span class="line">            hashCode = hashCode * <span class="number">31</span> + <span class="keyword">this</span>.x;</span><br><span class="line">            hashCode = hashCode * <span class="number">31</span> + <span class="keyword">this</span>.y;</span><br><span class="line">            <span class="keyword">return</span> hashCode;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findMinSquare</span><span class="params">(ArrayList&lt;Point&gt; points)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (points == <span class="keyword">null</span>) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        HashSet&lt;Point&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (Point point : points) set.add(point);</span><br><span class="line">        <span class="keyword">int</span> result = Integer.MAX_VALUE;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> idx1 = <span class="number">0</span>; idx1 &lt; points.size() - <span class="number">1</span>; idx1 ++) &#123;</span><br><span class="line">            Point point1 = points.get(idx1);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> idx2 = idx1 + <span class="number">1</span>; idx2 &lt; points.size(); idx2 ++) &#123;</span><br><span class="line">                Point point2 = points.get(idx2);</span><br><span class="line">                <span class="keyword">if</span> (point1.x == point2.x || point1.y == point2.y) <span class="keyword">continue</span>;</span><br><span class="line">                Point point3 = <span class="keyword">new</span> Point(point1.x, point2.y);</span><br><span class="line">                <span class="keyword">if</span> (! set.contains(point3)) <span class="keyword">continue</span>;</span><br><span class="line">                Point point4 = <span class="keyword">new</span> Point(point2.x, point1.y);</span><br><span class="line">                <span class="keyword">if</span> (! set.contains(point4)) <span class="keyword">continue</span>;</span><br><span class="line">                result = Math.min(result, Math.abs((point1.x - point2.x) * (point1.y - point2.y)));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result == Integer.MAX_VALUE ? -<span class="number">1</span> : result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findMinSquareWhenNotParrallToXY</span><span class="params">(ArrayList&lt;Point&gt; points)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (points == <span class="keyword">null</span>) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        HashMap&lt;Integer, HashMap&lt;String, ArrayList&lt;Point[]&gt;&gt;&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> idx1 = <span class="number">0</span>; idx1 &lt; points.size() - <span class="number">1</span>; idx1 ++) &#123;</span><br><span class="line">            Point point1 = points.get(idx1);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> idx2 = idx1 + <span class="number">1</span>; idx2 &lt; points.size(); idx2 ++) &#123;</span><br><span class="line">                Point point2 = points.get(idx2);  </span><br><span class="line">                <span class="keyword">int</span> len = countLineLength(point1, point2);</span><br><span class="line">                HashMap&lt;String, ArrayList&lt;Point[]&gt;&gt; sameLenLineMap = map.containsKey(len) ? map.get(len) : <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">                String midPointHashKey = (point1.x + point2.x) + <span class="string">" "</span> + (point1.y + point2.y);</span><br><span class="line">                <span class="keyword">if</span> (! sameLenLineMap.containsKey(midPointHashKey)) sameLenLineMap.put(midPointHashKey, <span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">                sameLenLineMap.get(midPointHashKey).add(<span class="keyword">new</span> Point[]&#123;point1, point2&#125;);</span><br><span class="line">                map.put(len, sameLenLineMap);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> result = Integer.MAX_VALUE;</span><br><span class="line">        <span class="keyword">for</span> (HashMap&lt;String, ArrayList&lt;Point[]&gt;&gt; tmpMap : map.values()) &#123;</span><br><span class="line">            <span class="keyword">for</span> (ArrayList&lt;Point[]&gt; pointList : tmpMap.values()) &#123;</span><br><span class="line">                <span class="keyword">if</span> (pointList.size() &lt; <span class="number">2</span>) <span class="keyword">continue</span>;</span><br><span class="line">                Point pointA = pointList.get(<span class="number">0</span>)[<span class="number">0</span>];</span><br><span class="line">                Point pointB = pointList.get(<span class="number">0</span>)[<span class="number">1</span>];</span><br><span class="line">                <span class="keyword">int</span> res = Math.abs((pointA.x - pointB.x) * (pointA.y - pointB.y));</span><br><span class="line">                <span class="keyword">if</span> (res &lt; result) &#123;</span><br><span class="line">                    result = res;</span><br><span class="line">                    <span class="keyword">for</span> (Point[] tmpPoints : pointList) &#123;</span><br><span class="line">                        Point pointC = tmpPoints[<span class="number">0</span>], pointD = tmpPoints[<span class="number">1</span>];</span><br><span class="line">                        <span class="comment">// System.out.println("[" + pointC.x + "," + pointC.y + "], " + "[" + pointD.x + ", " + pointD.y + "]");</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result == Integer.MAX_VALUE ? -<span class="number">1</span> : result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">countLineLength</span><span class="params">(Point point1, Point point2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> xDiff = point1.x - point2.x;</span><br><span class="line">        <span class="keyword">int</span> yDiff = point1.y - point2.y;</span><br><span class="line">        <span class="keyword">return</span> xDiff * xDiff + yDiff * yDiff;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        MinSquare sol = <span class="keyword">new</span> MinSquare();</span><br><span class="line">        ArrayList&lt;Point&gt; points = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        points.add(<span class="keyword">new</span> Point(<span class="number">2</span>,<span class="number">0</span>));</span><br><span class="line">        points.add(<span class="keyword">new</span> Point(<span class="number">1</span>,<span class="number">0</span>));</span><br><span class="line">        points.add(<span class="keyword">new</span> Point(-<span class="number">1</span>,<span class="number">0</span>));</span><br><span class="line">        points.add(<span class="keyword">new</span> Point(-<span class="number">2</span>,<span class="number">1</span>));</span><br><span class="line">        points.add(<span class="keyword">new</span> Point(-<span class="number">1</span>,<span class="number">1</span>));</span><br><span class="line">        points.add(<span class="keyword">new</span> Point(<span class="number">0</span>,<span class="number">1</span>));</span><br><span class="line">        points.add(<span class="keyword">new</span> Point(<span class="number">1</span>,<span class="number">1</span>));</span><br><span class="line">        points.add(<span class="keyword">new</span> Point(<span class="number">2</span>,<span class="number">1</span>));</span><br><span class="line">        <span class="comment">// int res = sol.findMinSquare(points);</span></span><br><span class="line">        <span class="keyword">int</span> res = sol.findMinSquareWhenNotParrallToXY(points);</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="71-Crash-Candy"><a href="#71-Crash-Candy" class="headerlink" title="71. Crash Candy"></a>71. Crash Candy</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CrashCandy</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[][] generateBoard(<span class="keyword">int</span> n, <span class="keyword">int</span> total) &#123;</span><br><span class="line">        <span class="keyword">int</span>[][] board = <span class="keyword">new</span> <span class="keyword">int</span>[n][n];</span><br><span class="line">        <span class="keyword">if</span> (n &lt; <span class="number">1</span> || total == <span class="number">0</span>) <span class="keyword">return</span> board;</span><br><span class="line">        ArrayList&lt;ArrayList&lt;ArrayList&lt;Integer&gt;&gt;&gt; candidates = <span class="keyword">new</span> ArrayList&lt;ArrayList&lt;ArrayList&lt;Integer&gt;&gt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> rowIndex = <span class="number">0</span>; rowIndex &lt;= total; rowIndex ++) &#123;</span><br><span class="line">            candidates.add(<span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt;());</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> colIndex = <span class="number">0</span>; colIndex &lt;= total; colIndex ++) &#123;</span><br><span class="line">                candidates.get(rowIndex).add(<span class="keyword">new</span> ArrayList&lt;Integer&gt;());</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> candyIndex = <span class="number">1</span>; candyIndex &lt;= total; candyIndex ++) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (candyIndex != rowIndex &amp;&amp; candyIndex != colIndex) &#123;</span><br><span class="line">                        candidates.get(rowIndex).get(colIndex).add(candyIndex);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> rowIndex = <span class="number">0</span>; rowIndex &lt; n; rowIndex ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> colIndex = <span class="number">0</span>; colIndex &lt; n; colIndex ++) &#123;</span><br><span class="line">                <span class="keyword">int</span> hor = <span class="number">0</span>, vert = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">if</span> (rowIndex &gt;= <span class="number">2</span> &amp;&amp; board[rowIndex - <span class="number">1</span>][colIndex] == board[rowIndex - <span class="number">2</span>][colIndex]) vert = board[rowIndex - <span class="number">1</span>][colIndex];</span><br><span class="line">                <span class="keyword">if</span> (colIndex &gt;= <span class="number">2</span> &amp;&amp; board[rowIndex][colIndex - <span class="number">1</span>] == board[rowIndex][colIndex - <span class="number">2</span>]) hor = board[rowIndex][colIndex - <span class="number">1</span>];</span><br><span class="line">                ArrayList&lt;Integer&gt; candidate = candidates.get(hor).get(vert);</span><br><span class="line">                <span class="keyword">int</span> randIndex = (<span class="keyword">int</span>)(Math.random() * candidate.size());</span><br><span class="line">                board[rowIndex][colIndex] = candidate.get(randIndex);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> board;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[][] generateBoardOpt(<span class="keyword">int</span> n, <span class="keyword">int</span> total) &#123;</span><br><span class="line">        <span class="keyword">int</span>[][] board = <span class="keyword">new</span> <span class="keyword">int</span>[n][n];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> rowIndex = <span class="number">0</span>; rowIndex &lt; n; rowIndex ++) &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> colIndex = <span class="number">0</span>; colIndex &lt; n; colIndex ++) &#123;</span><br><span class="line">                <span class="keyword">int</span> hor = <span class="number">0</span>, vert = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">if</span> (rowIndex &gt; <span class="number">1</span> &amp;&amp; board[rowIndex - <span class="number">1</span>][colIndex] == board[rowIndex - <span class="number">2</span>][colIndex]) hor = board[rowIndex - <span class="number">1</span>][colIndex];</span><br><span class="line">                <span class="keyword">if</span> (colIndex &gt; <span class="number">1</span> &amp;&amp; board[rowIndex][colIndex - <span class="number">1</span>] == board[rowIndex][colIndex - <span class="number">2</span>]) vert = board[rowIndex][colIndex - <span class="number">1</span>];</span><br><span class="line">                <span class="keyword">int</span> val = <span class="number">0</span>, mod = <span class="number">1</span>, count = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> tmp = <span class="number">1</span>; tmp &lt;= total; tmp ++) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (tmp == hor || tmp == vert) <span class="keyword">continue</span>;</span><br><span class="line">                    count ++;</span><br><span class="line">                    <span class="keyword">int</span> rand = (<span class="keyword">int</span>)(Math.random() * count + <span class="number">1</span>);</span><br><span class="line">                    <span class="keyword">if</span> (rand == count) val = tmp;</span><br><span class="line">                &#125;</span><br><span class="line">                board[rowIndex][colIndex] = val;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> board;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        CrashCandy sol = <span class="keyword">new</span> CrashCandy();</span><br><span class="line">        <span class="keyword">int</span> len = <span class="number">5</span>;</span><br><span class="line">        <span class="comment">// int[][] board = sol.generateBoard(len, 3);</span></span><br><span class="line">        <span class="keyword">int</span>[][] board = sol.generateBoardOpt(len, <span class="number">3</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> rowIndex = <span class="number">0</span>; rowIndex &lt; len; rowIndex ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> colIndex = <span class="number">0</span>; colIndex &lt; len; colIndex ++) &#123;</span><br><span class="line">                System.out.print(board[rowIndex][colIndex] + <span class="string">"  "</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="72-Move-box"><a href="#72-Move-box" class="headerlink" title="72. Move box"></a>72. Move box</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MoveBox</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> x, y;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Point</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.x = x;</span><br><span class="line">            <span class="keyword">this</span>.y = y;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> o <span class="keyword">instanceof</span> Point &amp;&amp; ((Point)o).x == <span class="keyword">this</span>.x &amp;&amp; ((Point)o).y == <span class="keyword">this</span>.y;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashcode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">int</span> hashcode = <span class="number">1</span>;</span><br><span class="line">            hashcode = hashcode * <span class="number">31</span> + <span class="keyword">this</span>.x;</span><br><span class="line">            hashcode = hashcode * <span class="number">31</span> + <span class="keyword">this</span>.y;</span><br><span class="line">            <span class="keyword">return</span> hashcode;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minStep</span><span class="params">(Point start, Point end, <span class="keyword">int</span> row, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">        Queue&lt;Point&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        Set&lt;Point&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        queue.offer(start);</span><br><span class="line">        visited.add(start);</span><br><span class="line">        <span class="keyword">int</span> step = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span>[][] shifts = &#123;&#123;<span class="number">0</span>, -<span class="number">1</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;&#125;;</span><br><span class="line">        <span class="keyword">while</span> (! queue.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">int</span> size = queue.size();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> idx = <span class="number">0</span>; idx &lt; size; idx ++) &#123;</span><br><span class="line">                Point cur = queue.poll();</span><br><span class="line">                <span class="keyword">if</span> (cur.equals(end)) <span class="keyword">return</span> step;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt; <span class="number">4</span>; index ++) &#123;</span><br><span class="line">                    <span class="keyword">int</span>[] shift = shifts[index];</span><br><span class="line">                    Point next = <span class="keyword">new</span> Point(cur.x + shift[<span class="number">0</span>], cur.y + shift[<span class="number">1</span>]);</span><br><span class="line">                    <span class="keyword">if</span> (next.x &lt; <span class="number">0</span> || next.x &gt;= row || next.y &lt; <span class="number">0</span> || next.y &gt;= col || visited.contains(next) || hasObstacle(cur, index)) <span class="keyword">continue</span>;</span><br><span class="line">                    visited.add(next);</span><br><span class="line">                    queue.offer(next);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            step ++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        MoveBox sol = <span class="keyword">new</span> MoveBox();</span><br><span class="line">        Point start = <span class="keyword">new</span> Point(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        <span class="comment">// Point end = new Point(0, 0);</span></span><br><span class="line">        <span class="comment">// int res = sol.minStep(start, end);</span></span><br><span class="line">        <span class="comment">// System.out.println(res);</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="73-Remove-Min-Characters"><a href="#73-Remove-Min-Characters" class="headerlink" title="73. Remove Min Characters"></a>73. Remove Min Characters</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Palindrome</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">removeMin</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (s == <span class="keyword">null</span> || s.length() &lt; <span class="number">2</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> len = s.length();</span><br><span class="line">        <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[len][len];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt; len; index ++) &#123;</span><br><span class="line">            dp[index][index] = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (index &lt; len - <span class="number">1</span>) dp[index][index + <span class="number">1</span>] = s.charAt(index) == s.charAt(index + <span class="number">1</span>) ? <span class="number">2</span> : <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> tmpLen = <span class="number">3</span>; tmpLen &lt;= s.length(); tmpLen ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> start = <span class="number">0</span>; start &lt;= s.length() - tmpLen; start ++) &#123;</span><br><span class="line">                <span class="keyword">int</span> end = start + tmpLen - <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span> (s.charAt(start) == s.charAt(end)) &#123;</span><br><span class="line">                    dp[start][end] = Math.max(dp[start][end], <span class="number">2</span> + dp[start + <span class="number">1</span>][end - <span class="number">1</span>]);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    dp[start][end] = Math.max(dp[start][end], Math.max(dp[start + <span class="number">1</span>][end], dp[start][end - <span class="number">1</span>]));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> len - dp[<span class="number">0</span>][len - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Palindrome sol = <span class="keyword">new</span> Palindrome();</span><br><span class="line">        <span class="keyword">int</span> res = sol.removeMin(<span class="string">"aabada"</span>);</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="74-Common-Path"><a href="#74-Common-Path" class="headerlink" title="74. Common Path"></a>74. Common Path</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CommonPath</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">findCommonPath</span><span class="params">(ArrayList&lt;String&gt; paths)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (paths == <span class="keyword">null</span> || paths.size() == <span class="number">0</span>) <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">        String base = paths.get(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">1</span>; index &lt; paths.size(); index ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (paths.get(index).length() &lt; base.length()) base = paths.get(index);</span><br><span class="line">        &#125;</span><br><span class="line">        String[] parts = base.split(<span class="string">"/"</span>);</span><br><span class="line">        <span class="keyword">int</span> end = parts.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">1</span>; index &lt; paths.size(); index ++) &#123;</span><br><span class="line">            String[] tmpParts = paths.get(index).split(<span class="string">"/"</span>);</span><br><span class="line">            <span class="keyword">int</span> start = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (; start &lt;= end &amp;&amp; start &lt; tmpParts.length; start ++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (! parts[start].equals(tmpParts[start])) <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            end = Math.min(end, start - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        String result = <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt;= end; index ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (parts[index].length() == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">            result = result + <span class="string">"/"</span> + parts[index];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        CommonPath sol = <span class="keyword">new</span> CommonPath();</span><br><span class="line">        ArrayList&lt;String&gt; paths = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        paths.add(<span class="string">"/aa/abc/de/mn"</span>);</span><br><span class="line">        paths.add(<span class="string">"/aa/abc/df/gh"</span>);</span><br><span class="line">        paths.add(<span class="string">"/aa/abc/ps"</span>);</span><br><span class="line">        String res = sol.findCommonPath(paths);</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="75-设计北美电话系统"><a href="#75-设计北美电话系统" class="headerlink" title="75. 设计北美电话系统"></a>75. 设计北美电话系统</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PhoneSystem</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> Phone_Number_Size = (<span class="keyword">int</span>)Math.pow(<span class="number">10</span>, <span class="number">7</span>);</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">PhoneBook</span> </span>&#123;</span><br><span class="line">        BitSet phoneNumber = <span class="keyword">new</span> BitSet(Phone_Number_Size);</span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    ArrayList&lt;PhoneBook&gt; phone;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">PhoneSystem</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">        phone = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt; <span class="number">1000</span>; index ++) &#123;</span><br><span class="line">            phone.add(<span class="keyword">new</span> PhoneBook());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> areaNumber, <span class="keyword">int</span> number)</span> </span>&#123;</span><br><span class="line">        phone.get(areaNumber).phoneNumber.set(number, <span class="keyword">true</span>);</span><br><span class="line">        phone.get(areaNumber).count --;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">clear</span><span class="params">(<span class="keyword">int</span> areaNumber, <span class="keyword">int</span> number)</span> </span>&#123;</span><br><span class="line">        phone.get(areaNumber).phoneNumber.set(number, <span class="keyword">false</span>);</span><br><span class="line">        phone.get(areaNumber).count ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getAvailableNumber</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> area = <span class="number">0</span>; area &lt; <span class="number">1000</span>; area ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (phone.get(area).count &lt; Phone_Number_Size) &#123;</span><br><span class="line">                PhoneBook book = phone.get(area);</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> tmpPhoneNumber = <span class="number">0</span>; tmpPhoneNumber &lt; Phone_Number_Size; tmpPhoneNumber ++) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (book.phoneNumber.get(tmpPhoneNumber) == <span class="keyword">false</span>) &#123;</span><br><span class="line">                        book.phoneNumber.set(tmpPhoneNumber, <span class="keyword">true</span>);</span><br><span class="line">                        <span class="keyword">return</span> transformFormate(area, tmpPhoneNumber);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"can not get phone number"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> String <span class="title">transformFormate</span><span class="params">(<span class="keyword">int</span> area, <span class="keyword">int</span> phone)</span> </span>&#123;</span><br><span class="line">        String res = <span class="string">""</span>, areaStr = String.valueOf(area), phoneStr = String.valueOf(phone);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt; <span class="number">3</span> - areaStr.length(); index ++) res = res + <span class="string">"0"</span>;</span><br><span class="line">        res = res + areaStr + <span class="string">" - "</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt; <span class="number">7</span> - phoneStr.length(); index ++) res = res + <span class="string">"0"</span>;</span><br><span class="line">        res = res + phoneStr;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        PhoneSystem sol = <span class="keyword">new</span> PhoneSystem();</span><br><span class="line">        sol.add(<span class="number">012</span>, <span class="number">3456789</span>);</span><br><span class="line">        sol.add(<span class="number">123</span>, <span class="number">4567890</span>);</span><br><span class="line">        String res = sol.getAvailableNumber();</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="76-字典里面找最长subsequence"><a href="#76-字典里面找最长subsequence" class="headerlink" title="76. 字典里面找最长subsequence"></a>76. 字典里面找最长subsequence</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FindLongestSubsequence</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">        <span class="keyword">char</span> val;</span><br><span class="line">        <span class="keyword">boolean</span> isWord;</span><br><span class="line">        HashMap&lt;Character, Node&gt; children;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(<span class="keyword">char</span> v)</span> </span>&#123;</span><br><span class="line">            val = v;</span><br><span class="line">            isWord = <span class="keyword">false</span>;</span><br><span class="line">            children = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">Trie</span> </span>&#123;</span><br><span class="line">        Node root;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Trie</span><span class="params">(ArrayList&lt;String&gt; dict)</span> </span>&#123;</span><br><span class="line">            root = <span class="keyword">new</span> Node(<span class="string">'0'</span>);</span><br><span class="line">            <span class="keyword">for</span> (String word : dict) &#123;</span><br><span class="line">                insertWord(word);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">insertWord</span><span class="params">(String word)</span> </span>&#123;</span><br><span class="line">            Node tmp = root;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">char</span> c : word.toCharArray()) &#123;</span><br><span class="line">                <span class="keyword">if</span> (! tmp.children.containsKey(c)) tmp.children.put(c, <span class="keyword">new</span> Node(c));</span><br><span class="line">                tmp = tmp.children.get(c);</span><br><span class="line">            &#125;</span><br><span class="line">            tmp.isWord = <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> res;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findSequence</span><span class="params">(String target, ArrayList&lt;String&gt; dict)</span> </span>&#123;</span><br><span class="line">        Trie trie = <span class="keyword">new</span> Trie(dict);</span><br><span class="line">        res = <span class="number">0</span>;</span><br><span class="line">        dfs(trie.root, target, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(Node root, String target, <span class="keyword">int</span> index, <span class="keyword">int</span> tmpLen)</span> </span>&#123;</span><br><span class="line">        res = Math.max(res, tmpLen);</span><br><span class="line">        <span class="keyword">if</span> (index == target.length() || root == <span class="keyword">null</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> childChar : root.children.keySet()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (childChar == target.charAt(index)) &#123;</span><br><span class="line">                dfs(root.children.get(childChar), target, index + <span class="number">1</span>, tmpLen + <span class="number">1</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">int</span> idx = index;</span><br><span class="line">                <span class="keyword">while</span> (idx &lt; target.length() &amp;&amp; target.charAt(idx) != childChar) &#123;</span><br><span class="line">                    idx ++;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (idx &lt; target.length()) &#123;</span><br><span class="line">                    dfs(root.children.get(childChar), target, idx + <span class="number">1</span>, tmpLen + <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// for (int idx = index; idx &lt; target.length(); idx ++) &#123;</span></span><br><span class="line">        <span class="comment">//     char c = target.charAt(idx);</span></span><br><span class="line">        <span class="comment">//     if (root.children.containsKey(c)) &#123;</span></span><br><span class="line">        <span class="comment">//         dfs(root.children.get(c), target, idx + 1, tmpLen + 1);</span></span><br><span class="line">        <span class="comment">//     &#125;</span></span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        FindLongestSubsequence sol = <span class="keyword">new</span> FindLongestSubsequence();</span><br><span class="line">        String target = <span class="string">"zzabcdefg"</span>;</span><br><span class="line">        ArrayList&lt;String&gt; dict = <span class="keyword">new</span> ArrayList&lt;&gt;(Arrays.asList(<span class="string">"mmacefg"</span>, <span class="string">"zzacg"</span>));</span><br><span class="line">        <span class="keyword">int</span> res = sol.findSequence(target, dict);</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="77-Min-Rearrange-Len"><a href="#77-Min-Rearrange-Len" class="headerlink" title="77. Min Rearrange Len"></a>77. Min Rearrange Len</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minLen</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length &lt; <span class="number">2</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> len = nums.length, left = <span class="number">0</span>, right = len - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt; len - <span class="number">1</span> &amp;&amp; nums[left] &lt; nums[left + <span class="number">1</span>]) left ++;</span><br><span class="line">        <span class="keyword">if</span> (left == len) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (right &gt; left &amp;&amp; nums[right] &gt;= nums[left]) right --;</span><br><span class="line">        System.out.println(left + <span class="string">", "</span> + right);</span><br><span class="line">        <span class="keyword">return</span> right - left + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Solution sol = <span class="keyword">new</span> Solution();</span><br><span class="line">        <span class="keyword">int</span>[] nums = &#123;<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>&#125;;</span><br><span class="line">        sol.minLen(nums);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="78-Max-TIME"><a href="#78-Max-TIME" class="headerlink" title="78. Max TIME"></a>78. Max TIME</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">maxTime</span><span class="params">(<span class="keyword">int</span>[] numbers)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (numbers == <span class="keyword">null</span> || numbers.length != <span class="number">4</span>) <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">boolean</span>[] visited = <span class="keyword">new</span> <span class="keyword">boolean</span>[<span class="number">4</span>];        </span><br><span class="line">        <span class="keyword">int</span> resHour = -<span class="number">1</span>, resMinute = -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> firstIndex = <span class="number">0</span>; firstIndex &lt; <span class="number">4</span>; firstIndex ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (numbers[firstIndex] &gt; <span class="number">2</span>) <span class="keyword">continue</span>;</span><br><span class="line">            visited[firstIndex] = <span class="keyword">true</span>;</span><br><span class="line">            <span class="keyword">int</span> hour = numbers[firstIndex] * <span class="number">10</span>;         </span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> secondIndex = <span class="number">0</span>; secondIndex &lt; <span class="number">4</span>; secondIndex ++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (visited[secondIndex] || hour + numbers[secondIndex] &gt; <span class="number">23</span>) <span class="keyword">continue</span>;</span><br><span class="line">                hour += numbers[secondIndex];</span><br><span class="line">                visited[secondIndex] = <span class="keyword">true</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> thirdIndex = <span class="number">0</span>; thirdIndex &lt; <span class="number">4</span>; thirdIndex ++) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (visited[thirdIndex] || numbers[thirdIndex] &gt; <span class="number">6</span>) <span class="keyword">continue</span>;</span><br><span class="line">                    visited[thirdIndex] = <span class="keyword">true</span>;</span><br><span class="line">                    <span class="keyword">int</span> minute = <span class="number">10</span> * numbers[thirdIndex];     </span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> fourthIndex = <span class="number">0</span>; fourthIndex &lt; <span class="number">4</span>; fourthIndex ++) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (visited[fourthIndex] || minute + numbers[fourthIndex] &gt; <span class="number">59</span>) <span class="keyword">continue</span>;</span><br><span class="line">                        minute += numbers[fourthIndex];</span><br><span class="line">                        visited[fourthIndex] = <span class="keyword">true</span>;</span><br><span class="line">                        <span class="keyword">if</span> (hour &gt; resHour || (hour == resHour &amp;&amp; minute &gt; resMinute)) &#123;</span><br><span class="line">                            <span class="comment">// System.out.println(hour + ":" + minute);</span></span><br><span class="line">                            resHour = hour;</span><br><span class="line">                            resMinute = minute;</span><br><span class="line">                        &#125;</span><br><span class="line">                        visited[fourthIndex] = <span class="keyword">false</span>;</span><br><span class="line">                        minute -= numbers[fourthIndex];</span><br><span class="line">                    &#125;</span><br><span class="line">                    visited[thirdIndex] = <span class="keyword">false</span>;</span><br><span class="line">                &#125;  </span><br><span class="line">                visited[secondIndex] = <span class="keyword">false</span>;</span><br><span class="line">                hour -= numbers[secondIndex];</span><br><span class="line">            &#125;</span><br><span class="line">            visited[firstIndex] = <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        String hourStr = String.valueOf(resHour), minuteStr = String.valueOf(resMinute);</span><br><span class="line">        <span class="keyword">return</span> (hourStr.length() == <span class="number">1</span> ? <span class="string">"0"</span> + hourStr : hourStr) + <span class="string">":"</span> + (minuteStr.length() == <span class="number">1</span> ? <span class="string">"0"</span> + minuteStr : minuteStr);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="79-Decode-String"><a href="#79-Decode-String" class="headerlink" title="79. Decode String"></a>79. Decode String</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">compress</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        String result = <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">int</span> len = s.length();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt; len; ) &#123;</span><br><span class="line">            <span class="keyword">char</span> c = s.charAt(index);</span><br><span class="line">            <span class="keyword">if</span> (index &lt; len - <span class="number">1</span> &amp;&amp; Character.isDigit(s.charAt(index + <span class="number">1</span>))) &#123;</span><br><span class="line">                <span class="keyword">int</span> repeatNumber = s.charAt(index + <span class="number">1</span>) - <span class="string">'0'</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> idx = <span class="number">0</span>; idx &lt; repeatNumber; idx ++) &#123;</span><br><span class="line">                    result = result + c;</span><br><span class="line">                &#125;</span><br><span class="line">                index += <span class="number">2</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                result = result + c;</span><br><span class="line">                index ++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Solution sol = <span class="keyword">new</span> Solution();</span><br><span class="line">        String[] tests = &#123;<span class="string">"0"</span>, <span class="string">"a0234"</span>, <span class="string">"a0b2c3"</span>&#125;;</span><br><span class="line">        <span class="keyword">for</span> (String test : tests) &#123;</span><br><span class="line">            String res = sol.compress(test);</span><br><span class="line">            System.out.println(test + <span class="string">" ==&gt;  "</span> + res);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</div><div class="tags"><a href="/tags/Algorithm/">Algorithm</a></div><div class="post-nav"><a class="pre" href="/2017/01/01/写在岁末年初（2016）/">写在岁末年初（2016）</a><a class="next" href="/2016/05/07/IOS开发中的四大对象及程序启动过程混讲/">iOS开发中的四大对象及程序启动过程混讲</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://pengfeixing.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Algorithm/">算法</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">编程基础</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Diary/">随笔</a><span class="category-list-count">3</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/iOS/" style="font-size: 15px;">iOS</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/Diary/" style="font-size: 15px;">Diary</a> <a href="/tags/Algorithm/" style="font-size: 15px;">Algorithm</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/12/31/写在岁末年初（2017）/">写在岁末年初 （2017）</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/01/写在岁末年初（2016）/">写在岁末年初（2016）</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/27/算法基础/">算法基础</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/05/07/IOS开发中的四大对象及程序启动过程混讲/">iOS开发中的四大对象及程序启动过程混讲</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/09/IOS沙盒简介/">iOS沙盒简介</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/02/18/Java基础/">Java基础</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/02/13/算法进阶/">算法进阶</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/01/08/新浪微博Apple Watch客户端/">新浪微博Apple Watch客户端</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/12/31/写在岁末年初（2015）/">写在岁末年初（2015）</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/11/23/Uschedule项目日志/">Uschedule 项目日志</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">美漂的野指针.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>