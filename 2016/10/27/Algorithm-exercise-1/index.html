<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Algorithm exercise 1 | 邢鹏飞的博客</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/7.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Algorithm exercise 1</h1><a id="logo" href="/.">邢鹏飞的博客</a><p class="description">Make a difference</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 主页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Algorithm exercise 1</h1><div class="post-meta">Oct 27, 2016</div><div class="post-content"><h3 id="1-对角线打印矩阵"><a href="#1-对角线打印矩阵" class="headerlink" title="1. 对角线打印矩阵"></a>1. 对角线打印矩阵</h3><p>Input:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;1,2,3,4&#125;, &#123;5,6,7,8&#125;, &#123;9,10,11,12&#125;, &#123;13,14,15,16&#125;, &#123;17,18,19,20&#125;&#125;</span><br></pre></td></tr></table></figure></p>
<p>Output:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1  </span><br><span class="line">2  5  </span><br><span class="line">3  6  9  </span><br><span class="line">4  7  10  13  </span><br><span class="line">8  11  14  17  </span><br><span class="line">12  15  18  </span><br><span class="line">16  19  </span><br><span class="line">20</span><br></pre></td></tr></table></figure></p>
<p>Code<br>笔误： colIndex -&gt; rowIndex<br>边界条件应该是： colCount - 1<br>总的循环条件是row col都必须满足</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">zagzigPrintMatrix</span><span class="params">(<span class="keyword">int</span>[][] matrix)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (matrix == <span class="keyword">null</span> || matrix.length == <span class="number">0</span> || matrix[<span class="number">0</span>].length == <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">int</span> rowCount = matrix.length, colCount = matrix[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">int</span> rowIndex = <span class="number">0</span>, colIndex = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(rowIndex &lt; rowCount &amp;&amp; colIndex &lt; colCount) &#123;</span><br><span class="line">            <span class="keyword">int</span> tmpRowIndex = rowIndex, tmpColIndex = colIndex;</span><br><span class="line">            <span class="keyword">while</span> (tmpRowIndex &lt; rowCount &amp;&amp; tmpColIndex &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                System.out.print(matrix[tmpRowIndex ++][tmpColIndex --] + <span class="string">"  "</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">            <span class="keyword">if</span> (colIndex &lt; colCount - <span class="number">1</span>) &#123;</span><br><span class="line">                colIndex ++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                rowIndex ++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[][] matrix = &#123;&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;, &#123;<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>&#125;, &#123;<span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>,<span class="number">12</span>&#125;, &#123;<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>,<span class="number">16</span>&#125;,&#123;<span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>, <span class="number">20</span>&#125;&#125;;</span><br><span class="line">        zagzigPrintMatrix(matrix);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-Merge-K-Sorted-Lists"><a href="#2-Merge-K-Sorted-Lists" class="headerlink" title="2. Merge K Sorted Lists"></a>2. Merge K Sorted Lists</h3><p>经常漏<code>)</code>，因为一般网页版ide的自动补全优点问题；<br>在构造函数<code>Pair</code>中漏掉<code>int</code>。</p>
<p>Code</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Pair</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> val, row, col;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Pair</span><span class="params">(<span class="keyword">int</span> val, <span class="keyword">int</span> row, <span class="keyword">int</span> col)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.val = val;</span><br><span class="line">            <span class="keyword">this</span>.row = row;</span><br><span class="line">            <span class="keyword">this</span>.col = col;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;Integer&gt; <span class="title">mergeKSortedList</span><span class="params">(<span class="keyword">int</span>[][] lists)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">        <span class="keyword">if</span> (lists == <span class="keyword">null</span> || lists.length == <span class="number">0</span>) <span class="keyword">return</span> result;</span><br><span class="line">        PriorityQueue&lt;Pair&gt; queue = <span class="keyword">new</span> PriorityQueue&lt;Pair&gt;(<span class="keyword">new</span> Comparator&lt;Pair&gt;() &#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Pair p1, Pair p2)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> p1.val - p2.val;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> rowIndex = <span class="number">0</span>; rowIndex &lt; lists.length; rowIndex ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (lists[rowIndex].length == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">            queue.offer(<span class="keyword">new</span> Pair(lists[rowIndex][<span class="number">0</span>], rowIndex, <span class="number">0</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (! queue.isEmpty()) &#123;</span><br><span class="line">            Pair curPair = queue.poll();</span><br><span class="line">            result.add(curPair.val);</span><br><span class="line">            <span class="keyword">if</span> (curPair.col &lt; lists[curPair.row].length - <span class="number">1</span>) &#123;</span><br><span class="line">                queue.offer(<span class="keyword">new</span> Pair(lists[curPair.row][curPair.col + <span class="number">1</span>], curPair.row, curPair.col + <span class="number">1</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[][] lists = &#123;&#123;<span class="number">1</span>, <span class="number">9</span>&#125;, &#123;<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;, &#123;<span class="number">3</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">9</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>&#125;, &#123;<span class="number">11</span>&#125;&#125;;</span><br><span class="line">        List&lt;Integer&gt; result = mergeKSortedList(lists);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> num : result) &#123;</span><br><span class="line">            System.out.print(num + <span class="string">"  "</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       <span class="keyword">int</span>[][] lists = &#123;&#123;&#125;, &#123;<span class="number">1</span>&#125;, &#123;<span class="number">1</span>,<span class="number">2</span>&#125;, &#123;<span class="number">1</span>,<span class="number">2</span>&#125;, &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;, &#123;<span class="number">6</span>,<span class="number">7</span>&#125;&#125;;</span><br><span class="line">       Node[] headsList = constructListList(lists);</span><br><span class="line">       Node head = mergeKSortedList(headsList);</span><br><span class="line">       Node tmp = head;</span><br><span class="line">       <span class="keyword">while</span> (tmp != <span class="keyword">null</span>) &#123;</span><br><span class="line">           System.out.print(tmp.val + <span class="string">"  "</span>);</span><br><span class="line">           tmp = tmp.next;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">private</span> Node[] constructListList(<span class="keyword">int</span>[][] values) &#123;</span><br><span class="line">       <span class="keyword">if</span> (values == <span class="keyword">null</span> || values.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">       Node[] result = <span class="keyword">new</span> Node[values.length];</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; values.length; i ++) &#123;</span><br><span class="line">           result[i] = constructList(values[i]);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> result;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> Node <span class="title">constructList</span><span class="params">(<span class="keyword">int</span>[] values)</span> </span>&#123;</span><br><span class="line">       Node dummy = <span class="keyword">new</span> Node(<span class="number">0</span>);</span><br><span class="line">       Node pre = dummy;</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> val : values) &#123;</span><br><span class="line">           Node node = <span class="keyword">new</span> Node(val);</span><br><span class="line">           pre.next = node;</span><br><span class="line">           pre = pre.next;</span><br><span class="line">       &#125;</span><br><span class="line">       pre.next = <span class="keyword">null</span>;</span><br><span class="line">       <span class="keyword">return</span> dummy.next;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">       <span class="keyword">int</span> val;</span><br><span class="line">       Node next;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">           <span class="keyword">this</span>.val = val;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> Node <span class="title">mergeKSortedList</span><span class="params">(Node[] heads)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (heads == <span class="keyword">null</span> || heads.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">       PriorityQueue&lt;Node&gt; priorityQueue = <span class="keyword">new</span> PriorityQueue&lt;&gt;(<span class="keyword">new</span> Comparator&lt;Node&gt;() &#123;</span><br><span class="line">           <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Node nodeA, Node nodeB)</span> </span>&#123;</span><br><span class="line">               <span class="keyword">return</span> nodeA.val - nodeB.val;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;);</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; heads.length; i ++) &#123;</span><br><span class="line">           <span class="keyword">if</span> (heads[i] == <span class="keyword">null</span>) <span class="keyword">continue</span>;</span><br><span class="line">           priorityQueue.offer(heads[i]);</span><br><span class="line">       &#125;</span><br><span class="line">       Node dummy = <span class="keyword">new</span> Node(<span class="number">0</span>);</span><br><span class="line">       Node tmpNode = dummy;</span><br><span class="line">       <span class="keyword">while</span> (! priorityQueue.isEmpty()) &#123;</span><br><span class="line">           Node minValueNode = priorityQueue.poll();</span><br><span class="line">           tmpNode.next = minValueNode;</span><br><span class="line">           tmpNode = tmpNode.next;</span><br><span class="line">           minValueNode = minValueNode.next;</span><br><span class="line">           <span class="keyword">if</span> (minValueNode != <span class="keyword">null</span>) priorityQueue.offer(minValueNode);</span><br><span class="line">       &#125;</span><br><span class="line">       tmpNode.next = <span class="keyword">null</span>;</span><br><span class="line">       <span class="keyword">return</span> dummy.next;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-Valid-Sodoku"><a href="#3-Valid-Sodoku" class="headerlink" title="3. Valid Sodoku"></a>3. Valid Sodoku</h3><p>Code</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValidSodoku</span><span class="params">(<span class="keyword">char</span>[][] board)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (board == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">       <span class="keyword">int</span> row = board.length, col = board[<span class="number">0</span>].length;</span><br><span class="line">       <span class="keyword">if</span> (row != <span class="number">9</span> || col != <span class="number">9</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">       HashSet&lt;String&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> rowIndex = <span class="number">0</span>; rowIndex &lt; <span class="number">9</span>; rowIndex ++) &#123;</span><br><span class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> colIndex = <span class="number">0</span>; colIndex &lt; <span class="number">9</span>; colIndex ++) &#123;</span><br><span class="line">               <span class="keyword">if</span> (board[rowIndex][colIndex] == <span class="string">'.'</span>) <span class="keyword">continue</span>;</span><br><span class="line">               String value = <span class="string">"("</span> + board[rowIndex][colIndex] + <span class="string">")"</span>;</span><br><span class="line">               <span class="keyword">if</span> (!visited.add(rowIndex + value) || ! visited.add(value + colIndex) || ! visited.add(rowIndex / <span class="number">3</span> + value + colIndex / <span class="number">3</span>)) &#123;</span><br><span class="line">                   <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h3 id="4-添加-是整型数组的结果最大"><a href="#4-添加-是整型数组的结果最大" class="headerlink" title="4. 添加 + * () 是整型数组的结果最大"></a>4. 添加 + * () 是整型数组的结果最大</h3><p>Code</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">addOperatorToMaxResult</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> len = nums.length;</span><br><span class="line">        <span class="comment">// dp[endIndex][cutNumber] meas nums[0] ~ nums[endIndex] split into cutNumber parts, the maximum value</span></span><br><span class="line">        <span class="comment">// dp[endIndex][cutNumber] = Math.max(dp[endIndex][cutNumber], dp[tmpIndex][cutNumber - 1] * sum[tmpIndex + 1][endIndex])</span></span><br><span class="line">        <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[len + <span class="number">1</span>][len + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span>[] sum = <span class="keyword">new</span> <span class="keyword">int</span>[len + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">1</span>; index &lt;= len; index ++) &#123;</span><br><span class="line">            sum[index] = sum[index - <span class="number">1</span>] + nums[index - <span class="number">1</span>];</span><br><span class="line">            dp[index][<span class="number">1</span>] = sum[index];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> endIndex = <span class="number">2</span>; endIndex &lt;= len; endIndex ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> cutNumber = <span class="number">2</span>; cutNumber &lt;= endIndex; cutNumber ++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> lastPartStartIndex = cutNumber; lastPartStartIndex &lt;= endIndex; lastPartStartIndex ++) &#123;</span><br><span class="line">                    dp[endIndex][cutNumber] = Math.max(dp[endIndex][cutNumber], dp[lastPartStartIndex - <span class="number">1</span>][cutNumber - <span class="number">1</span>] * (sum[endIndex] - sum[lastPartStartIndex - <span class="number">1</span>]));</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (endIndex == len) &#123;</span><br><span class="line">                    result = Math.max(result, dp[endIndex][cutNumber]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">maxResultContainsNegative</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> len = nums.length;</span><br><span class="line">        <span class="keyword">int</span>[][] max = <span class="keyword">new</span> <span class="keyword">int</span>[len + <span class="number">1</span>][len + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span>[][] min = <span class="keyword">new</span> <span class="keyword">int</span>[len + <span class="number">1</span>][len + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span>[] sum = <span class="keyword">new</span> <span class="keyword">int</span>[len + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">1</span>; index &lt;= len; index ++) &#123;</span><br><span class="line">            sum[index] = sum[index - <span class="number">1</span>] + nums[index - <span class="number">1</span>];</span><br><span class="line">            max[index][<span class="number">1</span>] = sum[index];</span><br><span class="line">            min[index][<span class="number">1</span>] = sum[index];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> result = Integer.MIN_VALUE;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> endIndex = <span class="number">1</span>; endIndex &lt;= len; endIndex ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> partNumber = <span class="number">2</span>; partNumber &lt;= len; partNumber ++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> lastPartStartIndex = partNumber; lastPartStartIndex &lt;= endIndex; lastPartStartIndex ++) &#123;</span><br><span class="line">                    <span class="keyword">int</span> lastSum = sum[endIndex] - sum[lastPartStartIndex - <span class="number">1</span>];</span><br><span class="line">                    max[endIndex][partNumber] = Math.max(max[endIndex][partNumber], lastSum * (lastSum &gt; <span class="number">0</span> ? max[lastPartStartIndex - <span class="number">1</span>][partNumber - <span class="number">1</span>] : min[lastPartStartIndex - <span class="number">1</span>][partNumber - <span class="number">1</span>]));</span><br><span class="line">                    min[endIndex][partNumber] = Math.min(min[endIndex][partNumber], lastSum * (lastSum &gt; <span class="number">0</span> ? min[lastPartStartIndex - <span class="number">1</span>][partNumber - <span class="number">1</span>] : max[lastPartStartIndex - <span class="number">1</span>][partNumber - <span class="number">1</span>]));</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (endIndex == len) &#123;</span><br><span class="line">                    result = Math.max(result, max[endIndex][partNumber]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] nums = &#123;-<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;;</span><br><span class="line">        <span class="comment">// int res1 = addOperatorToMaxResult(nums);</span></span><br><span class="line">        <span class="keyword">int</span> res2 = maxResultContainsNegative(nums);</span><br><span class="line">        System.out.println(res2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;**</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] numbers = &#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>&#125;;</span><br><span class="line">        <span class="keyword">int</span> result = maximumResult(numbers);</span><br><span class="line">        System.out.println(result);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maximumResult</span><span class="params">(<span class="keyword">int</span>[] numbers)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (numbers == <span class="keyword">null</span> || numbers.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> length = numbers.length;</span><br><span class="line">        <span class="keyword">int</span>[] sum = <span class="keyword">new</span> <span class="keyword">int</span>[length + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[length + <span class="number">1</span>][length + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= length; i ++) &#123;</span><br><span class="line">            sum[i] = sum[i - <span class="number">1</span>] + numbers[i - <span class="number">1</span>];</span><br><span class="line">            dp[i][<span class="number">1</span>] = sum[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> result = dp[length][<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> tmpLen = <span class="number">2</span>; tmpLen &lt;= length; tmpLen ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> partNumber = <span class="number">2</span>; partNumber &lt;= tmpLen; partNumber ++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> lastPartStartIndex = partNumber; lastPartStartIndex &lt; tmpLen; lastPartStartIndex++) &#123;</span><br><span class="line"><span class="comment">//                    这里需要注意的是 dp[lastPartStartIndex - 1][partNumber - 1], lastPartStartIndex 该变量代表了前 lastPartStartIndex 个数字,因为所有坐标是从1开始的.</span></span><br><span class="line">                    dp[tmpLen][partNumber] = Math.max(dp[tmpLen][partNumber], dp[lastPartStartIndex - <span class="number">1</span>][partNumber - <span class="number">1</span>] * (sum[tmpLen] - sum[lastPartStartIndex - <span class="number">1</span>]));</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (tmpLen == length) &#123;</span><br><span class="line">                    result = Math.max(result, dp[tmpLen][partNumber]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-Find-Min-or-Target-in-Rotated-Array"><a href="#5-Find-Min-or-Target-in-Rotated-Array" class="headerlink" title="5. Find Min or Target in Rotated Array"></a>5. Find Min or Target in Rotated Array</h3><p>Code</p>
<p>在找min时：在求mid的时候, left + (right - left) / 2;<br>在找target时：深刻理解 target 和 nums[mid] 比较的原因！</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">findMinIndex</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (nums[left] &lt; nums[right]) &#123;</span><br><span class="line">                right = mid - <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (nums[mid] &gt; nums[right]) &#123;</span><br><span class="line">                    left = mid + <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    right = mid;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> left;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] nums = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">0</span>&#125;;</span><br><span class="line">        <span class="keyword">int</span> res = findMinIndex(nums);</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] nums = &#123;<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">9</span>&#125;;</span><br><span class="line"><span class="comment">//        int res = findMin(nums);</span></span><br><span class="line">        <span class="keyword">int</span> res = findTargetIndex(nums, <span class="number">10</span>);</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findMin</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">null</span> == nums || nums.length &lt; <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (nums[left] &gt; nums[right]) &#123;</span><br><span class="line">                <span class="keyword">if</span> (nums[mid] &gt; nums[right]) &#123;</span><br><span class="line">                    left = mid + <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    right = mid;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                right = mid - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums[left];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findMinContainsDuplicate</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (nums[left] &gt; nums[right]) &#123;</span><br><span class="line">                <span class="keyword">if</span> (nums[mid] &lt; nums[right]) &#123;</span><br><span class="line">                    right = mid;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    left = mid + <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[left] &lt; nums[right])&#123;</span><br><span class="line">                right = mid;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                right --;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums[left];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findTargetIndex</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (nums[mid] == target) <span class="keyword">return</span> mid;</span><br><span class="line">            <span class="keyword">if</span> (nums[mid] &gt; target) &#123;</span><br><span class="line">                <span class="keyword">if</span> (nums[left] &gt; nums[right] &amp;&amp; nums[mid] &gt; nums[right] &amp;&amp; target &lt;= nums[right]) &#123;</span><br><span class="line">                    left = mid + <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    right = mid - <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (nums[left] &gt; nums[right] &amp;&amp; nums[mid] &lt; nums[left] &amp;&amp; target &gt;= nums[left]) &#123;</span><br><span class="line">                    right = mid - <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    left = mid + <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums[left] == target ? left : -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-Frog-Jump"><a href="#6-Frog-Jump" class="headerlink" title="6. Frog Jump"></a>6. Frog Jump</h3><p>Code</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[][] testCases = &#123;&#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">12</span>,<span class="number">17</span>&#125;, &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">11</span>&#125;&#125;;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] stones : testCases) &#123;</span><br><span class="line">            <span class="keyword">boolean</span> result = canJumpToTheEnd(stones);</span><br><span class="line">            System.out.println(result);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canJumpToTheEnd</span><span class="params">(<span class="keyword">int</span>[] stones)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (stones == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        HashMap&lt;Integer, HashSet&lt;Integer&gt;&gt; nextPosition = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> position : stones) nextPosition.put(position, <span class="keyword">new</span> HashSet&lt;Integer&gt;());</span><br><span class="line">        nextPosition.get(<span class="number">0</span>).add(<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">int</span> destination = stones[stones.length - <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> pos : stones) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> step : nextPosition.get(pos)) &#123;</span><br><span class="line">                <span class="keyword">int</span> dest = pos + step;</span><br><span class="line">                <span class="keyword">if</span> (dest == destination) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                <span class="keyword">if</span> (nextPosition.containsKey(dest)) &#123;</span><br><span class="line">                    nextPosition.get(dest).add(step);</span><br><span class="line">                    nextPosition.get(dest).add(step + <span class="number">1</span>);</span><br><span class="line">                    <span class="keyword">if</span> (step &gt; <span class="number">1</span>) nextPosition.get(dest).add(step - <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-Course-Schedule-Two"><a href="#7-Course-Schedule-Two" class="headerlink" title="7. Course Schedule Two"></a>7. Course Schedule Two</h3><p>注意点：可能在输入的prerequisites数组中有重复的，所以在初始化map的时候需要检验是否已经录入改该prerequisite。</p>
<p>Code</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       <span class="keyword">int</span>[][] testCase1 = &#123;&#123;<span class="number">1</span>,<span class="number">0</span>&#125;, &#123;<span class="number">2</span>,<span class="number">0</span>&#125;,&#123;<span class="number">3</span>,<span class="number">1</span>&#125;,&#123;<span class="number">3</span>,<span class="number">2</span>&#125;&#125;;</span><br><span class="line">       <span class="keyword">int</span>[][] testCase2 = &#123;&#123;<span class="number">5</span>,<span class="number">8</span>&#125;, &#123;<span class="number">3</span>,<span class="number">5</span>&#125;,&#123;<span class="number">1</span>,<span class="number">9</span>&#125;,&#123;<span class="number">4</span>,<span class="number">5</span>&#125;,&#123;<span class="number">0</span>,<span class="number">2</span>&#125;,&#123;<span class="number">1</span>,<span class="number">9</span>&#125;,&#123;<span class="number">7</span>,<span class="number">8</span>&#125;,&#123;<span class="number">4</span>,<span class="number">9</span>&#125;&#125;;</span><br><span class="line">       <span class="keyword">int</span>[] result = findOrder(<span class="number">10</span>, testCase2);</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i : result) &#123;</span><br><span class="line">           System.out.println(i);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">int</span>[] findOrder(<span class="keyword">int</span> numCourses, <span class="keyword">int</span>[][] prerequisites) &#123;</span><br><span class="line">       <span class="keyword">int</span>[] indegree = <span class="keyword">new</span> <span class="keyword">int</span>[numCourses];</span><br><span class="line">       HashMap&lt;Integer, HashSet&lt;Integer&gt;&gt; prerequisiteMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numCourses; i ++) &#123;</span><br><span class="line">           prerequisiteMap.put(i, <span class="keyword">new</span> HashSet&lt;&gt;());</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span>[] prerequisite : prerequisites) &#123;</span><br><span class="line">           <span class="keyword">if</span>(prerequisiteMap.get(prerequisite[<span class="number">1</span>]).add(prerequisite[<span class="number">0</span>])) &#123;</span><br><span class="line">               indegree[prerequisite[<span class="number">0</span>]] ++;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[numCourses];</span><br><span class="line">       <span class="keyword">int</span> resultIndex = <span class="number">0</span>;</span><br><span class="line">       Queue&lt;Integer&gt; nextScheduledCourse = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numCourses; i ++) &#123;</span><br><span class="line">           <span class="keyword">if</span> (indegree[i] == <span class="number">0</span>) nextScheduledCourse.add(i);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">while</span> (! nextScheduledCourse.isEmpty()) &#123;</span><br><span class="line">           <span class="keyword">int</span> size = nextScheduledCourse.size();</span><br><span class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i ++) &#123;</span><br><span class="line">               <span class="keyword">int</span> prerequisiteCouse = nextScheduledCourse.poll();</span><br><span class="line">               result[resultIndex ++] = prerequisiteCouse;</span><br><span class="line">               <span class="keyword">for</span> (<span class="keyword">int</span> nextCourse : prerequisiteMap.get(prerequisiteCouse)) &#123;</span><br><span class="line">                   indegree[nextCourse] --;</span><br><span class="line">                   <span class="keyword">if</span> (indegree[nextCourse] == <span class="number">0</span>) &#123;</span><br><span class="line">                       nextScheduledCourse.offer(nextCourse);</span><br><span class="line">                   &#125;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> resultIndex == numCourses ? result : <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">0</span>];</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h3 id="8-Restore-IP-Address"><a href="#8-Restore-IP-Address" class="headerlink" title="8. Restore IP Address"></a>8. Restore IP Address</h3><p>用四重循环方法做的时候需要注意循环边界条件：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">restoreIpAddresses</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">        <span class="keyword">if</span> (s == <span class="keyword">null</span> || s.length() &lt; <span class="number">4</span> || s.length() &gt; <span class="number">12</span>) <span class="keyword">return</span> result;</span><br><span class="line">        <span class="keyword">int</span> len = s.length();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> firstEnd = <span class="number">0</span>; firstEnd &lt; <span class="number">3</span> &amp;&amp; firstEnd &lt; len - <span class="number">3</span>; firstEnd ++) &#123;</span><br><span class="line">            String first = s.substring(<span class="number">0</span>, firstEnd + <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span> (Integer.valueOf(first) &gt; <span class="number">255</span> || (first.length() &gt; <span class="number">1</span> &amp;&amp; first.charAt(<span class="number">0</span>) == <span class="string">'0'</span>)) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> secondEnd = firstEnd + <span class="number">1</span>; secondEnd &lt;= firstEnd + <span class="number">3</span> &amp;&amp; secondEnd &lt; len - <span class="number">2</span>; secondEnd ++) &#123;</span><br><span class="line">                String second = s.substring(firstEnd + <span class="number">1</span>, secondEnd + <span class="number">1</span>);</span><br><span class="line">                <span class="comment">// System.out.println(second);</span></span><br><span class="line">                <span class="keyword">if</span> (Integer.valueOf(second) &gt; <span class="number">255</span> || (second.length() &gt; <span class="number">1</span> &amp;&amp; second.charAt(<span class="number">0</span>) == <span class="string">'0'</span>)) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> thirdEnd = secondEnd + <span class="number">1</span>; thirdEnd &lt;= secondEnd + <span class="number">3</span> &amp;&amp; thirdEnd &lt; len - <span class="number">1</span>; thirdEnd ++) &#123;</span><br><span class="line">                    String third = s.substring(secondEnd + <span class="number">1</span>, thirdEnd + <span class="number">1</span>);</span><br><span class="line">                    <span class="keyword">if</span> (Integer.valueOf(third) &gt; <span class="number">255</span> || (third.length() &gt; <span class="number">1</span> &amp;&amp; third.charAt(<span class="number">0</span>) == <span class="string">'0'</span>)) <span class="keyword">continue</span>;</span><br><span class="line">                    String fourth = s.substring(thirdEnd + <span class="number">1</span>);</span><br><span class="line">                    <span class="keyword">if</span> (Integer.valueOf(fourth) &gt; <span class="number">255</span> || (fourth.length() &gt; <span class="number">1</span> &amp;&amp; fourth.charAt(<span class="number">0</span>) == <span class="string">'0'</span>)) <span class="keyword">continue</span>;</span><br><span class="line">                    result.add(first + <span class="string">"."</span> + second + <span class="string">"."</span> + third + <span class="string">"."</span> + fourth);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String[] ips = &#123;<span class="string">"255255255255"</span>, <span class="string">"25525511135"</span>&#125;;</span><br><span class="line">        <span class="keyword">for</span> (String ip : ips) &#123;</span><br><span class="line">            ArrayList&lt;String&gt; resultSol1 = restoreIP(ip);</span><br><span class="line">            ArrayList&lt;String&gt; resultSol2 = restoreIPSolutionTwo(ip);</span><br><span class="line">            System.out.println(<span class="string">"result is"</span>);</span><br><span class="line">            <span class="keyword">for</span> (String res : resultSol2) &#123;</span><br><span class="line">                System.out.print(res + <span class="string">"   "</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ArrayList&lt;String&gt; <span class="title">restoreIP</span><span class="params">(String ip)</span> </span>&#123;</span><br><span class="line">        ArrayList&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (ip.length() &gt; <span class="number">12</span> || ip.length() &lt; <span class="number">4</span>) <span class="keyword">return</span> result;</span><br><span class="line">        dfs(result, <span class="keyword">new</span> ArrayList&lt;&gt;(), ip, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(ArrayList&lt;String&gt; result, ArrayList&lt;String&gt; tmp, String ip, <span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (index == <span class="number">4</span> &amp;&amp; ip.length() == <span class="number">0</span>) &#123;</span><br><span class="line">            result.add(String.join(<span class="string">"."</span>, tmp));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">3</span> &amp;&amp; i &lt;= ip.length(); i ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i &gt; <span class="number">1</span> &amp;&amp; ip.charAt(<span class="number">0</span>) == <span class="string">'0'</span>) <span class="keyword">break</span>;</span><br><span class="line">            String curPart = ip.substring(<span class="number">0</span>, i);</span><br><span class="line">            <span class="keyword">if</span> (Integer.valueOf(curPart) &gt; <span class="number">255</span>) <span class="keyword">break</span>;</span><br><span class="line">            tmp.add(ip.substring(<span class="number">0</span>, i));</span><br><span class="line">            dfs(result, tmp, ip.substring(i), index + <span class="number">1</span>);</span><br><span class="line">            tmp.remove(tmp.size() - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ArrayList&lt;String&gt; <span class="title">restoreIPSolutionTwo</span><span class="params">(String ip)</span> </span>&#123;</span><br><span class="line">        ArrayList&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> ipLen = ip.length();</span><br><span class="line">        <span class="keyword">if</span> (ipLen &gt; <span class="number">12</span> || ipLen &lt; <span class="number">4</span>) <span class="keyword">return</span> result;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> firstEndIndex = <span class="number">1</span>; firstEndIndex &lt; <span class="number">4</span> &amp;&amp; firstEndIndex &lt; ipLen - <span class="number">2</span>; firstEndIndex ++) &#123;</span><br><span class="line">            String firstPart = ip.substring(<span class="number">0</span>, firstEndIndex);</span><br><span class="line">            <span class="keyword">if</span> (! isValid(firstPart)) <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> secondEndIndex = firstEndIndex + <span class="number">1</span>; secondEndIndex &lt; firstEndIndex + <span class="number">4</span> &amp;&amp; secondEndIndex &lt; ipLen - <span class="number">1</span>; secondEndIndex ++) &#123;</span><br><span class="line">                String secondPart = ip.substring(firstEndIndex, secondEndIndex);</span><br><span class="line">                <span class="keyword">if</span> (! isValid(secondPart)) <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> thirdEndIndex = secondEndIndex + <span class="number">1</span>; thirdEndIndex &lt; secondEndIndex + <span class="number">4</span> &amp;&amp; thirdEndIndex &lt; ipLen; thirdEndIndex ++) &#123;</span><br><span class="line">                    String thirdPart = ip.substring(secondEndIndex, thirdEndIndex);</span><br><span class="line">                    <span class="keyword">if</span> (! isValid(thirdPart)) <span class="keyword">break</span>;</span><br><span class="line">                    String fourthPart = ip.substring(thirdEndIndex);</span><br><span class="line">                    <span class="keyword">if</span> (isValid(fourthPart)) &#123;</span><br><span class="line">                        result.add(firstPart + <span class="string">"."</span> + secondPart + <span class="string">"."</span> + thirdPart + <span class="string">"."</span> + fourthPart);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isValid</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> ((s.length() &gt; <span class="number">1</span> &amp;&amp; s.charAt(<span class="number">0</span>) == <span class="string">'0'</span>) || Integer.valueOf(s) &gt; <span class="number">255</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="9-XML-Parser"><a href="#9-XML-Parser" class="headerlink" title="9. XML Parser"></a>9. XML Parser</h3><p>最后直接返回root就可以了，而不必返回stack.peek()，事实上这样也会出错。</p>
<p>Code</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       ArrayList&lt;String&gt; input = <span class="keyword">new</span> ArrayList&lt;&gt;(Arrays.asList(<span class="string">"open,story"</span>,</span><br><span class="line">               <span class="string">"open,id"</span>,</span><br><span class="line">               <span class="string">"inner,1234"</span>,</span><br><span class="line">               <span class="string">"close,id"</span>,</span><br><span class="line">               <span class="string">"open,snaps"</span>,</span><br><span class="line">               <span class="string">"open,snap"</span>,</span><br><span class="line">               <span class="string">"close,snap"</span>,</span><br><span class="line">               <span class="string">"open,snap"</span>,</span><br><span class="line">               <span class="string">"close,snap"</span>,</span><br><span class="line">               <span class="string">"open,snap"</span>,</span><br><span class="line">               <span class="string">"close,snap"</span>,</span><br><span class="line">               <span class="string">"open,snap"</span>,</span><br><span class="line">               <span class="string">"close,snap"</span>,</span><br><span class="line">               <span class="string">"close,snaps"</span>,</span><br><span class="line">               <span class="string">"close,story"</span>));</span><br><span class="line">       XMLNode root = parser(input);</span><br><span class="line">       print(root, <span class="number">0</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">(XMLNode root, <span class="keyword">int</span> level)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (root == <span class="keyword">null</span>) <span class="keyword">return</span>;</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; level; i ++) System.out.print(<span class="string">" "</span>);</span><br><span class="line">       <span class="keyword">if</span> (root.children.size() == <span class="number">0</span>) &#123;</span><br><span class="line">           System.out.println(<span class="string">"&lt;"</span> + root.tagName + <span class="string">"&gt;"</span> + root.value + <span class="string">"&lt;/"</span> + root.tagName + <span class="string">"&gt;"</span>);</span><br><span class="line">       &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">           System.out.println(<span class="string">"&lt;"</span> + root.tagName + <span class="string">"&gt;"</span>);</span><br><span class="line">           <span class="keyword">for</span> (XMLNode child : root.children) &#123;</span><br><span class="line">               print(child, level + <span class="number">1</span>);</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; level; i ++) System.out.print(<span class="string">" "</span>);</span><br><span class="line">           System.out.println(<span class="string">"&lt;/"</span> + root.tagName + <span class="string">"&gt;"</span>);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="class"><span class="keyword">class</span> <span class="title">XMLNode</span> </span>&#123;</span><br><span class="line">       String type;</span><br><span class="line">       String tagName;</span><br><span class="line">       String value = <span class="string">""</span>;</span><br><span class="line">       ArrayList&lt;XMLNode&gt; children;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="title">XMLNode</span><span class="params">(String type)</span> </span>&#123;</span><br><span class="line">           <span class="keyword">this</span>.type = type;</span><br><span class="line">           <span class="keyword">this</span>.children = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> XMLNode <span class="title">parser</span><span class="params">(ArrayList&lt;String&gt; input)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (input == <span class="keyword">null</span> || input.size() == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">       Stack&lt;XMLNode&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">       String[] firstNodeValues = input.get(<span class="number">0</span>).split(<span class="string">","</span>);</span><br><span class="line">       XMLNode root = <span class="keyword">new</span> XMLNode(firstNodeValues[<span class="number">0</span>]);</span><br><span class="line">       root.tagName = firstNodeValues[<span class="number">1</span>];</span><br><span class="line">       stack.push(root);</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; input.size(); i ++) &#123;</span><br><span class="line">           String str = input.get(i);</span><br><span class="line">           String[] strs = str.split(<span class="string">","</span>);</span><br><span class="line">           <span class="keyword">if</span> (strs[<span class="number">0</span>].equals(<span class="string">"inner"</span>)) &#123;</span><br><span class="line">               stack.peek().value = strs[<span class="number">1</span>];</span><br><span class="line">           &#125; <span class="keyword">else</span> <span class="keyword">if</span> (strs[<span class="number">0</span>].equals(<span class="string">"open"</span>)) &#123;</span><br><span class="line">               XMLNode node = <span class="keyword">new</span> XMLNode(strs[<span class="number">0</span>]);</span><br><span class="line">               node.tagName = strs[<span class="number">1</span>];</span><br><span class="line">               <span class="keyword">if</span> (! stack.isEmpty()) &#123;</span><br><span class="line">                   stack.peek().children.add(node);</span><br><span class="line">               &#125;</span><br><span class="line">               stack.push(node);</span><br><span class="line">           &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">               stack.pop();</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> root;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h3 id="10-24-Game"><a href="#10-24-Game" class="headerlink" title="10. 24 Game"></a>10. 24 Game</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[][] nums = &#123;&#123;<span class="number">1</span>,<span class="number">4</span>,<span class="number">5</span>, <span class="number">9</span>&#125;, &#123;<span class="number">4</span>,<span class="number">1</span>,<span class="number">5</span>,<span class="number">6</span>&#125;, &#123;<span class="number">2</span>,<span class="number">3</span>,<span class="number">10</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">8</span>&#125;, &#123;<span class="number">4</span>,<span class="number">2</span>,<span class="number">8</span>,<span class="number">9</span>&#125;, &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;&#125;;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] num : nums) &#123;</span><br><span class="line">            <span class="keyword">boolean</span> result = gameSolution(num);</span><br><span class="line">            System.out.println(<span class="string">"result is:  "</span> + result);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">gameSolution</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        Arrays.sort(nums);</span><br><span class="line">        <span class="keyword">return</span> computerValue(nums, <span class="keyword">new</span> ArrayList&lt;&gt;(), <span class="keyword">new</span> <span class="keyword">boolean</span>[nums.length]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">computerValue</span><span class="params">(<span class="keyword">int</span>[] nums, ArrayList&lt;Integer&gt; reorderedNumbers, <span class="keyword">boolean</span>[] visited)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (reorderedNumbers.size() == nums.length) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> value : generatePartValue(reorderedNumbers, <span class="number">0</span>, nums.length - <span class="number">1</span>)) &#123;</span><br><span class="line">                <span class="keyword">if</span> (value == <span class="number">24</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (visited[i] || i &gt; <span class="number">0</span> &amp;&amp; nums[i] == nums[i - <span class="number">1</span>] &amp;&amp; !visited[i - <span class="number">1</span>]) <span class="keyword">continue</span>;</span><br><span class="line">            visited[i] = <span class="keyword">true</span>;</span><br><span class="line">            reorderedNumbers.add(nums[i]);</span><br><span class="line">            <span class="keyword">if</span> (computerValue(nums, reorderedNumbers, visited)) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            reorderedNumbers.remove(reorderedNumbers.size() - <span class="number">1</span>);</span><br><span class="line">            visited[i] = <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> HashSet&lt;Integer&gt; <span class="title">generatePartValue</span><span class="params">(ArrayList&lt;Integer&gt; nums, <span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">        HashSet&lt;Integer&gt; result = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (start == end) &#123;</span><br><span class="line">            result.add(nums.get(start));</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = start; index &lt; end; index ++) &#123;</span><br><span class="line">            HashSet&lt;Integer&gt; lefts = generatePartValue(nums, start, index);</span><br><span class="line">            HashSet&lt;Integer&gt; rights = generatePartValue(nums, index + <span class="number">1</span>, end);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> left : lefts) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> right : rights) &#123;</span><br><span class="line">                    result.add(left + right);</span><br><span class="line">                    result.add(left - right);</span><br><span class="line">                    result.add(left * right);</span><br><span class="line">                    <span class="keyword">if</span> (right != <span class="number">0</span>) result.add(left / right);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></div><div class="tags"><a href="/tags/Algorithm/">Algorithm</a></div><div class="post-nav"><a class="pre" href="/2016/10/28/Algorithm-Exercise-2/">Algorithm Exercise 2</a><a class="next" href="/2016/10/22/Java中将自定义类做为Hash-Key时需要注意的地方/">Java中将自定义类做为Hash Key时需要注意的地方</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://yoursite.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Kategorien</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Algorithm/">Algorithm</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/SpriteKit/" style="font-size: 15px;">SpriteKit</a> <a href="/tags/Algorithm/" style="font-size: 15px;">Algorithm</a> <a href="/tags/Android/" style="font-size: 15px;">Android</a> <a href="/tags/FullStack/" style="font-size: 15px;">FullStack</a> <a href="/tags/Git/" style="font-size: 15px;">Git</a> <a href="/tags/IOS/" style="font-size: 15px;">IOS</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/Scrappy/" style="font-size: 15px;">Scrappy</a> <a href="/tags/Backend/" style="font-size: 15px;">Backend</a> <a href="/tags/MongoDB/" style="font-size: 15px;">MongoDB</a> <a href="/tags/Mobile/" style="font-size: 15px;">Mobile</a> <a href="/tags/Cheet-Sheet/" style="font-size: 15px;">Cheet Sheet</a> <a href="/tags/WatchOS/" style="font-size: 15px;">WatchOS</a> <a href="/tags/Unity/" style="font-size: 15px;">Unity</a> <a href="/tags/Game/" style="font-size: 15px;">Game</a> <a href="/tags/Diary/" style="font-size: 15px;">Diary</a> <a href="/tags/系统/" style="font-size: 15px;">系统</a> <a href="/tags/System/" style="font-size: 15px;">System</a> <a href="/tags/OOD/" style="font-size: 15px;">OOD</a> <a href="/tags/RESTful/" style="font-size: 15px;">RESTful</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Letzte</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/01/01/写在岁末年初（2016）/">写在岁末年初（2016）</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/18/Algorithm-Exercise-7/">Algorithm Exercise 7(Lyft)</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/15/hash相关/">hash相关</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/14/Java死锁例子/">Java死锁例子</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/14/Java中abstract和interface区别/">Java中abstract和interface区别</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/11/Algorithm-Exercise-6/">Algorithm Exercise 6</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/01/Algorithm-Exercise-5/">Algorithm Exercise 5</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/30/Algorithm-Exercise-4/">Algorithm Exercise 4</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/29/Algorithm-Exercise-3/">Algorithm Exercise 3</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/28/Algorithm-Exercise-2/">Algorithm Exercise 2</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Blogroll</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2017 <a href="/." rel="nofollow">邢鹏飞的博客.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>