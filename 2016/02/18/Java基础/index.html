<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>JavaåŸºç¡€ | ç¾æ¼‚çš„é‡æŒ‡é’ˆ</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/7.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">JavaåŸºç¡€</h1><a id="logo" href="/.">ç¾æ¼‚çš„é‡æŒ‡é’ˆ</a><p class="description">Make a difference</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> ä¸»é¡µ</i></a><a href="/archives/"><i class="fa fa-archive"> å½’æ¡£</i></a><a href="/about/"><i class="fa fa-user"> å…³äº</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">JavaåŸºç¡€</h1><div class="post-meta">Feb 18, 2016<span> | </span><span class="category"><a href="/categories/Java/">ç¼–ç¨‹åŸºç¡€</a></span></div><div class="post-content"><h3 id="ArrayListæ’åº"><a href="#ArrayListæ’åº" class="headerlink" title="ArrayListæ’åº"></a>ArrayListæ’åº</h3><p>åœ¨Javaä¸­ï¼Œå¦‚æœéœ€è¦å°†ä¸€ä¸ªarrayListæ’åºï¼Œæˆ‘ä»¬éœ€è¦åˆ©ç”¨Collectionsç±»ã€‚é¦–å…ˆå…ˆæ¸¸ç¦»ä¸€ä¸‹ä¸»é¢˜ï¼Œå…ˆç®€è¦ä»‹ç»ä¸€ä¸‹Collectionsï¼ŒCollectionsä¸åŒäºCollectionï¼Œåè€…ï¼ˆjava.util.Collectionï¼‰æ˜¯ä¸€ä¸ªé›†åˆæ¥å£ï¼Œå®ƒæä¾›çš„æ˜¯å¯¹é›†åˆå¯¹è±¡è¿›è¡ŒåŸºæœ¬æ“ä½œçš„é€šç”¨æ¥å£æ–¹æ³•ï¼Œè€Œå‰è€…ï¼ˆjava.util.Collectionsï¼‰æ˜¯ä¸€ä¸ªåŒ…è£…ç±»ï¼Œå®ƒåŒ…å«æœ‰å„ç§æœ‰å…³é›†åˆæ“ä½œçš„é™æ€å¤šæ€æ–¹æ³•ï¼Œæ­¤ç±»ä¸èƒ½è¢«å®ä¾‹åŒ–ï¼Œå°±åƒä¸€ä¸ªå·¥å…·ç±»ï¼ŒæœåŠ¡äºJavaçš„Collectionæ¡†æ¶ã€‚</p>
<p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬è®¨è®ºArrayListæ’åºï¼Œç”¨åˆ°çš„å°±æ˜¯Collectionsçš„sortæ–¹æ³•ï¼Œä¸‹é¢çš„ä¾‹å­ç®€å•å®ç°äº†å¯¹ArrayList&lt;Integer&gt; å’ŒArrayList&lt;String&gt;çš„å‡åºæ’åºå’Œé™åºæ’åºã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TEST</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ArrayList&amp;lt;Integer&amp;gt; intList = <span class="keyword">new</span> ArrayList&amp;lt;Integer&amp;gt;();</span><br><span class="line">        intList.add(<span class="number">2</span>);</span><br><span class="line">        intList.add(<span class="number">1</span>);</span><br><span class="line">        intList.add(<span class="number">3</span>);</span><br><span class="line">        System.out.println(<span class="string">"Before Soring"</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i : intList) &#123;</span><br><span class="line">            System.out.println(i);</span><br><span class="line">        &#125;</span><br><span class="line">        Collections.sort(intList);</span><br><span class="line">        System.out.println(<span class="string">"After Sorting"</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i : intList) &#123;</span><br><span class="line">            System.out.println(i);</span><br><span class="line">        &#125;</span><br><span class="line">        Collections.sort(intList, Collections.reverseOrder());</span><br><span class="line">        System.out.println(<span class="string">"Reverse Sorting"</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i : intList) &#123;</span><br><span class="line">            System.out.println(i);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        ArrayList&amp;lt;String&amp;gt; stringList = <span class="keyword">new</span> ArrayList&amp;lt;String&amp;gt;();</span><br><span class="line">        stringList.add(<span class="string">"ABC"</span>);</span><br><span class="line">        stringList.add(<span class="string">"ABE"</span>);</span><br><span class="line">        stringList.add(<span class="string">"AAB"</span>);</span><br><span class="line">        System.out.println(<span class="string">"Before Soring"</span>);</span><br><span class="line">        <span class="keyword">for</span> (String s : stringList) &#123;</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line">        Collections.sort(stringList);</span><br><span class="line">        System.out.println(<span class="string">"After Sorting"</span>);</span><br><span class="line">        <span class="keyword">for</span> (String s : stringList) &#123;</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line">        Collections.sort(stringList, Collections.reverseOrder());</span><br><span class="line">        System.out.println(<span class="string">"Reverse Sorting"</span>);</span><br><span class="line">        <span class="keyword">for</span> (String s : stringList) &#123;</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ArrayListæ’åºè¿›é˜¶"><a href="#ArrayListæ’åºè¿›é˜¶" class="headerlink" title="ArrayListæ’åºè¿›é˜¶"></a>ArrayListæ’åºè¿›é˜¶</h3><p>ä¸‹é¢æˆ‘ä»¬ä¸»è¦è®¨è®ºå¦‚ä½•å¯¹å¯¹è±¡çš„æŸä¸ªå±æ€§è¿›è¡Œæ’åºï¼Œæˆ‘ä»¬ä¸èƒ½ç›´æ¥å°†å¯¹è±¡å®ä¾‹åå­—ä½œä¸ºä¼ å…¥sortå‡½æ•°ï¼Œè¿™æ ·ç¨‹åºä¼šç”±äºsortå‡½æ•°æ²¡æœ‰æ’åºæ¯”è¾ƒçš„ä¾æ®è€ŒæŠ¥é”™ã€‚æˆ‘ä»¬å¯ä»¥æœ‰ä¸¤ç§é€‰æ‹©ï¼Œå¦‚æœåªéœ€è¦æ ¹æ®å•ä¸€å®ä¾‹å˜é‡è¿›è¡Œæ’åºï¼Œæˆ‘ä»¬åªéœ€è¦è®©éœ€è¦æ¯”è¾ƒçš„ç±»ç»§æ‰¿Comparableï¼Œç„¶ååœ¨è¯¥ç±»ä¸­é‡å†™Comparableçš„comparaToæ–¹æ³•ï¼Œä¾‹å­å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">implements</span> <span class="title">Comparable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String name, <span class="keyword">int</span> age)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Student comparestu)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> compareAge = ((Student)comparestu).getAge();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.age - compareAge;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TEST</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ArrayList&amp;lt;Student&amp;gt; studentList = <span class="keyword">new</span> ArrayList&amp;lt;Student&amp;gt;();</span><br><span class="line">        studentList.add(<span class="keyword">new</span> Student(<span class="string">"Tom"</span>, <span class="number">12</span>));</span><br><span class="line">        studentList.add(<span class="keyword">new</span> Student((<span class="string">"Jim"</span>, <span class="number">10</span>));</span><br><span class="line">        studentList.add(<span class="keyword">new</span> Student(<span class="string">"Sam"</span>, <span class="number">14</span>));</span><br><span class="line"></span><br><span class="line">        Collections.sort(studentList);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(Student stu : studentList)&#123;</span><br><span class="line">            System.out.println(stu);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæˆ‘ä»¬æ’åºçš„ä¾æ®æ˜¯ç±»çš„å¤šä¸ªå±æ€§ï¼Œåˆ™éœ€è¦é‡å†™Comparatorä¸­çš„compareæ–¹æ³•ã€‚ä¾‹å­å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String name, <span class="keyword">int</span> age)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">String <span class="title">getName</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*Comparator for sorting the list by Student Name*/</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Comparator&amp;lt;Student&amp;gt; StuNameComparator = <span class="keyword">new</span> Comparator&amp;lt;Student&amp;gt;() &#123;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Student s1, Student s2)</span> </span>&#123;</span><br><span class="line">            String StudentName1 = s1.getName().toUpperCase();</span><br><span class="line">            String StudentName2 = s2.getName().toUpperCase();</span><br><span class="line"></span><br><span class="line">            <span class="comment">//ascending order</span></span><br><span class="line">            <span class="keyword">return</span> StudentName1.compareTo(StudentName2);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//descending order</span></span><br><span class="line">            <span class="comment">//return StudentName2.compareTo(StudentName1);</span></span><br><span class="line">        &#125;&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*Comparator for sorting the list by age*/</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Comparator&amp;lt;Student&amp;gt; StuAgeComparator = <span class="keyword">new</span> Comparator&amp;lt;Student&amp;gt;() &#123;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Student s1, Student s2)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">int</span> age1 = s1.getAge();</span><br><span class="line">            <span class="keyword">int</span> age2 = s2.getAge();</span><br><span class="line"></span><br><span class="line">	        <span class="comment">/*For ascending order*/</span></span><br><span class="line">            <span class="keyword">return</span> age1-age2;</span><br><span class="line"></span><br><span class="line">	        <span class="comment">/*For descending order*/</span></span><br><span class="line">            <span class="comment">//rollno2-rollno1;</span></span><br><span class="line">        &#125;&#125;;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TEST</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ArrayList&amp;lt;Student&amp;gt; studentList = <span class="keyword">new</span> ArrayList&amp;lt;Student&amp;gt;();</span><br><span class="line">        studentList.add(<span class="keyword">new</span> Student(<span class="string">"Tom"</span>, <span class="number">12</span>));</span><br><span class="line">        studentList.add(<span class="keyword">new</span> Student((<span class="string">"Jim"</span>, <span class="number">10</span>));</span><br><span class="line">        studentList.add(<span class="keyword">new</span> Student(<span class="string">"Sam"</span>, <span class="number">14</span>));</span><br><span class="line"></span><br><span class="line">        Collections.sort(studentList, Student.StuNameComparator);</span><br><span class="line">        <span class="keyword">for</span>(Student stu : studentList)&#123;</span><br><span class="line">            System.out.println(stu);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">         Collections.sort(studentList, Student.StuAgeComparator);</span><br><span class="line">        <span class="keyword">for</span>(Student stu : studentList)&#123;</span><br><span class="line">            System.out.println(stu);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="é‡å†™æ¯”è¾ƒå™¨"><a href="#é‡å†™æ¯”è¾ƒå™¨" class="headerlink" title="é‡å†™æ¯”è¾ƒå™¨"></a>é‡å†™æ¯”è¾ƒå™¨</h3><h4 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h4><p>Javaä¸­ç»å¸¸ä¼šé‡åˆ°é‡å†™æ¯”è¾ƒå™¨çš„æƒ…å†µï¼Œæ¯”å¦‚ç»™æŸä¸ªè‡ªå®šä¹‰ç±»æ ¹æ®ä¸€ä¸ªå±æ€§çš„å€¼è¿›è¡Œæ’åºï¼Œä»Šå¤©çœ‹åˆ°ä¸€ä¸ªéå¸¸ç»å…¸çš„æ•°æ®ç»“æ„è®¾è®¡çš„é—®é¢˜ï¼Œä¸ä»…é—®é¢˜è®¾è®¡å¾ˆå¥½ï¼Œä¸­é—´å±…ç„¶è¿˜ä¼šé‡å†™ä¸¤ç§æ¯”è¾ƒå™¨ï¼ˆå› ä¸ºä¹‹å‰æ¥è§¦çš„éƒ½æ˜¯å•ç‹¬å‡ºç°çš„ï¼‰ï¼Œä¸ç¦æ‹æ¡ˆå«ç»ï¼</p>
<p>é—®é¢˜æ˜¯è¦æ±‚è®¾è®¡ä¸€ä¸ªç®€åŒ–ç‰ˆTwitterçš„æ•°æ®ç»“æ„ï¼Œèƒ½å¤Ÿæ”¯æŒpost, follow, unfollowå‡ ç§æ“ä½œï¼Œå…·ä½“è¦æ±‚å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. postTweet(userId, tweetId): Compose a new tweet.</span><br><span class="line">2. getNewsFeed(userId): Retrieve the 10 most recent tweet ids in the user&apos;s news feed. Each item in the news feed must be posted by users who the user followed or by the user herself. Tweets must be ordered from most recent to least recent.</span><br><span class="line">3. follow(followerId, followeeId): Follower follows a followee.</span><br><span class="line">4. unfollow(followerId, followeeId): Follower unfollows a followee.</span><br></pre></td></tr></table></figure>
<h4 id="åˆ†ææ€è·¯"><a href="#åˆ†ææ€è·¯" class="headerlink" title="åˆ†ææ€è·¯"></a>åˆ†ææ€è·¯</h4><p>é¦–å…ˆï¼Œéœ€è¦ä¸ºè¯¥ç³»ç»Ÿå¼•å…¥ä¸¤ä¸ªHashMapã€‚ç¬¬ä¸€ä¸ªMapæ˜¯<code>&lt;User, List&lt;User&gt;&gt;</code>ï¼Œä¸»è¦ç”¨æ¥è®°å½•æŸä¸ªç”¨æˆ·å…³æ³¨çš„ç”¨æˆ·åˆ—è¡¨ï¼›ç¬¬äºŒä¸ªMapæ˜¯<code>&lt;User, List&lt;Twitter&gt;&gt;</code>ï¼Œä¸»è¦ç”¨æ¥è®°å½•æŸä¸ªç”¨æˆ·å‘é€çš„æ‰€æœ‰å¾®åšã€‚</p>
<p>åŠŸèƒ½1åªéœ€è¦ä¿®æ”¹ç¬¬äºŒä¸ªMapï¼Œæ¯”è¾ƒeasy;<br>åŠŸèƒ½3ï¼Œ4åªéœ€è¦ä¿®æ”¹ç¬¬ä¸€ä¸ªMapï¼›<br>åŠŸèƒ½ä¸‰éœ€è¦é€šè¿‡å»ºç«‹å°é¡¶å †æ¥å®ç°ï¼Œè¾ƒå‰å‡ ä¸ªåŠŸèƒ½ç¨æ˜¾å¤æ‚ã€‚</p>
<p>æ­£å¦‚å¼€å¤´æ‰€è¯´ï¼Œä»£ç ä¸­æ¯”è¾ƒæœ‰æ„æ€çš„æ˜¯ä¸¤ç§æ¯”è¾ƒå™¨çš„é‡å†™ã€‚ç¬¬ä¸€ç§æ˜¯ç»™è‡ªå®šä¹‰ç±»å†™æ¯”è¾ƒå™¨ï¼Œæ¯”å¦‚åœ¨åç»­ä»£ç ä¸­éœ€è¦ç”¨åˆ°è¯¥ç±»çš„æ¯”è¾ƒã€æ’åºç­‰ç­‰ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">A</span>&gt; </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> val;</span><br><span class="line">	&lt;!--<span class="keyword">do</span> something here--&gt;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(A other)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">this</span>.val - other.val; &lt;!--Increasing Order--&gt;</span><br><span class="line">		<span class="keyword">return</span> other.val - <span class="keyword">this</span>.val; &lt;!--Decreasing Order--&gt;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ç¬¬äºŒç§æ˜¯åœ¨å®¹å™¨çš„sortæ–¹æ³•ä¸­é‡å†™ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">A[] arr = <span class="keyword">new</span> A[<span class="number">10</span>];</span><br><span class="line">Collections.sort(A, <span class="keyword">new</span> Comparator&lt;A&gt;()&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(A a, A b)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> a.val - b.val; &lt;!--Increasing Order--&gt;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<h4 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Twitter</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">TContent</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">TContent</span>&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">int</span> id;</span><br><span class="line">        <span class="keyword">int</span> tweetId;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">TContent</span><span class="params">(<span class="keyword">int</span> id, <span class="keyword">int</span> tweetId)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.id = id;</span><br><span class="line">            <span class="keyword">this</span>.tweetId = tweetId;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(TContent other)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.id - other.id;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> id;</span><br><span class="line">    Map&lt;Integer, Set&lt;Integer&gt;&gt; follow;</span><br><span class="line">    Map&lt;Integer, List&lt;TContent&gt;&gt; tweet;</span><br><span class="line">    <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Twitter</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        follow = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        tweet = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        id = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/** Compose a new tweet. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">postTweet</span><span class="params">(<span class="keyword">int</span> userId, <span class="keyword">int</span> tweetId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (! tweet.containsKey(userId)) tweet.put(userId, <span class="keyword">new</span> ArrayList&lt;TContent&gt;());</span><br><span class="line">        List&lt;TContent&gt; tweets = tweet.get(userId);</span><br><span class="line">        tweets.add(<span class="keyword">new</span> TContent(id ++, tweetId));</span><br><span class="line">        tweet.put(userId, tweets);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/** Retrieve the 10 most recent tweet ids in the user's news feed. Each item in the news feed must be posted by users who the user followed or by the user herself. Tweets must be ordered from most recent to least recent. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">getNewsFeed</span><span class="params">(<span class="keyword">int</span> userId)</span> </span>&#123;</span><br><span class="line">        Set&lt;Integer&gt; users = follow.containsKey(userId) ? follow.get(userId) : <span class="keyword">new</span> HashSet&lt;Integer&gt;();</span><br><span class="line">        users.add(userId);</span><br><span class="line">        PriorityQueue&lt;TContent&gt; queue = <span class="keyword">new</span> PriorityQueue&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (Map.Entry&lt;Integer, List&lt;TContent&gt;&gt; e : tweet.entrySet()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (users.contains(e.getKey())) &#123;</span><br><span class="line">                List&lt;TContent&gt; ts = e.getValue();</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; ts.size(); i ++) &#123;</span><br><span class="line">                    queue.add(ts.get(i));</span><br><span class="line">                    <span class="keyword">if</span> (queue.size() &gt; <span class="number">10</span>) queue.poll();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        List&lt;TContent&gt; tmp = <span class="keyword">new</span> ArrayList&lt;TContent&gt;();</span><br><span class="line">        <span class="keyword">while</span> (! queue.isEmpty()) &#123;</span><br><span class="line">            tmp.add(queue.poll());</span><br><span class="line">        &#125;</span><br><span class="line">        Collections.sort(tmp, <span class="keyword">new</span> Comparator&lt;TContent&gt;() &#123;</span><br><span class="line">           <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(TContent a, TContent b)</span> </span>&#123;</span><br><span class="line">               <span class="keyword">return</span> b.id - a.id;</span><br><span class="line">           &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; tmp.size(); i ++) &#123;</span><br><span class="line">            result.add(tmp.get(i).tweetId);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/** Follower follows a followee. If the operation is invalid, it should be a no-op. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">follow</span><span class="params">(<span class="keyword">int</span> followerId, <span class="keyword">int</span> followeeId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (! follow.containsKey(followerId)) follow.put(followerId, <span class="keyword">new</span> HashSet&lt;Integer&gt;());</span><br><span class="line">        Set&lt;Integer&gt; followees = follow.get(followerId);</span><br><span class="line">        followees.add(followeeId);</span><br><span class="line">        follow.put(followerId, followees);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/** Follower unfollows a followee. If the operation is invalid, it should be a no-op. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">unfollow</span><span class="params">(<span class="keyword">int</span> followerId, <span class="keyword">int</span> followeeId)</span> </span>&#123;</span><br><span class="line">        Set&lt;Integer&gt; followees = follow.get(followerId);</span><br><span class="line">        <span class="keyword">if</span> (followees == <span class="keyword">null</span> || !followees.contains(followeeId)) <span class="keyword">return</span>;</span><br><span class="line">        followees.remove(followeeId);</span><br><span class="line">        follow.put(followerId, followees);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="è‡ªå®šä¹‰ç±»ä¸­å®šä¹‰hashcodeæ–¹æ³•"><a href="#è‡ªå®šä¹‰ç±»ä¸­å®šä¹‰hashcodeæ–¹æ³•" class="headerlink" title="è‡ªå®šä¹‰ç±»ä¸­å®šä¹‰hashcodeæ–¹æ³•"></a>è‡ªå®šä¹‰ç±»ä¸­å®šä¹‰hashcodeæ–¹æ³•</h3><p>Javaåœ¨å¤„ç†è‡ªå®šä¹‰ç±»åšä¸ºHash Keyæ—¶ï¼ˆæˆ–è€…æ‹“å®½åˆ°ä»»æ„çš„å¯¹è±¡ï¼‰ï¼Œæ¯”è¾ƒå¾€å¾€æ˜¯æ ¹æ®referenceæ¯”è¾ƒçš„ï¼Œè€Œä¸æ˜¯æ ¹æ®valueï¼Œå¦‚æœæœ‰éœ€è¦æ ¹æ®valueè¿›è¡Œæ¯”è¾ƒçš„éœ€æ±‚çš„è¯ï¼Œåˆ™éœ€è¦åœ¨ç±»ä¸­é‡å†™ <code>equals</code> å’Œ <code>hashCode</code> ä¸¤ä¸ªæ–¹æ³•ï¼Œå…·ä½“ä»¥é‡å†™äºŒç»´çŸ©é˜µä¸­æ¯ä¸ªæ¨ªçºµåæ ‡å¯¹æ¥ä¸¾ä¸ªğŸŒ°ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cell</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> x, y;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Cell</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.x = x;</span><br><span class="line">            <span class="keyword">this</span>.y = y;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> o <span class="keyword">instanceof</span> Cell &amp;&amp; ((Cell)o).x == <span class="keyword">this</span>.x &amp;&amp; ((Cell)o).y == <span class="keyword">this</span>.y;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">int</span> hashCode = <span class="number">1</span>;</span><br><span class="line">            hashCode = hashCode * <span class="number">31</span> + <span class="keyword">this</span>.x;</span><br><span class="line">            hashCode = hashCode * <span class="number">31</span> + <span class="keyword">this</span>.y;</span><br><span class="line">            <span class="keyword">return</span> hashCode;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ­»é”ä¾‹å­"><a href="#æ­»é”ä¾‹å­" class="headerlink" title="æ­»é”ä¾‹å­"></a>æ­»é”ä¾‹å­</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DeadLock</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Resource</span> </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">int</span> val;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getVal</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.val;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setVal</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.val = val;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">ResourceManager</span> </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> Resource resOne, resTwo;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">ResourceManager</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.resOne = <span class="keyword">new</span> Resource();</span><br><span class="line">            <span class="keyword">this</span>.resTwo = <span class="keyword">new</span> Resource();</span><br><span class="line">            resOne.setVal(<span class="number">0</span>);</span><br><span class="line">            resTwo.setVal(<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">read</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (<span class="keyword">this</span>.resOne) &#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">" read operation has get the lock for resource One"</span>);</span><br><span class="line">                <span class="keyword">synchronized</span> (<span class="keyword">this</span>.resTwo) &#123;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName() + <span class="string">" read operation has get the lock for resource Two"</span>);</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">this</span>.resOne.getVal() + <span class="keyword">this</span>.resTwo.getVal();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">write</span><span class="params">(<span class="keyword">int</span> one, <span class="keyword">int</span> two)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (<span class="keyword">this</span>.resTwo) &#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">" write operation has get the lock for resource Two"</span>);</span><br><span class="line">                <span class="keyword">synchronized</span> (<span class="keyword">this</span>.resOne) &#123;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName() + <span class="string">" write opetion has get the lock for resource One"</span>);</span><br><span class="line">                    <span class="keyword">this</span>.resOne.setVal(one);</span><br><span class="line">                    <span class="keyword">this</span>.resTwo.setVal(two);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">CustomeThread</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> ResourceManager manager;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">int</span> valOne, valTwo;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">CustomeThread</span><span class="params">(ResourceManager manager, <span class="keyword">int</span> one, <span class="keyword">int</span> two)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.manager = manager;</span><br><span class="line">            <span class="keyword">this</span>.valOne = one;</span><br><span class="line">            <span class="keyword">this</span>.valTwo = two;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">                manager.read();</span><br><span class="line">                manager.write(valOne, valTwo);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        ResourceManager manager = <span class="keyword">new</span> ResourceManager();</span><br><span class="line">        CustomeThread threadA = <span class="keyword">new</span> CustomeThread(manager, <span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line">        CustomeThread threadB = <span class="keyword">new</span> CustomeThread(manager, <span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line">        threadA.start();</span><br><span class="line">        threadB.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="InnerClassä¾‹å­"><a href="#InnerClassä¾‹å­" class="headerlink" title="InnerClassä¾‹å­"></a>InnerClassä¾‹å­</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DirectedGraph</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Vertex</span></span>&#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">int</span> value;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Vertex</span><span class="params">(<span class="keyword">int</span> val)</span></span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.value = val;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getValue</span><span class="params">()</span></span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">this</span>.value;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        DirectedGraph test = <span class="keyword">new</span> DirectedGraph();</span><br><span class="line">        test.addVertex(<span class="keyword">new</span> Vertex(<span class="number">0</span>));</span><br><span class="line">        test.addVertex(<span class="keyword">new</span> Vertex(<span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸ºä½•Vertexè¦å®šä¹‰æˆé™æ€ç±»ï¼Ÿ</p>
<p>ç­”ï¼šè¿™é‡Œå¯ä»¥ç†è§£ä¸ºç±»æ–¹æ³•ï¼Œå‡è®¾ç±»Aå«æœ‰å†…éƒ¨ç±»Bï¼Œåˆ™å°†Bå£°æ˜ä¸ºé™æ€ç±»ï¼Œå³å¯å°†Bçœ‹æˆAçš„ç±»æ–¹æ³•ï¼Œç”Ÿæˆç±»Båªéœ€è¦ç”¨ç±»Aåå°±å¯ä»¥äº†ï¼Œè€Œä¸éœ€è¦ç”Ÿæˆä¸€ä¸ªç±»Aï¼Œå³A.B b = new A.B();ç›¸åï¼Œå¦‚æœBä¸æ˜¯é™æ€ç±»ï¼Œç”Ÿæˆç±»Båˆ™éœ€è¦å…ˆç”Ÿæˆç±»Aï¼Œå³A.B b = new A().new B()ã€‚å¦‚æœè¯¥å†…éƒ¨ç±»å®šä¹‰ä¸ºç§æœ‰ï¼Œåˆ™åªèƒ½åœ¨å¤–éƒ¨ç±»å†…è®¿é—®ã€‚</p>
</div><div class="tags"><a href="/tags/Java/">Java</a></div><div class="post-nav"><a class="pre" href="/2016/03/09/IOSæ²™ç›’ç®€ä»‹/">iOSæ²™ç›’ç®€ä»‹</a><a class="next" href="/2016/02/13/ç®—æ³•è¿›é˜¶/">ç®—æ³•è¿›é˜¶</a></div><div id="lv-container" data-id="city" data-uid="MTAyMC8zMzY0MS8xMDE5Ng=="><script>(function(d, s) {
   var j, e = d.getElementsByTagName(s)[0];
   if (typeof LivereTower === 'function') { return; }
   j = d.createElement(s);
   j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
   j.async = true;
   e.parentNode.insertBefore(j, e);
})(document, 'script');
</script></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://pengfeixing.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> åˆ†ç±»</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Algorithm/">ç®—æ³•</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">ç¼–ç¨‹åŸºç¡€</a><span class="category-list-count">1</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> æ ‡ç­¾</i></div><div class="tagcloud"><a href="/tags/iOS/" style="font-size: 15px;">iOS</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/Algorithm/" style="font-size: 15px;">Algorithm</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> æœ€è¿‘æ–‡ç« </i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/10/27/ç®—æ³•åŸºç¡€/">ç®—æ³•åŸºç¡€</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/05/07/IOSå¼€å‘ä¸­çš„å››å¤§å¯¹è±¡åŠç¨‹åºå¯åŠ¨è¿‡ç¨‹æ··è®²/">iOSå¼€å‘ä¸­çš„å››å¤§å¯¹è±¡åŠç¨‹åºå¯åŠ¨è¿‡ç¨‹æ··è®²</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/09/IOSæ²™ç›’ç®€ä»‹/">iOSæ²™ç›’ç®€ä»‹</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/02/18/JavaåŸºç¡€/">JavaåŸºç¡€</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/02/13/ç®—æ³•è¿›é˜¶/">ç®—æ³•è¿›é˜¶</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/01/08/æ–°æµªå¾®åšApple Watchå®¢æˆ·ç«¯/">æ–°æµªå¾®åšApple Watchå®¢æˆ·ç«¯</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/11/23/Uscheduleé¡¹ç›®æ—¥å¿—/">Uschedule é¡¹ç›®æ—¥å¿—</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright Â© 2018 <a href="/." rel="nofollow">ç¾æ¼‚çš„é‡æŒ‡é’ˆ.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.2.5/jquery.fancybox.min.css"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = '//hm.baidu.com/hm.js?' + theme.baidu_analytics;
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>