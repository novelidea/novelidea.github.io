<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>邢鹏飞的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="邢鹏飞的博客">
<meta property="og:url" content="http://yoursite.com/page/5/index.html">
<meta property="og:site_name" content="邢鹏飞的博客">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="邢鹏飞的博客">
<meta name="twitter:description">
  
    <link rel="alternative" href="/atom.xml" title="邢鹏飞的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="http://o6szdc7js.bkt.clouddn.com/blog_profile_new.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Pengfei Xing</a></h1>
		</hgroup>

		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>Menu</li>
						<li>Tags</li>
						
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">文章</a></li>
				        
							<li><a href="/tags/Mobile">移动开发</a></li>
				        
							<li><a href="/tags/FullStack">全栈</a></li>
				        
							<li><a href="/tags/System">系统</a></li>
				        
							<li><a href="/tags/algorithm">算法</a></li>
				        
							<li><a href="/tags/Diary">随笔</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/novelidea" title="github">github</a>
					        
								<a class="linkedin" target="_blank" href="https://www.linkedin.com/in/pengfei-xing-65886578" title="linkedin">linkedin</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Algorithm/" style="font-size: 20px;">Algorithm</a> <a href="/tags/Android/" style="font-size: 11.67px;">Android</a> <a href="/tags/Backend/" style="font-size: 13.33px;">Backend</a> <a href="/tags/Cheet-Sheet/" style="font-size: 10px;">Cheet Sheet</a> <a href="/tags/Diary/" style="font-size: 11.67px;">Diary</a> <a href="/tags/FullStack/" style="font-size: 15px;">FullStack</a> <a href="/tags/Game/" style="font-size: 10px;">Game</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/IOS/" style="font-size: 16.67px;">IOS</a> <a href="/tags/Java/" style="font-size: 11.67px;">Java</a> <a href="/tags/Mobile/" style="font-size: 18.33px;">Mobile</a> <a href="/tags/MongoDB/" style="font-size: 10px;">MongoDB</a> <a href="/tags/OOD/" style="font-size: 10px;">OOD</a> <a href="/tags/RESTful/" style="font-size: 10px;">RESTful</a> <a href="/tags/Scrappy/" style="font-size: 10px;">Scrappy</a> <a href="/tags/SpriteKit/" style="font-size: 11.67px;">SpriteKit</a> <a href="/tags/System/" style="font-size: 10px;">System</a> <a href="/tags/Unity/" style="font-size: 10px;">Unity</a> <a href="/tags/WatchOS/" style="font-size: 10px;">WatchOS</a> <a href="/tags/系统/" style="font-size: 10px;">系统</a>
					</div>
				</section>
				
				
				

				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Pengfei Xing</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
			
				<img lazy-src="http://o6szdc7js.bkt.clouddn.com/blog_profile_new.jpg" class="js-avatar">
			
			</div>
			<hgroup>
			  <h1 class="header-author">Pengfei Xing</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">文章</a></li>
		        
					<li><a href="/tags/Mobile">移动开发</a></li>
		        
					<li><a href="/tags/FullStack">全栈</a></li>
		        
					<li><a href="/tags/System">系统</a></li>
		        
					<li><a href="/tags/algorithm">算法</a></li>
		        
					<li><a href="/tags/Diary">随笔</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/novelidea" title="github">github</a>
			        
						<a class="linkedin" target="_blank" href="https://www.linkedin.com/in/pengfei-xing-65886578" title="linkedin">linkedin</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
  
    <article id="post-Algorithm-Exercise-6" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/11/Algorithm-Exercise-6/" class="article-date">
  	<time datetime="2015-11-12T01:44:14.000Z" itemprop="datePublished">2015-11-11</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/11/Algorithm-Exercise-6/">Algorithm Exercise 6</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Index"><a href="#Index" class="headerlink" title="Index"></a>Index</h2><h3 id="51-Find-Subset-has-min-difference"><a href="#51-Find-Subset-has-min-difference" class="headerlink" title="51. Find Subset has min difference"></a>51. Find Subset has min difference</h3><h3 id="52-Reconstruct-Itinerary"><a href="#52-Reconstruct-Itinerary" class="headerlink" title="52. Reconstruct Itinerary"></a>52. Reconstruct Itinerary</h3><h2 id="51-Find-Subset-has-min-difference-1"><a href="#51-Find-Subset-has-min-difference-1" class="headerlink" title="51. Find Subset has min difference"></a>51. Find Subset has min difference</h2><p><a href="http://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=210172&amp;extra=page%3D1%26filter%3Dsortid%26sortid%3D311%26searchoption%5B3046%5D%5Bvalue%5D%3D1%26searchoption%5B3046%5D%5Btype%5D%3Dradio%26sortid%3D311" target="_blank" rel="external">http://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=210172&amp;extra=page%3D1%26filter%3Dsortid%26sortid%3D311%26searchoption%5B3046%5D%5Bvalue%5D%3D1%26searchoption%5B3046%5D%5Btype%5D%3Dradio%26sortid%3D311</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> ArrayList&lt;Integer&gt; <span class="title">solution</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> size)</span> </span>&#123;</span><br><span class="line">        ArrayList&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || size &gt; nums.length) <span class="keyword">return</span> result;</span><br><span class="line">        Arrays.sort(nums);</span><br><span class="line">        <span class="keyword">int</span> min = Integer.MAX_VALUE, minStartIndex = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = size - <span class="number">1</span>; index &lt; nums.length; index ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[index] - nums[index - size + <span class="number">1</span>] &lt; min) &#123;</span><br><span class="line">                minStartIndex = index - size + <span class="number">1</span>;</span><br><span class="line">                min = nums[index] - nums[index - size + <span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt; size; index ++) &#123;</span><br><span class="line">            result.add(nums[index + minStartIndex]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="52-Reconstruct-Itinerary-1"><a href="#52-Reconstruct-Itinerary-1" class="headerlink" title="52. Reconstruct Itinerary"></a>52. Reconstruct Itinerary</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReconstructItinery</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String[][] tickets = &#123;&#123;<span class="string">"JFK"</span>,<span class="string">"SFO"</span>&#125;,&#123;<span class="string">"JFK"</span>,<span class="string">"ATL"</span>&#125;,&#123;<span class="string">"SFO"</span>,<span class="string">"ATL"</span>&#125;,&#123;<span class="string">"ATL"</span>,<span class="string">"JFK"</span>&#125;,&#123;<span class="string">"ATL"</span>,<span class="string">"SFO"</span>&#125;&#125;;</span><br><span class="line">        List&lt;String&gt; result = findItinerary(tickets);</span><br><span class="line">        <span class="keyword">for</span> (String pos : result) &#123;</span><br><span class="line">            System.out.println(pos);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// treat ticket as an edge of graph [start, end];</span></span><br><span class="line">    <span class="comment">// calculate degree of each node</span></span><br><span class="line">    <span class="comment">// dfs start from JFK, start end to start, if there's no next station, insert position to the head of result. recursive</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">findItinerary</span><span class="params">(String[][] tickets)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"><span class="comment">//        HashMap&lt;String, List&lt;String&gt;&gt; graph = new HashMap&lt;&gt;();</span></span><br><span class="line">        HashMap&lt;String, PriorityQueue&lt;String&gt;&gt; graph = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (String[] ticket : tickets) &#123;</span><br><span class="line">            <span class="keyword">if</span>(! graph.containsKey(ticket[<span class="number">0</span>])) graph.put(ticket[<span class="number">0</span>], <span class="keyword">new</span> PriorityQueue&lt;String&gt;());</span><br><span class="line">            graph.get(ticket[<span class="number">0</span>]).offer(ticket[<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        dfs(result, graph, <span class="string">"JFK"</span>);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    tickets = [["MUC", "LHR"], ["JFK", "MUC"], ["SFO", "SJC"], ["LHR", "SFO"]]</span></span><br><span class="line"><span class="comment">//    Return ["JFK", "MUC", "LHR", "SFO", "SJC"].</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(List&lt;String&gt; result, HashMap&lt;String, PriorityQueue&lt;String&gt;&gt; graph, String curPos)</span> </span>&#123;</span><br><span class="line">        PriorityQueue&lt;String&gt; nextPosList = graph.get(curPos);</span><br><span class="line">        <span class="keyword">while</span> (nextPosList != <span class="keyword">null</span> &amp;&amp; !nextPosList.isEmpty()) &#123;</span><br><span class="line">            String next = nextPosList.poll();</span><br><span class="line">            nextPosList.remove(next);</span><br><span class="line">            dfs(result, graph, next);</span><br><span class="line">        &#125;</span><br><span class="line">        result.add(<span class="number">0</span>, curPos);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="53-Double-Linked-List"><a href="#53-Double-Linked-List" class="headerlink" title="53. Double Linked List"></a>53. Double Linked List</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">         String[] values = &#123;<span class="string">"1"</span>, <span class="string">"2"</span>, <span class="string">"3"</span>, <span class="string">"4"</span>, <span class="string">"5"</span>&#125;;</span><br><span class="line">        Node head = constructList(values);</span><br><span class="line">        HashSet&lt;String&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        set.add(<span class="string">"2"</span>); set.add(<span class="string">"5"</span>);</span><br><span class="line">        Node root = removeNodeByValue(head, set);</span><br><span class="line">        Node tmpNode = root;</span><br><span class="line">        <span class="keyword">while</span> (tmpNode != <span class="keyword">null</span>) &#123;</span><br><span class="line">            System.out.println(tmpNode.val);</span><br><span class="line">            tmpNode = tmpNode.next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">        String val;</span><br><span class="line">        Node pre, next;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(String val)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.val = val;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Node <span class="title">constructList</span><span class="params">(String[] list)</span> </span>&#123;</span><br><span class="line">        Node dummy = <span class="keyword">new</span> Node(<span class="string">""</span>);</span><br><span class="line">        Node preNode = dummy;</span><br><span class="line">        <span class="keyword">for</span> (String val : list) &#123;</span><br><span class="line">            Node curNode = <span class="keyword">new</span> Node(val);</span><br><span class="line">            preNode.next = curNode;</span><br><span class="line">            curNode.pre = preNode;</span><br><span class="line">            preNode = preNode.next;</span><br><span class="line">        &#125;</span><br><span class="line">        preNode.next = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">return</span> dummy.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Node <span class="title">removeNodeByValue</span><span class="params">(Node head, HashSet&lt;String&gt; set)</span> </span>&#123;</span><br><span class="line">        Node dummy = <span class="keyword">new</span> Node(<span class="string">""</span>);</span><br><span class="line">        dummy.next = head;</span><br><span class="line">        head.pre = dummy;</span><br><span class="line">        Node tmpNode = head, preNode = dummy;</span><br><span class="line">        <span class="keyword">while</span> (tmpNode != <span class="keyword">null</span>)  &#123;</span><br><span class="line">            <span class="keyword">if</span> (set.contains(tmpNode.val)) &#123;</span><br><span class="line">                preNode.next = <span class="keyword">null</span>;</span><br><span class="line">                tmpNode = tmpNode.next;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                preNode.next = tmpNode;</span><br><span class="line">                preNode = tmpNode;</span><br><span class="line">                tmpNode = preNode.next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dummy.next;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="54-Ways-to-spend-money"><a href="#54-Ways-to-spend-money" class="headerlink" title="54. Ways to spend money"></a>54. Ways to spend money</h2><p><a href="http://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=209852&amp;extra=page%3D1%26filter%3Dsortid%26sortid%3D311%26searchoption%5B3046%5D%5Bvalue%5D%3D1%26searchoption%5B3046%5D%5Btype%5D%3Dradio%26sortid%3D311" target="_blank" rel="external">http://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=209852&amp;extra=page%3D1%26filter%3Dsortid%26sortid%3D311%26searchoption%5B3046%5D%5Bvalue%5D%3D1%26searchoption%5B3046%5D%5Btype%5D%3Dradio%26sortid%3D311</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SpendMoneyWays</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] numbers = &#123;<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;;</span><br><span class="line">        <span class="keyword">int</span>[] prices = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;;</span><br><span class="line">        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; result = waysToSpendMoney(numbers, prices, <span class="number">10</span>);</span><br><span class="line">        System.out.println(result);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt; waysToSpendMoney(<span class="keyword">int</span>[] numbers, <span class="keyword">int</span>[] prices, <span class="keyword">int</span> money) &#123;</span><br><span class="line">        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();</span><br><span class="line">        backtracking(result, <span class="keyword">new</span> ArrayList&lt;&gt;(), numbers, prices, money, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtracking</span><span class="params">(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; result, ArrayList&lt;Integer&gt; tmpRes, <span class="keyword">int</span>[] number, <span class="keyword">int</span>[] prices, <span class="keyword">int</span> remainMoney, <span class="keyword">int</span> startIndex)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (remainMoney == <span class="number">0</span>) &#123;</span><br><span class="line">            result.add(<span class="keyword">new</span> ArrayList&lt;&gt;(tmpRes));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = startIndex; index &lt; number.length; index ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (number[index] == <span class="number">0</span> || remainMoney &lt; prices[index]) <span class="keyword">continue</span>;</span><br><span class="line">            tmpRes.add(index);</span><br><span class="line">            number[index] --;</span><br><span class="line">            backtracking(result, tmpRes, number, prices, remainMoney - prices[index], index);</span><br><span class="line">            number[index] ++;</span><br><span class="line">            tmpRes.remove(tmpRes.size() - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="55-Decode-String"><a href="#55-Decode-String" class="headerlink" title="55. Decode String"></a>55. Decode String</h2><p><a href="http://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=210301&amp;extra=page%3D1%26filter%3Dsortid%26sortid%3D311%26sortid%3D311" target="_blank" rel="external">http://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=210301&amp;extra=page%3D1%26filter%3Dsortid%26sortid%3D311%26sortid%3D311</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">decodeString</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (s == <span class="keyword">null</span> || s.length() == <span class="number">0</span> || !s.contains(<span class="string">"["</span>)) <span class="keyword">return</span> s;</span><br><span class="line">        String result = <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i ++) &#123;</span><br><span class="line">            <span class="keyword">char</span> c = s.charAt(i);</span><br><span class="line">            <span class="keyword">if</span> (Character.isDigit(c)) &#123;</span><br><span class="line">                <span class="keyword">int</span> number = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">while</span> (i &lt; s.length() &amp;&amp; Character.isDigit(s.charAt(i))) &#123;</span><br><span class="line">                    number = number * <span class="number">10</span> + s.charAt(i) - <span class="string">'0'</span>;</span><br><span class="line">                    i ++;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">int</span> lastIndex = generateLastIndex(s, i + <span class="number">1</span>);</span><br><span class="line">                String embedStr = decodeString(s.substring(i + <span class="number">1</span>, lastIndex));</span><br><span class="line">                <span class="keyword">while</span> (number-- &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    result = result + embedStr;</span><br><span class="line">                &#125;</span><br><span class="line">                i = lastIndex;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                result = result + s.charAt(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">generateLastIndex</span><span class="params">(String s, <span class="keyword">int</span> start)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">1</span>, index = start;</span><br><span class="line">        <span class="keyword">while</span> (count != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">char</span> c = s.charAt(index);</span><br><span class="line">            <span class="keyword">if</span> (c == <span class="string">'['</span>) count ++;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">']'</span>) count --;</span><br><span class="line">            index ++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> index - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String s = <span class="string">"aaaxxxaxxxxx"</span>;</span><br><span class="line">        String res = decodeString(s);</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">decodeString</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (s == <span class="keyword">null</span> || s.length() == <span class="number">0</span> || s.length() == <span class="number">1</span>) <span class="keyword">return</span> s;</span><br><span class="line">        String result = <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">int</span> len = s.length();</span><br><span class="line">        <span class="keyword">boolean</span> success = <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> tmpLen = len / <span class="number">2</span>; tmpLen &gt;= <span class="number">1</span>; tmpLen --) &#123;</span><br><span class="line">            <span class="keyword">int</span> endIndex = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> start = <span class="number">0</span>; start &lt;= len - <span class="number">2</span> * tmpLen; start ++) &#123;</span><br><span class="line">                <span class="keyword">int</span> repeatNumber = <span class="number">0</span>;</span><br><span class="line">                String cur = s.substring(start, start + tmpLen);</span><br><span class="line">                <span class="keyword">if</span> (cur.equals(s.substring(start + tmpLen, start + <span class="number">2</span> * tmpLen))) &#123;</span><br><span class="line">                    endIndex = start;</span><br><span class="line">                    <span class="keyword">while</span> (s.substring(start).startsWith(cur)) &#123;</span><br><span class="line">                        repeatNumber ++;</span><br><span class="line">                        start = start + tmpLen;</span><br><span class="line">                    &#125;</span><br><span class="line">                    String lastPart = (endIndex + repeatNumber * tmpLen &gt;= s.length() ? <span class="string">""</span> : s.substring(endIndex + repeatNumber * tmpLen));</span><br><span class="line">                    result = decodeString(s.substring(<span class="number">0</span>, endIndex)) + String.valueOf(repeatNumber) + <span class="string">"["</span> + decodeString(cur) + <span class="string">"]"</span> + decodeString(lastPart);</span><br><span class="line">                    success = <span class="keyword">true</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (success) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="55-Best-Meet-Point"><a href="#55-Best-Meet-Point" class="headerlink" title="55. Best Meet Point"></a>55. Best Meet Point</h2><p>注意点：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (left &lt; right)</span><br></pre></td></tr></table></figure></p>
<p>经常忘记循环<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (min == array[right]) right --;</span><br></pre></td></tr></table></figure></p>
<p>需要左右同时判断<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (matrix == <span class="keyword">null</span> || matrix.length == <span class="number">0</span> || matrix[<span class="number">0</span>].length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> row = matrix.length, col = matrix[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">int</span>[] vertical = <span class="keyword">new</span> <span class="keyword">int</span>[col];</span><br><span class="line">        <span class="keyword">int</span>[] horizontal = <span class="keyword">new</span> <span class="keyword">int</span>[row];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> r = <span class="number">0</span>; r &lt; row; r ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> c = <span class="number">0</span>; c &lt; col; c ++) &#123;</span><br><span class="line">                vertical[c] += matrix[r][c];</span><br><span class="line">                horizontal[r] += matrix[r][c];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] array : <span class="keyword">new</span> <span class="keyword">int</span>[][]&#123;vertical, horizontal&#125;) &#123;</span><br><span class="line">            <span class="keyword">int</span> left = <span class="number">0</span>, right = array.length - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">                <span class="keyword">int</span> min = Math.min(array[left], array[right]);</span><br><span class="line">                result += min * (right - left);</span><br><span class="line">                <span class="keyword">if</span> (min == array[left]) left ++;</span><br><span class="line">                <span class="keyword">if</span> (min == array[right]) right --;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br></pre></td></tr></table></figure></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Algorithm/">Algorithm</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-IOS学习笔记" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/07/IOS学习笔记/" class="article-date">
  	<time datetime="2015-11-07T18:48:48.000Z" itemprop="datePublished">2015-11-07</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/07/IOS学习笔记/">IOS学习笔记（零碎笔记）</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>1.block</p>
<hr>
<p>&nbsp;</p>
<p>block定义：</p>
<p>(returnType)(^blockName)(parameterTypes) = ^(parameters) {</p>
<p>statements</p>
<p>};</p>
<p>该block类型为：(returnType)(^)()</p>
<p>定义block快捷键：inline+enter</p>
<p>定义类型为block的属性语法：</p>
<p>@property (nonatomic, strong) void(^myBlock)(NSString *str) ;</p>
<p>注意点1:由于block是c语言的语法，所以在写block参数属性的时候不同于一般oc定义语法；</p>
<p>注意点2:block名称（myBlock）一定要放在(^)中，不能写成void(^)(NSString *str) myBlock（但是在方法中可以这样定义）;</p>
<p>&nbsp;</p>
<p>2.UILabel</p>
<hr>
<p>&nbsp;</p>
<p>若果label多行显示内容，即不限制行数，则要设置</p>
<p>numberOfLines = 0;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/IOS/">IOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Mobile/">Mobile</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-IOS开发笔记（代码块篇）" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/05/IOS开发笔记（代码块篇）/" class="article-date">
  	<time datetime="2015-11-06T05:37:19.000Z" itemprop="datePublished">2015-11-05</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/05/IOS开发笔记（代码块篇）/">IOS开发笔记（代码块篇）</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>1. when informing delegation object to run optional delegate method</p>
<p>在通知代理对象处理optional代理方法的时候需要判断该代理对象是否实现了该optional delgate method，因为如果直接通知代理对象去执行该对象未实现的代理方法，程序会奔溃。代码块如下：</p>
<p>if([self.delegate respondsToSelector:@selector(blogViewDidClickLikeButton)]){</p>
<p>[self.delegate blogViewDidClickLikeButton];</p>
<p>}</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/IOS/">IOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Mobile/">Mobile</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-IOS规范总结" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/05/IOS规范总结/" class="article-date">
  	<time datetime="2015-11-06T05:10:10.000Z" itemprop="datePublished">2015-11-05</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/05/IOS规范总结/">IOS规范总结</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>命名</strong></p>
<hr>
<p>&nbsp;</p>
<p><strong>1. 协议及协议方法命名：</strong></p>
<ol>
<li>协议名称：类名＋Delegate</li>
<li>协议方法：类名（不包括类前缀）＋方法描述<br>例子：</li>
</ol>
<p>在一个名叫XPFBlogView（XPF是项目前缀）中定义一个处理该view中一个按钮（like button）点击事件（didClick）的协议，则命名如下：</p>
<p>@protocol XPFBlogViewDelegate &lt;NSObject&gt;</p>
<p>-(void)blogViewDidClickLikeButton:(XPFBlogView *)blogView;</p>
<p>@end</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/IOS/">IOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Mobile/">Mobile</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Algorithm-Exercise-5" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/01/Algorithm-Exercise-5/" class="article-date">
  	<time datetime="2015-11-02T04:34:02.000Z" itemprop="datePublished">2015-11-01</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/01/Algorithm-Exercise-5/">Algorithm Exercise 5</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="41-Sqrt"><a href="#41-Sqrt" class="headerlink" title="41. Sqrt"></a>41. Sqrt</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">calculateSqrt</span><span class="params">(<span class="keyword">int</span> number)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (number &lt; <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> low = <span class="number">0</span>, high = number;</span><br><span class="line">        <span class="keyword">while</span> (low &lt;= high) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = low + (high - low) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (number / mid &gt;= mid &amp;&amp; number / (mid + <span class="number">1</span>) &lt; (mid + <span class="number">1</span>)) <span class="keyword">return</span> mid;</span><br><span class="line">            <span class="keyword">if</span> (number / mid &gt; mid) &#123;</span><br><span class="line">                low = mid + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                high = mid - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> low;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="42-Print-Path-from-root-to-leaf"><a href="#42-Print-Path-from-root-to-leaf" class="headerlink" title="42. Print Path from root to leaf"></a>42. Print Path from root to leaf</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PrintPathOfATree</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">TreeNode</span> </span>&#123;</span><br><span class="line">        String label;</span><br><span class="line">        ArrayList&lt;TreeNode&gt; children;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">TreeNode</span><span class="params">(String label)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.label = label;</span><br><span class="line">            <span class="keyword">this</span>.children = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        TreeNode nodeA = <span class="keyword">new</span> TreeNode(<span class="string">"a"</span>);</span><br><span class="line">        TreeNode nodeB = <span class="keyword">new</span> TreeNode(<span class="string">"b"</span>);</span><br><span class="line">        TreeNode nodeC = <span class="keyword">new</span> TreeNode(<span class="string">"c"</span>);</span><br><span class="line">        TreeNode nodeD = <span class="keyword">new</span> TreeNode(<span class="string">"d"</span>);</span><br><span class="line">        TreeNode nodeE = <span class="keyword">new</span> TreeNode(<span class="string">"e"</span>);</span><br><span class="line">        TreeNode nodeF = <span class="keyword">new</span> TreeNode(<span class="string">"f"</span>);</span><br><span class="line">        nodeA.children.add(nodeB);</span><br><span class="line">        nodeA.children.add(nodeC);</span><br><span class="line">        nodeA.children.add(nodeD);</span><br><span class="line">        nodeB.children.add(nodeE);</span><br><span class="line">        nodeE.children.add(nodeF);</span><br><span class="line">        printPath(nodeA);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">printPath</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        dfs(root, <span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(TreeNode root, ArrayList&lt;TreeNode&gt; path)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        path.add(root);</span><br><span class="line">        <span class="keyword">if</span> (root.children.size() == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (TreeNode node : path) &#123;</span><br><span class="line">                System.out.print(node.label + <span class="string">"  "</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">for</span> (TreeNode child : root.children) &#123;</span><br><span class="line">                dfs(child, path);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        path.remove(path.size() - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="43-拿coin问题"><a href="#43-拿coin问题" class="headerlink" title="43. 拿coin问题"></a>43. 拿coin问题</h2><p>谁先拿到最后一个获胜，可以拿1或者2个<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">firstWillWin</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> !(n % <span class="number">3</span> == <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<p>可以从左边拿1或2个，value高的获胜<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (values == <span class="keyword">null</span> || values.length &lt; <span class="number">3</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">int</span> len = values.length;</span><br><span class="line">        <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[len + <span class="number">2</span>];</span><br><span class="line">        dp[len - <span class="number">1</span>] = values[len - <span class="number">1</span>];</span><br><span class="line">        dp[len - <span class="number">2</span>] = values[len - <span class="number">1</span>] + values[len - <span class="number">2</span>];</span><br><span class="line">        <span class="keyword">int</span> sum = dp[len - <span class="number">2</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = len - <span class="number">3</span>; index &gt;= <span class="number">0</span>; index --) &#123;</span><br><span class="line">            sum += values[index];</span><br><span class="line">            dp[index] = Math.max(values[index] + Math.min(dp[index + <span class="number">2</span>], dp[index + <span class="number">3</span>]), values[index] + values[index + <span class="number">1</span>] + Math.min(dp[index + <span class="number">3</span>], dp[index + <span class="number">4</span>]));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[<span class="number">0</span>] * <span class="number">2</span> &gt; sum;</span><br></pre></td></tr></table></figure></p>
<p>可以从左右各取一个，但是B童鞋一直取两头最大的那个，A先手，问A可以获得的最大总和是多少<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getMaximumNumber</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> len = nums.length;</span><br><span class="line">        <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[len][len];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i ++) &#123;</span><br><span class="line">            dp[i][i] = nums[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len - <span class="number">1</span>; i ++) &#123;</span><br><span class="line">            dp[i][i + <span class="number">1</span>] = Math.max(nums[i], nums[i + <span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; len; i ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; len - i; j ++) &#123;</span><br><span class="line">                <span class="keyword">int</span> pickLeft = nums[j] + (nums[j + <span class="number">1</span>] &gt; nums[j + i] ? dp[j + <span class="number">2</span>][j + i] : dp[j + <span class="number">1</span>][i + j - <span class="number">1</span>]);</span><br><span class="line">                <span class="keyword">int</span> pickRight = nums[i + j] + (nums[j] &gt; nums[i + j - <span class="number">1</span>] ? dp[j + <span class="number">1</span>][j + i - <span class="number">1</span>] : dp[j][j + i - <span class="number">2</span>]);</span><br><span class="line">                dp[j][j + i] = Math.max(pickLeft, pickRight);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[<span class="number">0</span>][len - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="44-Auto-Complete"><a href="#44-Auto-Complete" class="headerlink" title="44. Auto Complete"></a>44. Auto Complete</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AutoComplete</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> TrieNode root, lastInputNode;</span><br><span class="line">    Stack&lt;TrieNode&gt; allLastInputs;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">AutoComplete</span><span class="params">(ArrayList&lt;String&gt; dictionary)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.root = buildTrieTree(dictionary);</span><br><span class="line">        <span class="keyword">this</span>.lastInputNode = <span class="keyword">this</span>.root;</span><br><span class="line">        <span class="keyword">this</span>.allLastInputs = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">        allLastInputs.push(<span class="keyword">this</span>.root);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">TrieNode</span> </span>&#123;</span><br><span class="line">        <span class="keyword">char</span> val;</span><br><span class="line">        <span class="keyword">int</span> count;</span><br><span class="line">        HashMap&lt;Character, TrieNode&gt; children;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">TrieNode</span><span class="params">(<span class="keyword">char</span> var)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.val = var;</span><br><span class="line">            <span class="keyword">this</span>.count = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">this</span>.children = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> TrieNode <span class="title">buildTrieTree</span><span class="params">(ArrayList&lt;String&gt; dictionary)</span> </span>&#123;</span><br><span class="line">        TrieNode root = <span class="keyword">new</span> TrieNode(<span class="string">' '</span>);</span><br><span class="line">        <span class="keyword">if</span> (dictionary == <span class="keyword">null</span>) <span class="keyword">return</span> root;</span><br><span class="line">        <span class="keyword">for</span>(String word : dictionary) &#123;</span><br><span class="line">            insertWord(root, word);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">insertWord</span><span class="params">(TrieNode root, String word)</span> </span>&#123;</span><br><span class="line">        TrieNode tmpNode = root;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> c : word.toCharArray()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (! tmpNode.children.containsKey(c)) tmpNode.children.put(c, <span class="keyword">new</span> TrieNode(c));</span><br><span class="line">            TrieNode child = tmpNode.children.get(c);</span><br><span class="line">            child.count ++;</span><br><span class="line">            tmpNode = child;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">inputChar</span><span class="params">(<span class="keyword">char</span> c)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (! <span class="keyword">this</span>.lastInputNode.children.containsKey(c)) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>.lastInputNode = <span class="keyword">this</span>.lastInputNode.children.get(c);</span><br><span class="line">        <span class="keyword">this</span>.allLastInputs.push(<span class="keyword">this</span>.lastInputNode);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.lastInputNode.count;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">deleteChar</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.allLastInputs.size() == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>.allLastInputs.pop();</span><br><span class="line">        <span class="keyword">this</span>.lastInputNode = <span class="keyword">this</span>.allLastInputs.peek();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.lastInputNode.count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="45-Find-same-substring-and-number"><a href="#45-Find-same-substring-and-number" class="headerlink" title="45. Find same substring and number"></a>45. Find same substring and number</h2><p><a href="http://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=209891&amp;extra=page%3D1%26filter%3Dsortid%26sortid%3D311%26searchoption%5B3046%5D%5Bvalue%5D%3D21%26searchoption%5B3046%5D%5Btype%5D%3Dradio%26sortid%3D311" target="_blank" rel="external">http://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=209891&amp;extra=page%3D1%26filter%3Dsortid%26sortid%3D311%26searchoption%5B3046%5D%5Bvalue%5D%3D21%26searchoption%5B3046%5D%5Btype%5D%3Dradio%26sortid%3D311</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TreeNode</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    TreeNode left, right;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TreeNode</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.val = val;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ResultPair</span> </span>&#123;</span><br><span class="line">    TreeNode root;</span><br><span class="line">    <span class="keyword">int</span> count;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ResultPair</span><span class="params">(TreeNode root, <span class="keyword">int</span> count)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.root = root;</span><br><span class="line">        <span class="keyword">this</span>.count = count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> HashMap&lt;TreeNode, Integer&gt; <span class="title">findDuplicateSubtree</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    HashMap&lt;TreeNode, Integer&gt; result = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    HashMap&lt;String, ResultPair&gt; subtreeMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    generateSubtreeStringTag(root, subtreeMap);</span><br><span class="line">    <span class="keyword">for</span> (ResultPair pair : subtreeMap.values()) &#123;</span><br><span class="line">        <span class="keyword">if</span> (pair.count == <span class="number">1</span>) <span class="keyword">continue</span>;</span><br><span class="line">        result.put(pair.root, pair.count);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> String <span class="title">generateSubtreeStringTag</span><span class="params">(TreeNode root, HashMap&lt;String, ResultPair&gt; subtreeMap)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="string">"#"</span>;</span><br><span class="line">    <span class="keyword">if</span> (root.left == <span class="keyword">null</span> &amp;&amp; root.right == <span class="keyword">null</span>) <span class="keyword">return</span> String.valueOf(root.val);</span><br><span class="line">    String leftSubtreeTag = generateSubtreeStringTag(root.left, subtreeMap);</span><br><span class="line">    String rightSubtreeTag = generateSubtreeStringTag(root.right, subtreeMap);</span><br><span class="line">    String curTag = leftSubtreeTag + String.valueOf(root.val) + rightSubtreeTag;</span><br><span class="line">    <span class="keyword">if</span> (! subtreeMap.containsKey(curTag)) subtreeMap.put(curTag, <span class="keyword">new</span> ResultPair(root, <span class="number">0</span>));</span><br><span class="line">    subtreeMap.get(curTag).count ++;</span><br><span class="line">    <span class="keyword">return</span> curTag;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="46-矩阵中找路径，可经过一个点［1，m］次"><a href="#46-矩阵中找路径，可经过一个点［1，m］次" class="headerlink" title="46. 矩阵中找路径，可经过一个点［1，m］次"></a>46. 矩阵中找路径，可经过一个点［1，m］次</h2><p><a href="http://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=209889&amp;extra=page%3D1%26filter%3Dsortid%26sortid%3D311%26searchoption%5B3046%5D%5Bvalue%5D%3D21%26searchoption%5B3046%5D%5Btype%5D%3Dradio%26sortid%3D311" target="_blank" rel="external">http://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=209889&amp;extra=page%3D1%26filter%3Dsortid%26sortid%3D311%26searchoption%5B3046%5D%5Bvalue%5D%3D21%26searchoption%5B3046%5D%5Btype%5D%3Dradio%26sortid%3D311</a><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ArrayList&lt;String&gt; <span class="title">findPath</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> m)</span> </span>&#123;</span><br><span class="line">        ArrayList&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (matrix == <span class="keyword">null</span>) <span class="keyword">return</span> result;</span><br><span class="line">        dfs(matrix, <span class="keyword">new</span> <span class="keyword">int</span>[matrix.length][matrix[<span class="number">0</span>].length], <span class="number">0</span>, <span class="number">0</span>, <span class="keyword">new</span> StringBuilder(), <span class="number">0</span>, result, m);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[][] shifts = &#123;&#123;<span class="number">0</span>, -<span class="number">1</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;&#125;;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span>[][] visitedNumber, <span class="keyword">int</span> rowIndex, <span class="keyword">int</span> colIndex, StringBuilder path, <span class="keyword">int</span> visitedBlockNumber, ArrayList&lt;String&gt; result, <span class="keyword">int</span> maximumVisitedNumber)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> row = matrix.length, col = matrix[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">if</span> (visitedBlockNumber == row * col) &#123;</span><br><span class="line">            result.add(path.toString());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (visitedNumber[rowIndex][colIndex] == maximumVisitedNumber) <span class="keyword">return</span>;</span><br><span class="line">        path.append(matrix[rowIndex][colIndex]);</span><br><span class="line">        <span class="keyword">if</span> (visitedNumber[rowIndex][colIndex] == <span class="number">0</span>) visitedBlockNumber ++;</span><br><span class="line">        visitedNumber[rowIndex][colIndex] ++;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] shift : shifts) &#123;</span><br><span class="line">            <span class="keyword">int</span> nextRow = rowIndex + shift[<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">int</span> nextCol = colIndex + shift[<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span> (nextRow &lt; <span class="number">0</span> || nextRow &gt;= row || nextCol &lt; <span class="number">0</span> || nextCol &gt;= col) <span class="keyword">continue</span>;</span><br><span class="line">            dfs(matrix, visitedNumber, nextRow, nextCol, path, visitedBlockNumber, result, maximumVisitedNumber);</span><br><span class="line">        &#125;</span><br><span class="line">        visitedNumber[rowIndex][colIndex] --;</span><br><span class="line">        path.deleteCharAt(path.length() - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span> (visitedNumber[rowIndex][colIndex] == <span class="number">0</span>) visitedBlockNumber --;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="47-翻转矩阵中m个点，求结果，并且不考虑x-y-x-amp-y对称结果"><a href="#47-翻转矩阵中m个点，求结果，并且不考虑x-y-x-amp-y对称结果" class="headerlink" title="47. 翻转矩阵中m个点，求结果，并且不考虑x,y,x&amp;y对称结果"></a>47. 翻转矩阵中m个点，求结果，并且不考虑x,y,x&amp;y对称结果</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MatrixRotateElement</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[][] matrix = &#123;&#123;<span class="number">0</span>,<span class="number">0</span>&#125;, &#123;<span class="number">0</span>,<span class="number">0</span>&#125;&#125;;</span><br><span class="line">        rotateMatrixElement(matrix, <span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> ArrayList&lt;<span class="keyword">int</span>[][]&gt; rotateMatrixElement(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> num) &#123;</span><br><span class="line">        ArrayList&lt;<span class="keyword">int</span>[][]&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (matrix == <span class="keyword">null</span> || num == <span class="number">0</span> || num &gt; matrix.length * matrix[<span class="number">0</span>].length) <span class="keyword">return</span> result;</span><br><span class="line">        <span class="keyword">int</span> row = matrix.length, col = matrix[<span class="number">0</span>].length;</span><br><span class="line">        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; rotatedPoints = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"><span class="comment">//        backtracking(rotatedPoints, new ArrayList&lt;&gt;(), 0, num, new boolean[row * col], 0);</span></span><br><span class="line">        backtrackingRemoveDuplicate(rotatedPoints, <span class="keyword">new</span> ArrayList&lt;&gt;(), <span class="number">0</span>, num, <span class="keyword">new</span> <span class="keyword">boolean</span>[row * col], <span class="number">0</span>, <span class="keyword">new</span> HashSet&lt;String&gt;());</span><br><span class="line">        <span class="keyword">for</span> (ArrayList&lt;Integer&gt; points : rotatedPoints) &#123;</span><br><span class="line">            <span class="keyword">int</span>[][] tmpResult = <span class="keyword">new</span> <span class="keyword">int</span>[row][col];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> point : points) &#123;</span><br><span class="line">                tmpResult[point / col][point % col] = <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            result.add(tmpResult);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> rowIndex = <span class="number">0</span>; rowIndex &lt; row; rowIndex ++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> colIndex = <span class="number">0</span>; colIndex &lt; col; colIndex ++) &#123;</span><br><span class="line">                    System.out.print(tmpResult[rowIndex][colIndex] + <span class="string">" "</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">"\n"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtracking</span><span class="params">(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; points, ArrayList&lt;Integer&gt; tmpPoints, <span class="keyword">int</span> number, <span class="keyword">int</span> totalNumber, <span class="keyword">boolean</span>[] visited, <span class="keyword">int</span> startIndex)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (tmpPoints.size() == totalNumber) &#123;</span><br><span class="line">            points.add(<span class="keyword">new</span> ArrayList&lt;&gt;(tmpPoints));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = startIndex; index &lt; visited.length; index ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (! visited[index]) &#123;</span><br><span class="line">                visited[index] = <span class="keyword">true</span>;</span><br><span class="line">                tmpPoints.add(index);</span><br><span class="line">                backtracking(points, tmpPoints, number + <span class="number">1</span>, totalNumber, visited, index + <span class="number">1</span>);</span><br><span class="line">                tmpPoints.remove(tmpPoints.size() - <span class="number">1</span>);</span><br><span class="line">                visited[index] = <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtrackingRemoveDuplicate</span><span class="params">(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; points, ArrayList&lt;Integer&gt; tmpPoints, <span class="keyword">int</span> number, <span class="keyword">int</span> totalNumber, <span class="keyword">boolean</span>[] visited, <span class="keyword">int</span> startIndex, HashSet&lt;String&gt; duplica)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (tmpPoints.size() == totalNumber) &#123;</span><br><span class="line">            <span class="keyword">if</span> (! didContains(tmpPoints, duplica, (<span class="keyword">int</span>)Math.sqrt(visited.length))) &#123;</span><br><span class="line">                points.add(<span class="keyword">new</span> ArrayList&lt;&gt;(tmpPoints));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = startIndex; index &lt; visited.length; index ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (! visited[index]) &#123;</span><br><span class="line">                visited[index] = <span class="keyword">true</span>;</span><br><span class="line">                tmpPoints.add(index);</span><br><span class="line">                backtrackingRemoveDuplicate(points, tmpPoints, number + <span class="number">1</span>, totalNumber, visited, index + <span class="number">1</span>, duplica);</span><br><span class="line">                tmpPoints.remove(tmpPoints.size() - <span class="number">1</span>);</span><br><span class="line">                visited[index] = <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">didContains</span><span class="params">(ArrayList&lt;Integer&gt; points, HashSet&lt;String&gt; visited, <span class="keyword">int</span> row)</span> </span>&#123;</span><br><span class="line">        String key = <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> point : points) &#123;</span><br><span class="line">            key = key + <span class="string">"#"</span> + point;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (visited.contains(key)) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        visited.add(key);</span><br><span class="line">        ArrayList&lt;String&gt; duplica = generateDuplicaKey(points, row);</span><br><span class="line">        <span class="keyword">for</span> (String dup : duplica) &#123;</span><br><span class="line">            visited.add(dup);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 假设矩阵ROW == COL</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> ArrayList&lt;String&gt; <span class="title">generateDuplicaKey</span><span class="params">(ArrayList&lt;Integer&gt; points, <span class="keyword">int</span> row)</span> </span>&#123;</span><br><span class="line">        ArrayList&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        String xDupPoint = <span class="string">""</span>, yDupPoint = <span class="string">""</span>, xyDupPoint = <span class="string">""</span>;</span><br><span class="line">        ArrayList&lt;Integer&gt; xDup = <span class="keyword">new</span> ArrayList&lt;&gt;(), yDup = <span class="keyword">new</span> ArrayList&lt;&gt;(), xyDup = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (Integer point : points) &#123;</span><br><span class="line">            <span class="keyword">int</span> rowIndex = point / row, colIndex = point % row;</span><br><span class="line">            xDup.add(rowIndex * row + (row - colIndex - <span class="number">1</span>));</span><br><span class="line">            yDup.add((row - rowIndex - <span class="number">1</span>) * row + colIndex);</span><br><span class="line">            xyDup.add((row - rowIndex - <span class="number">1</span>) * row + (rowIndex - colIndex - <span class="number">1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        Collections.sort(xDup);</span><br><span class="line">        Collections.sort(yDup);</span><br><span class="line">        Collections.sort(xyDup);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt; xDup.size(); index ++) &#123;</span><br><span class="line">            xDupPoint = xDupPoint + <span class="string">"#"</span> + xDup.get(index);</span><br><span class="line">            yDupPoint = yDupPoint + <span class="string">"#"</span> + yDup.get(index);</span><br><span class="line">            xyDupPoint = xyDupPoint + <span class="string">"#"</span> + xyDup.get(index);</span><br><span class="line">        &#125;</span><br><span class="line">        result.add(xDupPoint);</span><br><span class="line">        result.add(yDupPoint);</span><br><span class="line">        result.add(xyDupPoint);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Algorithm/">Algorithm</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Algorithm-Exercise-4" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/30/Algorithm-Exercise-4/" class="article-date">
  	<time datetime="2015-10-31T03:59:34.000Z" itemprop="datePublished">2015-10-30</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/30/Algorithm-Exercise-4/">Algorithm Exercise 4</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="31-Ugly-Number"><a href="#31-Ugly-Number" class="headerlink" title="31. Ugly Number"></a>31. Ugly Number</h2><p>whether a number is Ugly Number?</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isUgly</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (num &lt; <span class="number">1</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (num == <span class="number">1</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">while</span> (num % <span class="number">2</span> == <span class="number">0</span>) num &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (num % <span class="number">3</span> == <span class="number">0</span>) num /= <span class="number">3</span>;</span><br><span class="line">        <span class="keyword">while</span> (num % <span class="number">5</span> == <span class="number">0</span>) num /= <span class="number">5</span>;</span><br><span class="line">        <span class="keyword">return</span> num == <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>find the kth ugly number</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">nthUglyNumber</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (n &lt; <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span>[] nums = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">        nums[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> p2 = <span class="number">0</span>, p3 = <span class="number">0</span>, p5 = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i ++) &#123;</span><br><span class="line">            nums[i] = Math.min(nums[p2] * <span class="number">2</span>, Math.min(nums[p3] * <span class="number">3</span>, nums[p5] * <span class="number">5</span>));</span><br><span class="line">            <span class="keyword">if</span> (nums[i] == nums[p2] * <span class="number">2</span>) p2 ++;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] == nums[p3] * <span class="number">3</span>) p3 ++;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] == nums[p5] * <span class="number">5</span>) p5 ++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums[n - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>super Ugly number<br>prime candidates are a k length array</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">nthSuperUglyNumber</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span>[] primes)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len = primes.length;</span><br><span class="line">        <span class="keyword">int</span>[] pointers = <span class="keyword">new</span> <span class="keyword">int</span>[len];</span><br><span class="line">        <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[n];</span><br><span class="line">        result[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i ++) &#123;</span><br><span class="line">            <span class="keyword">int</span> min = findMin(primes, result, pointers);</span><br><span class="line">            result[i] = min;</span><br><span class="line">            updatePointers(primes, result, pointers, min);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result[n - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">findMin</span><span class="params">(<span class="keyword">int</span>[] primes, <span class="keyword">int</span>[] result, <span class="keyword">int</span>[] pointers)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> min = Integer.MAX_VALUE;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; primes.length; i ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (primes[i] * result[pointers[i]] &lt; min) &#123;</span><br><span class="line">                min = primes[i] * result[pointers[i]];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> min;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">updatePointers</span><span class="params">(<span class="keyword">int</span>[] primes, <span class="keyword">int</span>[] result, <span class="keyword">int</span>[] pointers, <span class="keyword">int</span> min)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; primes.length; i ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (primes[i] * result[pointers[i]] == min) pointers[i] ++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="32-K步从一个点到另一个点的路径总数"><a href="#32-K步从一个点到另一个点的路径总数" class="headerlink" title="32. K步从一个点到另一个点的路径总数"></a>32. K步从一个点到另一个点的路径总数</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[][] board = &#123;&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;&#125;;</span><br><span class="line">        <span class="keyword">int</span> res = findPath(board, <span class="number">1</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">3</span>);</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">findPath</span><span class="params">(<span class="keyword">int</span>[][] board, <span class="keyword">int</span> startRow, <span class="keyword">int</span> startCol, <span class="keyword">int</span> endRow, <span class="keyword">int</span> endCol, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (board == <span class="keyword">null</span> || board.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> row = board.length, col = board[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">int</span>[][][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[row][col][k + <span class="number">1</span>];</span><br><span class="line">        dp[startRow][startCol][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> step = <span class="number">1</span>; step &lt;= k; step ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> rowIndex = <span class="number">0</span>; rowIndex &lt; row; rowIndex ++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> colIndex = <span class="number">0</span>; colIndex &lt; col; colIndex ++) &#123;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> neighbourRow = Math.max(<span class="number">0</span>, rowIndex - <span class="number">1</span>); neighbourRow &lt;= Math.min(rowIndex + <span class="number">1</span>, row - <span class="number">1</span>); neighbourRow ++) &#123;</span><br><span class="line">                        <span class="keyword">for</span> (<span class="keyword">int</span> neighbourCol = Math.max(<span class="number">0</span>, colIndex - <span class="number">1</span>); neighbourCol &lt;= Math.min(colIndex + <span class="number">1</span>, col - <span class="number">1</span>); neighbourCol ++) &#123;</span><br><span class="line">                            <span class="keyword">if</span> (neighbourRow == rowIndex &amp;&amp; neighbourCol == colIndex) <span class="keyword">continue</span>;</span><br><span class="line">                            dp[rowIndex][colIndex][step] += dp[neighbourRow][neighbourCol][step - <span class="number">1</span>];</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[endRow][endCol][k];</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="33-Find-Longest-Increasing-Subsequence"><a href="#33-Find-Longest-Increasing-Subsequence" class="headerlink" title="33. Find Longest Increasing Subsequence"></a>33. Find Longest Increasing Subsequence</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] nums = &#123;<span class="number">10</span>,<span class="number">9</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">7</span>,<span class="number">101</span>,<span class="number">18</span>&#125;;</span><br><span class="line">        <span class="keyword">int</span> res = findLongestIncreasingSubsequence(nums);</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">findLongestIncreasingSubsequence</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        ArrayList&lt;Integer&gt; sequence = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> num : nums) &#123;</span><br><span class="line">            <span class="keyword">int</span> insertIndexBruteForce = findInsertPosition(sequence, num);</span><br><span class="line">            <span class="keyword">int</span> insertIndex = findInsertPositionUsingBinarySearch(sequence, num);</span><br><span class="line">            <span class="keyword">if</span> (insertIndex &gt;= sequence.size()) sequence.add(num);</span><br><span class="line">            <span class="keyword">else</span> sequence.set(insertIndex, num);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sequence.size();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">findInsertPosition</span><span class="params">(ArrayList&lt;Integer&gt; sequence, <span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> size = sequence.size();</span><br><span class="line">        <span class="keyword">if</span> (size == <span class="number">0</span> || num &gt; sequence.get(size - <span class="number">1</span>)) <span class="keyword">return</span> size;</span><br><span class="line">        <span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (index &lt; size &amp;&amp; sequence.get(index) &lt; num) index ++;</span><br><span class="line">        <span class="keyword">return</span> index;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">findInsertPositionUsingBinarySearch</span><span class="params">(ArrayList&lt;Integer&gt; sequence, <span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> size = sequence.size();</span><br><span class="line">        <span class="keyword">if</span> (size == <span class="number">0</span> || num &gt; sequence.get(size - <span class="number">1</span>)) <span class="keyword">return</span> size;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = size - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (sequence.get(mid) == num) <span class="keyword">return</span> mid;</span><br><span class="line">            <span class="keyword">if</span> (sequence.get(mid) &lt; num) left = mid + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                right = mid;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> right;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="34-Best-Meeting-Point"><a href="#34-Best-Meeting-Point" class="headerlink" title="34. Best Meeting Point"></a>34. Best Meeting Point</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[][] grid = &#123;&#123;<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>&#125;, &#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;, &#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>&#125;&#125;;</span><br><span class="line">        <span class="keyword">int</span> res = minTotalDistance(grid);</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minTotalDistance</span><span class="params">(<span class="keyword">int</span>[][] grid)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (grid == <span class="keyword">null</span> || grid.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> row = grid.length, col = grid[<span class="number">0</span>].length, result = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span>[] horizonSum = <span class="keyword">new</span> <span class="keyword">int</span>[col];</span><br><span class="line">        <span class="keyword">int</span>[] verticalSum = <span class="keyword">new</span> <span class="keyword">int</span>[row];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> rowIndex = <span class="number">0</span>; rowIndex &lt; row; rowIndex ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> colIndex = <span class="number">0</span>; colIndex &lt; col; colIndex ++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (grid[rowIndex][colIndex] == <span class="number">1</span>) &#123;</span><br><span class="line">                    horizonSum[colIndex] ++;</span><br><span class="line">                    verticalSum[rowIndex] ++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] nums : <span class="keyword">new</span> <span class="keyword">int</span>[][]&#123;horizonSum, verticalSum&#125;) &#123;</span><br><span class="line">            <span class="keyword">int</span> left = <span class="number">0</span>, right = nums.length - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">                <span class="keyword">int</span> movePoints = Math.min(nums[left], nums[right]);</span><br><span class="line">                result += (right - left) * movePoints;</span><br><span class="line">                <span class="keyword">if</span> ((nums[left] -= movePoints) == <span class="number">0</span>) left ++;</span><br><span class="line">                <span class="keyword">if</span> ((nums[right] -= movePoints) == <span class="number">0</span>) right --;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="35-Shortest-Distance-From-all-Buildings"><a href="#35-Shortest-Distance-From-all-Buildings" class="headerlink" title="35. Shortest Distance From all Buildings"></a>35. Shortest Distance From all Buildings</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. bfs 写成 dfs</span></span><br><span class="line">    <span class="comment">// 2. visited 需要立刻赋值，即在将下一个需要访问的点加入queue中时就需要赋值；</span></span><br><span class="line">    <span class="comment">// 3. 在遍历矩阵时，只有当矩阵点为0时才可以进行结果比较；</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">shortestDistance</span><span class="params">(<span class="keyword">int</span>[][] grid)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (grid == <span class="keyword">null</span> || <span class="number">1</span> &gt; grid.length) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> row = grid.length, col = grid[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">int</span>[][] canBeVisited = <span class="keyword">new</span> <span class="keyword">int</span>[row][col];</span><br><span class="line">        <span class="keyword">int</span>[][] roadMap = <span class="keyword">new</span> <span class="keyword">int</span>[row][col];</span><br><span class="line">        <span class="keyword">int</span> buildingNumber = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; row; i ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; col; j ++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (grid[i][j] == <span class="number">1</span>) &#123;</span><br><span class="line">                    buildingNumber ++;</span><br><span class="line">                    bfs(grid, i, j, canBeVisited, roadMap);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> result = Integer.MAX_VALUE;</span><br><span class="line">        <span class="keyword">int</span>[] location = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; row; i ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; col; j ++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (grid[i][j] == <span class="number">0</span> &amp;&amp; canBeVisited[i][j] == buildingNumber &amp;&amp; roadMap[i][j] &lt; result) &#123;</span><br><span class="line">                    result = roadMap[i][j];</span><br><span class="line">                    location[<span class="number">0</span>] = i; location[<span class="number">1</span>] = j;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result == Integer.MAX_VALUE ? -<span class="number">1</span> : result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span>[][] shifts = <span class="keyword">new</span> <span class="keyword">int</span>[][]&#123;&#123;<span class="number">0</span>, -<span class="number">1</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;&#125;;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">bfs</span><span class="params">(<span class="keyword">int</span>[][] grid, <span class="keyword">int</span> r, <span class="keyword">int</span> c, <span class="keyword">int</span>[][] canBeVisited, <span class="keyword">int</span>[][] roadMap)</span> </span>&#123;</span><br><span class="line">        Queue&lt;<span class="keyword">int</span>[]&gt; nextLevel = <span class="keyword">new</span> LinkedList&lt;<span class="keyword">int</span>[]&gt;();</span><br><span class="line">        nextLevel.offer(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;r, c&#125;);</span><br><span class="line">        <span class="keyword">int</span> level = <span class="number">0</span>, row = grid.length, col = grid[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">boolean</span>[][] visited = <span class="keyword">new</span> <span class="keyword">boolean</span>[row][col];</span><br><span class="line">        <span class="keyword">while</span> (! nextLevel.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">int</span> size = nextLevel.size();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt; size; index ++) &#123;</span><br><span class="line">                <span class="keyword">int</span>[] cur = nextLevel.poll();</span><br><span class="line">                <span class="keyword">int</span> i = cur[<span class="number">0</span>], j = cur[<span class="number">1</span>];</span><br><span class="line">                canBeVisited[i][j] ++;</span><br><span class="line">                roadMap[i][j] += level;        </span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span>[] shift : shifts) &#123;</span><br><span class="line">                    <span class="keyword">int</span> ii = i + shift[<span class="number">0</span>], jj = j + shift[<span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">if</span> (ii &lt; <span class="number">0</span> || ii &gt;= row || jj &lt; <span class="number">0</span> || jj &gt;= col || visited[ii][jj] || grid[ii][jj] != <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">                    visited[ii][jj] = <span class="keyword">true</span>;</span><br><span class="line">                    nextLevel.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;ii, jj&#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            level ++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="36-Regular-expression-matching"><a href="#36-Regular-expression-matching" class="headerlink" title="36. Regular expression matching"></a>36. Regular expression matching</h2><p>leetcode 10: regular expression matching<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isMatch</span><span class="params">(String s, String p)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> row = s.length(), column = p.length();</span><br><span class="line">        <span class="keyword">boolean</span>[][] match = <span class="keyword">new</span> <span class="keyword">boolean</span>[row + <span class="number">1</span>][column + <span class="number">1</span>];</span><br><span class="line">        match[<span class="number">0</span>][<span class="number">0</span>] = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">2</span>; j &lt;= column; j ++) match[<span class="number">0</span>][j] = match[<span class="number">0</span>][j - <span class="number">2</span>] &amp;&amp; (p.charAt(j - <span class="number">1</span>) == <span class="string">'*'</span>); </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= row; i ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= column; j ++) &#123;</span><br><span class="line">                <span class="keyword">if</span> ((s.charAt(i - <span class="number">1</span>) == p.charAt(j - <span class="number">1</span>)) || (p.charAt(j - <span class="number">1</span>) == <span class="string">'.'</span>)) &#123;</span><br><span class="line">                    match[i][j] = match[i - <span class="number">1</span>][j - <span class="number">1</span>];</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (p.charAt(j - <span class="number">1</span>) == <span class="string">'*'</span>) &#123;</span><br><span class="line">                    match[i][j] = match[i][j - <span class="number">1</span>] || match[i][j - <span class="number">2</span>] || (((i &gt; <span class="number">1</span> &amp;&amp; s.charAt(i - <span class="number">1</span>) == p.charAt(j - <span class="number">2</span>)) || p.charAt(j - <span class="number">2</span>) == <span class="string">'.'</span>) &amp;&amp; match[i - <span class="number">1</span>][j]);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    match[i][j] = <span class="keyword">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> match[row][column];</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<p>leetcode 44: wildcard matching<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isMatch</span><span class="params">(String s, String p)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> row = s.length(), column = p.length();</span><br><span class="line">       <span class="keyword">boolean</span>[][] match = <span class="keyword">new</span> <span class="keyword">boolean</span>[row + <span class="number">1</span>][column + <span class="number">1</span>];</span><br><span class="line">       match[<span class="number">0</span>][<span class="number">0</span>] = <span class="keyword">true</span>;</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= column; j ++) match[<span class="number">0</span>][j] = match[<span class="number">0</span>][j - <span class="number">1</span>] &amp;&amp; (p.charAt(j - <span class="number">1</span>) == <span class="string">'*'</span>);</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= row; i ++) &#123;</span><br><span class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= column; j ++) &#123;</span><br><span class="line">               <span class="keyword">if</span> (p.charAt(j - <span class="number">1</span>) == s.charAt(i - <span class="number">1</span>) || p.charAt(j - <span class="number">1</span>) == <span class="string">'?'</span>) &#123;</span><br><span class="line">                   match[i][j] = match[i - <span class="number">1</span>][j - <span class="number">1</span>];</span><br><span class="line">               &#125; <span class="keyword">else</span> <span class="keyword">if</span> (p.charAt(j - <span class="number">1</span>) == <span class="string">'*'</span>) &#123;</span><br><span class="line">                   match[i][j] = match[i - <span class="number">1</span>][j] || match[i][j - <span class="number">1</span>];</span><br><span class="line">               &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                   match[i][j] = <span class="keyword">false</span>;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> match[row][column];</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="37-Pass-Radar-Zone-Problem"><a href="#37-Pass-Radar-Zone-Problem" class="headerlink" title="37. Pass Radar Zone Problem"></a>37. Pass Radar Zone Problem</h3><p>Border is two lines</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Radar[] radars = <span class="keyword">new</span> Radar[<span class="number">2</span>];</span><br><span class="line">        radars[<span class="number">0</span>] = <span class="keyword">new</span> Radar(<span class="number">3</span>,<span class="number">3</span>,<span class="number">3</span>);</span><br><span class="line">        radars[<span class="number">1</span>] = <span class="keyword">new</span> Radar(<span class="number">3</span>,<span class="number">8</span>,<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">boolean</span> res = canPassRadarArea(radars, <span class="number">10</span>, <span class="number">0</span>);</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">canPassRadarArea</span><span class="params">(Radar[] radars, <span class="keyword">int</span> top, <span class="keyword">int</span> bottom)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (radars == <span class="keyword">null</span> || radars.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">int</span>[] father = <span class="keyword">new</span> <span class="keyword">int</span>[radars.length];</span><br><span class="line">        Arrays.fill(father, -<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt; radars.length - <span class="number">1</span>; index ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> otherIndex = index + <span class="number">1</span>; otherIndex &lt; radars.length; otherIndex ++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (didIntersected(radars[index], radars[otherIndex])) &#123;</span><br><span class="line">                    union(index, otherIndex, father, radars);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt; radars.length; index ++) &#123;</span><br><span class="line">            <span class="keyword">int</span> fatherRadarIndex = find(index, father);</span><br><span class="line">            Radar fatherRadar = radars[fatherRadarIndex];</span><br><span class="line">            <span class="keyword">if</span> (fatherRadar.top &gt;= top &amp;&amp; fatherRadar.bottom &lt;= bottom) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">didIntersected</span><span class="params">(Radar first, Radar second)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">double</span> centerDistanceSquare = Math.pow(first.x - second.x, <span class="number">2</span>) + Math.pow(first.y - second.y, <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">double</span> radiusSquare = Math.pow(first.r + second.r, <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">return</span> radiusSquare &lt;= centerDistanceSquare;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">union</span><span class="params">(<span class="keyword">int</span> firstIndex, <span class="keyword">int</span> secondIndex, <span class="keyword">int</span>[] fathers, Radar[] radars)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> firstFather = find(firstIndex, fathers);</span><br><span class="line">        <span class="keyword">int</span> secondFather = find(secondIndex, fathers);</span><br><span class="line">        <span class="keyword">if</span> (firstFather != secondFather) &#123;</span><br><span class="line">            fathers[firstFather] = secondFather;</span><br><span class="line">            radars[secondFather].top = Math.max(radars[secondFather].top, radars[firstFather].top);</span><br><span class="line">            radars[secondFather].bottom = Math.min(radars[secondFather].bottom, radars[firstFather].bottom);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> radarIndex, <span class="keyword">int</span>[] father)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (-<span class="number">1</span> != father[radarIndex]) &#123;</span><br><span class="line">            radarIndex = father[radarIndex];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> radarIndex;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Radar</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> x, y, r, top, bottom;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Radar</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> r)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.x = x;</span><br><span class="line">            <span class="keyword">this</span>.y = y;</span><br><span class="line">            <span class="keyword">this</span>.r = r;</span><br><span class="line">            <span class="keyword">this</span>.top = y + r;</span><br><span class="line">            <span class="keyword">this</span>.bottom = y - r;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>Borders is a square room</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">        ArrayList&lt;Radar&gt; radars = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        radars.add(<span class="keyword">new</span> Radar(<span class="number">5</span>,<span class="number">3</span>,<span class="number">3</span>));</span><br><span class="line">        radars.add(<span class="keyword">new</span> Radar(<span class="number">5</span>,<span class="number">8</span>,<span class="number">2</span>));</span><br><span class="line">        <span class="keyword">boolean</span> res = canPassArea(<span class="number">0</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">0</span>, radars);</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Radar</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> x, y, radius, left, right, top, bottom;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Radar</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> radius)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.x = x;</span><br><span class="line">            <span class="keyword">this</span>.y = y;</span><br><span class="line">            <span class="keyword">this</span>.radius = radius;</span><br><span class="line">            <span class="keyword">this</span>.left = x - radius;</span><br><span class="line">            <span class="keyword">this</span>.right = x + radius;</span><br><span class="line">            <span class="keyword">this</span>.top = y + radius;</span><br><span class="line">            <span class="keyword">this</span>.bottom = y - radius;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canPassArea</span><span class="params">(<span class="keyword">int</span> left, <span class="keyword">int</span> right, <span class="keyword">int</span> top, <span class="keyword">int</span> bottom, ArrayList&lt;Radar&gt; radars)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (radars == <span class="keyword">null</span> || radars.size() == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">int</span>[] father = <span class="keyword">new</span> <span class="keyword">int</span>[radars.size()];</span><br><span class="line">        Arrays.fill(father, -<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> firstRadar = <span class="number">0</span>; firstRadar &lt; radars.size(); firstRadar ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> secondRadar = firstRadar + <span class="number">1</span>; secondRadar &lt; radars.size(); secondRadar ++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (isIntersected(radars.get(firstRadar), radars.get(secondRadar))) &#123;</span><br><span class="line">                    union(firstRadar, secondRadar, father, radars);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt; radars.size(); index ++) &#123;</span><br><span class="line">            Radar radar = radars.get(index);</span><br><span class="line">            <span class="keyword">if</span> ((radar.left &lt;= left || radar.bottom &lt;= bottom) &amp;&amp; (radar.top &gt;= top || radar.right &gt;= right)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isIntersected</span><span class="params">(Radar firstRadar, Radar secondRadar)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (Math.pow(firstRadar.x - secondRadar.x, <span class="number">2</span>) + Math.pow(firstRadar.y - secondRadar.y, <span class="number">2</span>) &lt;= Math.pow(firstRadar.radius + secondRadar.radius, <span class="number">2</span>)) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">union</span><span class="params">(<span class="keyword">int</span> firstRadarIndex, <span class="keyword">int</span> secondRadarIndex, <span class="keyword">int</span>[] father, ArrayList&lt;Radar&gt; radars)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> firstFather = find(firstRadarIndex, father);</span><br><span class="line">        <span class="keyword">int</span> secondFather = find(secondRadarIndex, father);</span><br><span class="line">        <span class="keyword">if</span> (firstFather != secondFather) &#123;</span><br><span class="line">            father[firstFather] = secondFather;</span><br><span class="line">            radars.get(secondRadarIndex).left = Math.min(radars.get(secondRadarIndex).left, radars.get(firstRadarIndex).left);</span><br><span class="line">            radars.get(secondRadarIndex).right = Math.max(radars.get(secondRadarIndex).right, radars.get(firstRadarIndex).right);</span><br><span class="line">            radars.get(secondRadarIndex).top = Math.max(radars.get(secondRadarIndex).top, radars.get(firstRadarIndex).top);</span><br><span class="line">            radars.get(secondRadarIndex).bottom = Math.min(radars.get(secondRadarIndex).bottom, radars.get(firstRadarIndex).bottom);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> radarIndex, <span class="keyword">int</span>[] father)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (father[radarIndex] != -<span class="number">1</span>) &#123;</span><br><span class="line">            radarIndex = father[radarIndex];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> radarIndex;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="38-BST-TO-HashMap"><a href="#38-BST-TO-HashMap" class="headerlink" title="38. BST TO HashMap"></a>38. BST TO HashMap</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Map map = <span class="keyword">new</span> Map();</span><br><span class="line">    System.out.println(map.size());</span><br><span class="line">    map.put(<span class="string">"Country"</span>, <span class="string">"US"</span>);</span><br><span class="line">    System.out.println(map.size());</span><br><span class="line">    map.put(<span class="string">"Fruit"</span>, <span class="string">"Apple"</span>);</span><br><span class="line">    System.out.println(map.size());</span><br><span class="line">    map.put(<span class="string">"Fruit"</span>, <span class="string">"Mango"</span>);</span><br><span class="line">    System.out.println(map.size());</span><br><span class="line">    map.put(<span class="string">"Planet"</span>, <span class="string">"Earth"</span>);</span><br><span class="line">    System.out.println(map.size());</span><br><span class="line">    map.put(<span class="string">"App"</span>, <span class="string">"PayPal"</span>);</span><br><span class="line">    System.out.println(map.size());</span><br><span class="line">    String fruit = map.get(<span class="string">"Fruit"</span>);</span><br><span class="line">    System.out.println(<span class="string">"Fruit value is: "</span> + fruit);</span><br><span class="line">    String country = map.get(<span class="string">"Country"</span>);</span><br><span class="line">    System.out.println(<span class="string">"Country value is: "</span> + country);</span><br><span class="line">    String planet = map.get(<span class="string">"Planet"</span>);</span><br><span class="line">    System.out.println(<span class="string">"Planet value is: "</span> + planet);</span><br><span class="line">    String app = map.get(<span class="string">"App"</span>);</span><br><span class="line">    System.out.println(<span class="string">"App value is: "</span> + app);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">    String key, val;</span><br><span class="line">    <span class="keyword">int</span> count;</span><br><span class="line">    Node left, right;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(String key, String val)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.key = key;</span><br><span class="line">        <span class="keyword">this</span>.val = val;</span><br><span class="line">        <span class="keyword">this</span>.count = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Map</span> </span>&#123;</span><br><span class="line">    Node root;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Map</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        root = <span class="keyword">new</span> Node(<span class="string">""</span>, <span class="string">""</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">get</span><span class="params">(String key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> getValue(root, key);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">put</span><span class="params">(String key, String val)</span> </span>&#123;</span><br><span class="line">        insertNode(root, key, val);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> root.count - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> Node <span class="title">insertNode</span><span class="params">(Node root, String key, String val)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">            Node node = <span class="keyword">new</span> Node(key, val);</span><br><span class="line">            <span class="keyword">return</span> node;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (root.key.compareTo(key) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            root.left = insertNode(root.left, key, val);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (root.key.compareTo(key) &lt; <span class="number">0</span>)&#123;</span><br><span class="line">            root.right = insertNode(root.right, key, val);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            root.val = val;</span><br><span class="line">        &#125;</span><br><span class="line">        root.count = (root.left == <span class="keyword">null</span> ? <span class="number">0</span> : root.left.count) + <span class="number">1</span> + (root.right == <span class="keyword">null</span> ? <span class="number">0</span> : root.right.count);</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> String <span class="title">getValue</span><span class="params">(Node root, String key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span> || key == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">if</span> (root.key.compareTo(key) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> getValue(root.left, key);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (root.key.compareTo(key) &lt; <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> getValue(root.right, key);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> root.val;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Advantages of BST over Hash Table:<br><a href="http://www.geeksforgeeks.org/advantages-of-bst-over-hash-table/" target="_blank" rel="external">http://www.geeksforgeeks.org/advantages-of-bst-over-hash-table/</a></p>
<ol>
<li>get all keys in sorted order</li>
<li>Doing order statistics, finding closest lower and greater elements, doing range queries are easy to do with BSTs</li>
<li>easy to customize BST</li>
<li>all operations are guaranteed to work in O(Logn) time.  But with Hashing, Θ(1) is average time and some particular operations may be costly, especially when table resizing happens.</li>
</ol>
<h2 id="39-Flatten-Binary-Tree-to-Linked-List"><a href="#39-Flatten-Binary-Tree-to-Linked-List" class="headerlink" title="39. Flatten Binary Tree to Linked List"></a>39. Flatten Binary Tree to Linked List</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">flatten</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">null</span> == root) <span class="keyword">return</span>;</span><br><span class="line">        flatten(root.left);</span><br><span class="line">        flatten(root.right);</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">null</span> != root.left) &#123;</span><br><span class="line">            TreeNode bottom = findBottomNode(root.left);</span><br><span class="line">            bottom.right = root.right;</span><br><span class="line">            root.right = root.left;</span><br><span class="line">            bottom.left = <span class="keyword">null</span>;</span><br><span class="line">            root.left = <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> TreeNode <span class="title">findBottomNode</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">null</span> == root) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        TreeNode bottom = root;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">null</span> != bottom &amp;&amp; <span class="keyword">null</span> != bottom.right) bottom = bottom.right;</span><br><span class="line">        <span class="keyword">return</span> bottom;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="40-Version-Number-Compare"><a href="#40-Version-Number-Compare" class="headerlink" title="40. Version Number Compare"></a>40. Version Number Compare</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareVersion</span><span class="params">(String version1, String version2)</span> </span>&#123;</span><br><span class="line">        String[] nums1 = version1.split(<span class="string">"\\."</span>);</span><br><span class="line">        String[] nums2 = version2.split(<span class="string">"\\."</span>);</span><br><span class="line">        <span class="keyword">int</span> index1 = <span class="number">0</span>, index2 = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (; index1 &lt; nums1.length &amp;&amp; index2 &lt; nums2.length; index1 ++, index2 ++) &#123;</span><br><span class="line">            <span class="keyword">int</span> num1 = Integer.valueOf(nums1[index1]);</span><br><span class="line">            <span class="keyword">int</span> num2 = Integer.valueOf(nums2[index2]);</span><br><span class="line">            <span class="keyword">if</span> (num1 &gt; num2) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (num1 &lt; num2) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (index1 &lt; nums1.length) &#123;</span><br><span class="line">            <span class="keyword">if</span> (Integer.valueOf(nums1[index1 ++]) &gt; <span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (index2 &lt; nums2.length) &#123;</span><br><span class="line">            <span class="keyword">if</span> (Integer.valueOf(nums2[index2 ++]) &gt; <span class="number">0</span>) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Algorithm/">Algorithm</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Algorithm-Exercise-3" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/29/Algorithm-Exercise-3/" class="article-date">
  	<time datetime="2015-10-30T06:12:10.000Z" itemprop="datePublished">2015-10-29</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/29/Algorithm-Exercise-3/">Algorithm Exercise 3</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="21-Find-Median-from-Data-Stream"><a href="#21-Find-Median-from-Data-Stream" class="headerlink" title="21. Find Median from Data Stream"></a>21. Find Median from Data Stream</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">public class MedianFinder &#123;</span><br><span class="line">    PriorityQueue&lt;Integer&gt; max;</span><br><span class="line">    PriorityQueue&lt;Integer&gt; min;</span><br><span class="line">    int len;</span><br><span class="line">    public MedianFinder() &#123;</span><br><span class="line">        min = new PriorityQueue&lt;&gt;();</span><br><span class="line">        max = new PriorityQueue&lt;&gt;(Collections.reverseOrder());</span><br><span class="line">        len = 0;</span><br><span class="line">    &#125;</span><br><span class="line">    // Adds a number into the data structure.</span><br><span class="line">    public void addNum(int num) &#123;</span><br><span class="line">        max.add(num);</span><br><span class="line">        if (len % 2 == 1) &#123;</span><br><span class="line">            min.add(max.poll());</span><br><span class="line">        &#125;</span><br><span class="line">        if (len &gt; 1 &amp;&amp; max.peek() &gt; min.peek()) &#123;</span><br><span class="line">            max.add(min.poll());</span><br><span class="line">            min.add(max.poll());</span><br><span class="line">        &#125;</span><br><span class="line">        len ++;</span><br><span class="line">    &#125;</span><br><span class="line">    // Returns the median of current data stream</span><br><span class="line">    public double findMedian() &#123;</span><br><span class="line">        if (len % 2 == 0) &#123;</span><br><span class="line">            return ((double)(max.peek() + min.peek()) / 2);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            return (double)max.peek();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="22-Find-Combination-to-Sum"><a href="#22-Find-Combination-to-Sum" class="headerlink" title="22. Find Combination to Sum"></a>22. Find Combination to Sum</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; combinationSum(<span class="keyword">int</span>[] candidates, <span class="keyword">int</span> target) &#123;</span><br><span class="line">        <span class="keyword">if</span> (candidates == <span class="keyword">null</span> || candidates.length &lt; <span class="number">1</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        Arrays.sort(candidates);</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;List&lt;Integer&gt;&gt;();</span><br><span class="line">        List&lt;Integer&gt; tmp = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">        helper(result, tmp, <span class="number">0</span>, target, candidates, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">helper</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; result, List&lt;Integer&gt; tmp, <span class="keyword">int</span> tmpsum, <span class="keyword">int</span> target, <span class="keyword">int</span>[] candidates, <span class="keyword">int</span> start)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (tmpsum == target) &#123;</span><br><span class="line">            result.add(<span class="keyword">new</span> ArrayList&lt;Integer&gt;(tmp));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = start; i &lt; candidates.length; i ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (tmpsum + candidates[i] &gt; target) <span class="keyword">break</span>;</span><br><span class="line">            tmp.add(candidates[i]);</span><br><span class="line">            helper(result, tmp, tmpsum + candidates[i], target, candidates, i);</span><br><span class="line">            tmp.remove(tmp.size() - <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">while</span> (i + <span class="number">1</span> &lt; candidates.length &amp;&amp; candidates[i] == candidates[i + <span class="number">1</span>]) i ++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="23-Find-Duplicate-Number-in-Array"><a href="#23-Find-Duplicate-Number-in-Array" class="headerlink" title="23. Find Duplicate Number in Array"></a>23. Find Duplicate Number in Array</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[][] testcases = &#123;&#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>&#125;, &#123;<span class="number">3</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;, &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">4</span>&#125;, &#123;<span class="number">3</span>,<span class="number">3</span>,<span class="number">3</span>&#125;&#125;;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] nums : testcases) &#123;</span><br><span class="line">            <span class="keyword">int</span> res = findDuplicate(nums);</span><br><span class="line">            <span class="keyword">int</span> res2 = findDuplicateUsingSet(nums);</span><br><span class="line">            System.out.println(res + <span class="string">"   "</span>  + res2);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findDuplicateUsingSet</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length &lt; <span class="number">2</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        HashSet&lt;Integer&gt; numbersSet = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> num : nums) &#123;</span><br><span class="line">            <span class="keyword">if</span> (! numbersSet.add(num)) <span class="keyword">return</span> num;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>O(n) time complexity. O(n) space complexit.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findDuplicate</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length &lt; <span class="number">2</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    Arrays.sort(nums);</span><br><span class="line">    <span class="keyword">int</span> leftIndex = <span class="number">0</span>, rightIndex = nums.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (leftIndex &lt; rightIndex) &#123;</span><br><span class="line">        <span class="keyword">int</span> mid = leftIndex + (rightIndex - leftIndex) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (mid + <span class="number">1</span> &gt; nums[mid]) &#123;</span><br><span class="line">            rightIndex = mid - <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            leftIndex = mid + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nums[leftIndex];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>O(nlogn) time complexit. O(1) space complexit.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//    以0为头节点建立linkedlist,转换成链表找环起点问题</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findDuplicateUsingLinkedListAlgorithm</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length &lt; <span class="number">2</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> fastPoint = <span class="number">0</span>, slowPoint = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            fastPoint = nums[nums[fastPoint]];</span><br><span class="line">            slowPoint = nums[slowPoint];</span><br><span class="line">            <span class="keyword">if</span> (slowPoint == fastPoint) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> newPoint = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            slowPoint = nums[slowPoint];</span><br><span class="line">            newPoint = nums[newPoint];</span><br><span class="line">            <span class="keyword">if</span> (slowPoint == newPoint) <span class="keyword">return</span> slowPoint;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>O(n) time complexit. O(1) space complexity.</p>
<h2 id="24-Find-Amicable-Numbers"><a href="#24-Find-Amicable-Numbers" class="headerlink" title="24. Find Amicable Numbers"></a>24. Find Amicable Numbers</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt; findAmicableNumbers(<span class="keyword">int</span> n) &#123;</span><br><span class="line">        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();</span><br><span class="line">        <span class="keyword">int</span>[] sum = <span class="keyword">new</span> <span class="keyword">int</span>[n + <span class="number">1</span>];</span><br><span class="line">        Arrays.fill(sum, <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n / <span class="number">2</span>; i ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">2</span> * i; j &lt;= n; j += i) &#123;</span><br><span class="line">                sum[j] += i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        HashMap&lt;Integer, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n; i ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (map.containsKey(i)) &#123;</span><br><span class="line">                <span class="keyword">if</span> (map.get(i) == sum[i]) &#123;</span><br><span class="line">                    ArrayList&lt;Integer&gt; tmp = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">                    tmp.add(i);</span><br><span class="line">                    tmp.add(sum[i]);</span><br><span class="line">                    result.add(tmp);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                map.put(sum[i], i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="25-走迷宫，输出路径，可以打破墙"><a href="#25-走迷宫，输出路径，可以打破墙" class="headerlink" title="25. 走迷宫，输出路径，可以打破墙"></a>25. 走迷宫，输出路径，可以打破墙</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[][] matrix = &#123;&#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>&#125;,&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;,&#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;&#125;;</span><br><span class="line">        <span class="keyword">int</span>[][] matrix2 = &#123;&#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>&#125;, &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>&#125;, &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>&#125;, &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>&#125;, &#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>&#125;&#125;;</span><br><span class="line"><span class="comment">//        printShortestPath(matrix2);</span></span><br><span class="line">        printShortestPathWithBreakDownWalls(matrix2);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">printShortestPath</span><span class="params">(<span class="keyword">int</span>[][] matrix)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (matrix == <span class="keyword">null</span> || matrix.length == <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">int</span> row = matrix.length, col = matrix[<span class="number">0</span>].length;</span><br><span class="line">        HashMap&lt;Integer, Integer&gt; previousPosition = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        previousPosition.put(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        Queue&lt;Integer&gt; nextVisit = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        nextVisit.add(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">int</span> target = row * col - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span>[][] shifts = &#123;&#123;<span class="number">0</span>, -<span class="number">1</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;&#125;;</span><br><span class="line">        <span class="keyword">boolean</span> success = <span class="keyword">false</span>;</span><br><span class="line">        HashSet&lt;Integer&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        visited.add(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">while</span> (! nextVisit.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">int</span> size = nextVisit.size();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i ++) &#123;</span><br><span class="line">                <span class="keyword">int</span> curPos = nextVisit.poll();</span><br><span class="line">                <span class="keyword">if</span> (curPos == target) &#123;</span><br><span class="line">                    success = <span class="keyword">true</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span>[] shift : shifts) &#123;</span><br><span class="line">                    <span class="keyword">int</span> nextX = curPos / col + shift[<span class="number">0</span>];</span><br><span class="line">                    <span class="keyword">int</span> nextY = curPos % col + shift[<span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">int</span> next = nextX * col + nextY;</span><br><span class="line">                    <span class="keyword">if</span> (nextX &lt; <span class="number">0</span> || nextX &gt;= row || nextY &lt; <span class="number">0</span> || nextY &gt;= col || matrix[nextX][nextY] != <span class="number">0</span> || visited.contains(next)) <span class="keyword">continue</span>;</span><br><span class="line">                    visited.add(next);</span><br><span class="line">                    nextVisit.offer(next);</span><br><span class="line">                    previousPosition.put(next, curPos);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ArrayList&lt;Integer&gt; path = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (! success) &#123;</span><br><span class="line">            System.out.println(<span class="string">"Cannot find path."</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">int</span> cur = target;</span><br><span class="line">            <span class="keyword">while</span> (cur != <span class="number">0</span>) &#123;</span><br><span class="line">                path.add(<span class="number">0</span>, cur);</span><br><span class="line">                cur = previousPosition.get(cur);</span><br><span class="line">            &#125;</span><br><span class="line">            path.add(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">            <span class="keyword">for</span> (Integer pos : path) &#123;</span><br><span class="line">                System.out.println(<span class="string">"["</span> + pos / col + <span class="string">", "</span> + pos % col + <span class="string">"]"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">printShortestPathWithBreakDownWalls</span><span class="params">(<span class="keyword">int</span>[][] matrix)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (matrix == <span class="keyword">null</span> || matrix.length == <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">int</span> row = matrix.length, col = matrix[<span class="number">0</span>].length;</span><br><span class="line">        HashMap&lt;Integer, Integer&gt; previousPosition = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        previousPosition.put(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        Queue&lt;Integer&gt; nextVisit = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        nextVisit.add(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">int</span> target = row * col - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span>[][] shifts = &#123;&#123;<span class="number">0</span>, -<span class="number">1</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;&#125;;</span><br><span class="line">        <span class="keyword">boolean</span> success = <span class="keyword">false</span>;</span><br><span class="line">        HashSet&lt;Integer&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        visited.add(<span class="number">0</span>);</span><br><span class="line">        Queue&lt;Integer&gt; walls = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span> (! nextVisit.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">int</span> size = nextVisit.size();</span><br><span class="line">            <span class="keyword">while</span> (! walls.isEmpty()) nextVisit.offer(walls.poll());</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i ++) &#123;</span><br><span class="line">                <span class="keyword">int</span> curPos = nextVisit.poll();</span><br><span class="line">                <span class="keyword">if</span> (curPos == target) &#123;</span><br><span class="line">                    success = <span class="keyword">true</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span>[] shift : shifts) &#123;</span><br><span class="line">                    <span class="keyword">int</span> nextX = curPos / col + shift[<span class="number">0</span>];</span><br><span class="line">                    <span class="keyword">int</span> nextY = curPos % col + shift[<span class="number">1</span>];</span><br><span class="line">                    <span class="keyword">int</span> next = nextX * col + nextY;</span><br><span class="line">                    <span class="keyword">if</span> (nextX &lt; <span class="number">0</span> || nextX &gt;= row || nextY &lt; <span class="number">0</span> || nextY &gt;= col || visited.contains(next)) <span class="keyword">continue</span>;</span><br><span class="line">                    visited.add(next);</span><br><span class="line">                    previousPosition.put(next, curPos);</span><br><span class="line">                    <span class="keyword">if</span> (matrix[nextX][nextY] == <span class="number">1</span>) &#123;</span><br><span class="line">                        walls.add(next);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        nextVisit.offer(next);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ArrayList&lt;Integer&gt; path = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (! success) &#123;</span><br><span class="line">            System.out.println(<span class="string">"Cannot find path."</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">int</span> cur = target;</span><br><span class="line">            <span class="keyword">while</span> (cur != <span class="number">0</span>) &#123;</span><br><span class="line">                path.add(<span class="number">0</span>, cur);</span><br><span class="line">                cur = previousPosition.get(cur);</span><br><span class="line">            &#125;</span><br><span class="line">            path.add(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">            <span class="keyword">for</span> (Integer pos : path) &#123;</span><br><span class="line">                System.out.println(<span class="string">"["</span> + pos / col + <span class="string">", "</span> + pos % col + <span class="string">"]"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>有空写一下将点坐标抽象成类的方法，这种方法在Java中需要重写 <code>equals</code>和<code>hashcode</code>两种方法，因为会用到hash方法。</p>
<h2 id="26-Meeting-room-schedule"><a href="#26-Meeting-room-schedule" class="headerlink" title="26. Meeting room schedule"></a>26. Meeting room schedule</h2><p>这里需要注意的是重写<code>Comparator</code>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[][] timeIntervals = <span class="keyword">new</span> <span class="keyword">int</span>[][]&#123;&#123;<span class="number">0</span>, <span class="number">2</span>&#125;, &#123;<span class="number">1</span>, <span class="number">4</span>&#125;, &#123;<span class="number">2</span>, <span class="number">3</span>&#125;, &#123;<span class="number">2</span>, <span class="number">5</span>&#125;&#125;;</span><br><span class="line">        ArrayList&lt;Interval&gt; intervals = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] time : timeIntervals) &#123;</span><br><span class="line">            Interval interval = <span class="keyword">new</span> Interval(time[<span class="number">0</span>], time[<span class="number">1</span>]);</span><br><span class="line">            intervals.add(interval);</span><br><span class="line">        &#125;</span><br><span class="line">        ArrayList&lt;ArrayList&lt;Interval&gt;&gt; results = scheduleMeetingRoom(intervals);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; results.size(); i ++) &#123;</span><br><span class="line">            System.out.print(<span class="string">"Room "</span> + i + <span class="string">":  "</span>);</span><br><span class="line">            <span class="keyword">for</span> (Interval interval : results.get(i)) &#123;</span><br><span class="line">                System.out.print(<span class="string">"["</span> + interval.start + <span class="string">", "</span> + interval.end + <span class="string">"] "</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Interval</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> start, end;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Interval</span><span class="params">(<span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.start = start;</span><br><span class="line">            <span class="keyword">this</span>.end = end;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Interval</span><span class="params">(Interval otherInterval)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.start = otherInterval.start;</span><br><span class="line">            <span class="keyword">this</span>.end = otherInterval.end;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Meeting</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> roomId;</span><br><span class="line">        Interval interval;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Meeting</span><span class="params">(<span class="keyword">int</span> roomId, Interval interval)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.roomId = roomId;</span><br><span class="line">            <span class="keyword">this</span>.interval = interval;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> ArrayList&lt;ArrayList&lt;Interval&gt;&gt; scheduleMeetingRoom(ArrayList&lt;Interval&gt; intervals) &#123;</span><br><span class="line">        ArrayList&lt;ArrayList&lt;Interval&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;ArrayList&lt;Interval&gt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (intervals == <span class="keyword">null</span> || intervals.size() == <span class="number">0</span>) <span class="keyword">return</span> result;</span><br><span class="line">        Collections.sort(intervals, <span class="keyword">new</span> Comparator&lt;Interval&gt;() &#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Interval i1, Interval i2)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> i1.start - i2.start;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        PriorityQueue&lt;Meeting&gt; priorityQueue = <span class="keyword">new</span> PriorityQueue&lt;&gt;(<span class="keyword">new</span> Comparator&lt;Meeting&gt;() &#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Meeting m1, Meeting m2)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> m1.interval.end - m2.interval.end;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">int</span> roomId = <span class="number">0</span>;</span><br><span class="line">        HashMap&lt;Integer, ArrayList&lt;Interval&gt;&gt; shedule = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (Interval interval : intervals) &#123;</span><br><span class="line">            Meeting meeting;</span><br><span class="line">            <span class="keyword">if</span> (! priorityQueue.isEmpty() &amp;&amp; priorityQueue.peek().interval.end &lt;= interval.start) &#123;</span><br><span class="line">                meeting = priorityQueue.poll();</span><br><span class="line">                meeting.interval.end = interval.end;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                roomId ++;</span><br><span class="line">                meeting = <span class="keyword">new</span> Meeting(roomId, interval);</span><br><span class="line">                <span class="keyword">if</span> (result.size() &lt;= meeting.roomId) result.add(<span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">            &#125;</span><br><span class="line">            priorityQueue.offer(meeting);</span><br><span class="line">            <span class="keyword">if</span> (result.size() &lt; meeting.roomId) result.add(<span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">            result.get(meeting.roomId - <span class="number">1</span>).add(<span class="keyword">new</span> Interval(interval));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="27-Merge-Sorted-Lists"><a href="#27-Merge-Sorted-Lists" class="headerlink" title="27. Merge Sorted Lists"></a>27. Merge Sorted Lists</h2><h3 id="Merge-two-sorted-lists"><a href="#Merge-two-sorted-lists" class="headerlink" title="Merge two sorted lists"></a>Merge two sorted lists</h3><h4 id="recursive-version"><a href="#recursive-version" class="headerlink" title="recursive version"></a>recursive version</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">mergeTwoLists</span><span class="params">(ListNode l1, ListNode l2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (l1 == <span class="keyword">null</span>) <span class="keyword">return</span> l2;</span><br><span class="line">        <span class="keyword">if</span> (l2 == <span class="keyword">null</span>) <span class="keyword">return</span> l1;</span><br><span class="line">        ListNode mergedHead;</span><br><span class="line">        <span class="keyword">if</span> (l1.val &lt; l2.val) &#123;</span><br><span class="line">            mergedHead = l1;</span><br><span class="line">            mergedHead.next = mergeTwoLists(l1.next, l2);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            mergedHead = l2;</span><br><span class="line">            mergedHead.next = mergeTwoLists(l1, l2.next);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> mergedHead;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h4 id="iterative-version"><a href="#iterative-version" class="headerlink" title="iterative version"></a>iterative version</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">mergeTwoLists</span><span class="params">(ListNode l1, ListNode l2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (l1 == <span class="keyword">null</span>) <span class="keyword">return</span> l2;</span><br><span class="line">        <span class="keyword">if</span> (l2 == <span class="keyword">null</span>) <span class="keyword">return</span> l1;</span><br><span class="line">        ListNode root = l1.val &lt;= l2.val ? l1 : l2;</span><br><span class="line">        ListNode pre = root;</span><br><span class="line">        ListNode tmpNode1 = l1.val &lt;= l2.val ? l1.next : l1;</span><br><span class="line">        ListNode tmpNode2 = l1.val &lt;= l2.val ? l2 : l2.next;</span><br><span class="line">        <span class="keyword">while</span> (tmpNode1 != <span class="keyword">null</span> &amp;&amp; tmpNode2 != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (tmpNode1.val &lt;= tmpNode2.val) &#123;</span><br><span class="line">                pre.next = tmpNode1;</span><br><span class="line">                pre = tmpNode1;</span><br><span class="line">                tmpNode1 = tmpNode1.next;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                pre.next = tmpNode2;</span><br><span class="line">                pre = tmpNode2;</span><br><span class="line">                tmpNode2 = tmpNode2.next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        pre.next = tmpNode1 == <span class="keyword">null</span> ? tmpNode2 : tmpNode1;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="Merge-K-sorted-Lists"><a href="#Merge-K-sorted-Lists" class="headerlink" title="Merge K sorted Lists"></a>Merge K sorted Lists</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">mergeKLists</span><span class="params">(ListNode[] lists)</span> </span>&#123;</span><br><span class="line">        ListNode dummy = <span class="keyword">new</span> ListNode(<span class="number">0</span>);</span><br><span class="line">        ListNode tail = dummy;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">null</span> == lists || <span class="number">1</span> &gt; lists.length) <span class="keyword">return</span> dummy.next;</span><br><span class="line">        PriorityQueue&lt;ListNode&gt; queue = <span class="keyword">new</span> PriorityQueue&lt;ListNode&gt;(lists.length, <span class="keyword">new</span> Comparator&lt;ListNode&gt;()&#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(ListNode h1,ListNode h2)</span></span>&#123;</span><br><span class="line">                <span class="keyword">return</span> h1.val - h2.val;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">for</span> (ListNode head : lists) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">null</span> != head)   queue.add(head);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (! queue.isEmpty()) &#123;</span><br><span class="line">            ListNode cur = queue.poll();</span><br><span class="line">            tail.next = cur;</span><br><span class="line">            tail = tail.next;</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">null</span> != cur.next) &#123;</span><br><span class="line">                queue.add(cur.next);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dummy.next;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="28-Ternary-Expression-Parser"><a href="#28-Ternary-Expression-Parser" class="headerlink" title="28. Ternary Expression Parser"></a>28. Ternary Expression Parser</h2><p>法一：Stack<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">parseTernary</span><span class="params">(String expression)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (expression == <span class="keyword">null</span>) <span class="keyword">return</span> expression;</span><br><span class="line">        Stack&lt;Character&gt; stack = <span class="keyword">new</span> Stack&lt;Character&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = expression.length() - <span class="number">1</span>; index &gt;= <span class="number">0</span>; index --) &#123;</span><br><span class="line">            <span class="keyword">char</span> cur = expression.charAt(index);</span><br><span class="line">            <span class="keyword">if</span> (cur == <span class="string">'?'</span>) &#123;</span><br><span class="line">                <span class="keyword">char</span> first = stack.pop();</span><br><span class="line">                stack.pop();</span><br><span class="line">                <span class="keyword">char</span> second = stack.pop();</span><br><span class="line">                index --;</span><br><span class="line">                <span class="keyword">if</span> (expression.charAt(index) == <span class="string">'T'</span>) stack.push(first);</span><br><span class="line">                <span class="keyword">else</span> stack.push(second);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                stack.push(cur);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span> + stack.pop();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<p>法二：binary search<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">parseTernary</span><span class="params">(String expression)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (expression == <span class="keyword">null</span>) <span class="keyword">return</span> expression;</span><br><span class="line">        Node root = buildTree(expression.toCharArray());</span><br><span class="line">        <span class="keyword">return</span> evaluate(root) + <span class="string">""</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">        <span class="keyword">char</span> val;</span><br><span class="line">        Node left, right, parent;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(<span class="keyword">char</span> val)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.val = val;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> Node <span class="title">buildTree</span><span class="params">(<span class="keyword">char</span>[] values)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (values.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        Node root = <span class="keyword">new</span> Node(values[<span class="number">0</span>]);</span><br><span class="line">        Node tmpNode = root;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; values.length; i ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (values[i] == <span class="string">'?'</span>) &#123;</span><br><span class="line">                Node left = <span class="keyword">new</span> Node(values[i + <span class="number">1</span>]);</span><br><span class="line">                tmpNode.left = left;</span><br><span class="line">                left.parent = tmpNode;</span><br><span class="line">                tmpNode = left;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (values[i] == <span class="string">':'</span>) &#123;</span><br><span class="line">                tmpNode = tmpNode.parent;</span><br><span class="line">                <span class="keyword">while</span> (tmpNode.right != <span class="keyword">null</span> &amp;&amp; tmpNode.parent != <span class="keyword">null</span>) &#123;</span><br><span class="line">                    tmpNode = tmpNode.parent;</span><br><span class="line">                &#125;</span><br><span class="line">                Node right = <span class="keyword">new</span> Node(values[i + <span class="number">1</span>]);</span><br><span class="line">                tmpNode.right = right;</span><br><span class="line">                right.parent = tmpNode;</span><br><span class="line">                tmpNode = right;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">char</span> <span class="title">evaluate</span><span class="params">(Node root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (root.val == <span class="string">'T'</span> || root.val == <span class="string">'F'</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (root.left == <span class="keyword">null</span> &amp;&amp; root.right == <span class="keyword">null</span>) <span class="keyword">return</span> root.val;</span><br><span class="line">            <span class="keyword">if</span> (root.val == <span class="string">'T'</span>) root = root.left;</span><br><span class="line">            <span class="keyword">else</span> root = root.right;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> root.val;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="29-Alien-Dictionary"><a href="#29-Alien-Dictionary" class="headerlink" title="29. Alien Dictionary"></a>29. Alien Dictionary</h2><p>注意在找到两个相邻String的第一个不通的单词后需要break此次比较。注意break的位置。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">alienOrder</span><span class="params">(String[] words)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (words == <span class="keyword">null</span> || words.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">        HashMap&lt;Character, Integer&gt; indegree = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        HashMap&lt;Character, HashSet&lt;Character&gt;&gt; outdegree = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (String word : words) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">char</span> ch : word.toCharArray()) &#123;</span><br><span class="line">                indegree.put(ch, <span class="number">0</span>);</span><br><span class="line">                outdegree.put(ch, <span class="keyword">new</span> HashSet&lt;Character&gt;());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt; words.length - <span class="number">1</span>; index ++) &#123;</span><br><span class="line">            String curWord = words[index];</span><br><span class="line">            String nextWord = words[index + <span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span> (curWord.length() &gt; nextWord.length() &amp;&amp; curWord.startsWith(nextWord)) <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> charIndex = <span class="number">0</span>; charIndex &lt; Math.min(curWord.length(), nextWord.length()); charIndex ++) &#123;</span><br><span class="line">                <span class="keyword">char</span> curChar = curWord.charAt(charIndex);</span><br><span class="line">                <span class="keyword">char</span> nextChar = nextWord.charAt(charIndex);</span><br><span class="line">                <span class="keyword">if</span> (curChar != nextChar) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (!outdegree.get(curChar).contains(nextChar)) &#123;</span><br><span class="line">                        outdegree.get(curChar).add(nextChar);</span><br><span class="line">                        indegree.put(nextChar, indegree.get(nextChar) + <span class="number">1</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        StringBuilder result = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        Queue&lt;Character&gt; queue = <span class="keyword">new</span> LinkedList&lt;Character&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> key : indegree.keySet()) &#123;</span><br><span class="line">            <span class="comment">// System.out.println(key + ":" + indegree.get(key));</span></span><br><span class="line">            <span class="keyword">if</span> (indegree.get(key) == <span class="number">0</span>) &#123;</span><br><span class="line">                queue.offer(key);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (! queue.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">int</span> size = queue.size();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt; size; index ++) &#123;</span><br><span class="line">                <span class="keyword">char</span> curChar = queue.poll();</span><br><span class="line">                result.append(curChar);</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">char</span> nextChar : outdegree.get(curChar)) &#123;</span><br><span class="line">                    indegree.put(nextChar, indegree.get(nextChar) - <span class="number">1</span>);</span><br><span class="line">                    <span class="keyword">if</span> (indegree.get(nextChar) == <span class="number">0</span>) queue.offer(nextChar);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// System.out.println(result.toString());</span></span><br><span class="line">        <span class="keyword">return</span> result.length() == indegree.size() ? result.toString() : <span class="string">""</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="30-party-problem"><a href="#30-party-problem" class="headerlink" title="30. party problem"></a>30. party problem</h2><p>类似于rob house 3.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;TreeNode, Integer&gt; mp = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">rob</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">null</span> == root) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (mp.containsKey(root)) <span class="keyword">return</span> mp.get(root);</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">null</span> == root.left &amp;&amp; <span class="keyword">null</span> == root.right) <span class="keyword">return</span> root.val;</span><br><span class="line">        <span class="keyword">int</span> robCurrent = root.val;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">null</span> != root.left) &#123;</span><br><span class="line">            robCurrent += rob(root.left.left) + rob(root.left.right);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">null</span> != root.right) &#123;</span><br><span class="line">            robCurrent += rob(root.right.left) + rob(root.right.right);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> result = Math.max(robCurrent, rob(root.left) + rob(root.right));</span><br><span class="line">        mp.put(root, result);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Algorithm/">Algorithm</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Algorithm-Exercise-2" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/28/Algorithm-Exercise-2/" class="article-date">
  	<time datetime="2015-10-28T20:56:44.000Z" itemprop="datePublished">2015-10-28</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/28/Algorithm-Exercise-2/">Algorithm Exercise 2</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="11-Detect-Cycle-in-Graph"><a href="#11-Detect-Cycle-in-Graph" class="headerlink" title="11. Detect Cycle in Graph"></a>11. Detect Cycle in Graph</h2><p>Code</p>
<p>需要注意的是需要两个<code>set</code>，一个用来保存全局访问节点，一个用来保存当前路径走过的节点，如果在走路径的时候发现了全局已经访问的节点，则推出此分支的搜索，如果碰到当前路径走过的节点，则证明图中有环。</p>
<p>注意在dfs中要从path visited中移除访问过的节点</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">       <span class="keyword">int</span> label;</span><br><span class="line">       HashSet&lt;Node&gt; neighbours;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(<span class="keyword">int</span> label)</span> </span>&#123;</span><br><span class="line">           <span class="keyword">this</span>.label = label;</span><br><span class="line">           <span class="keyword">this</span>.neighbours = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">detectedCycle</span><span class="params">(ArrayList&lt;Node&gt; graph)</span> </span>&#123;</span><br><span class="line">       HashSet&lt;Node&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">       <span class="keyword">for</span> (Node node : graph) &#123;</span><br><span class="line">           <span class="keyword">if</span> (visited.contains(node)) <span class="keyword">continue</span>;</span><br><span class="line">           visited.add(node);</span><br><span class="line">           <span class="keyword">if</span> (dfs(node, <span class="keyword">new</span> HashSet&lt;Node&gt;(), visited)) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">dfs</span><span class="params">(Node node, HashSet&lt;Node&gt; pathVisited, HashSet&lt;Node&gt; globalVisited)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (pathVisited.contains(node)) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">       <span class="keyword">if</span> (globalVisited.contains(node)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">       pathVisited.add(node);</span><br><span class="line">       globalVisited.add(node);</span><br><span class="line">       <span class="keyword">for</span> (Node neighbour : node.neighbours) &#123;</span><br><span class="line">           <span class="keyword">if</span>(dfs(neighbour, pathVisited, globalVisited)) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       pathVisited.remove(node);</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h2 id="12-Bipart-Graph"><a href="#12-Bipart-Graph" class="headerlink" title="12. Bipart Graph"></a>12. Bipart Graph</h2><p>Code</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">bipartGraph</span><span class="params">(ArrayList&lt;Node&gt; graph)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (graph == <span class="keyword">null</span> || graph.size() &lt; <span class="number">3</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">       HashSet&lt;Node&gt; color1 = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">       HashSet&lt;Node&gt; color2 = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">       <span class="keyword">for</span> (Node node : graph) &#123;</span><br><span class="line">           <span class="keyword">if</span> (!color1.contains(node) &amp;&amp; !color2.contains(node)) &#123;</span><br><span class="line">               <span class="keyword">if</span> (paintColor(node, color1, color2) == <span class="keyword">false</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">paintColor</span><span class="params">(Node node, HashSet&lt;Node&gt; color1, HashSet&lt;Node&gt; color2)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (color2.contains(node)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">       color1.add(node);</span><br><span class="line">       <span class="keyword">for</span> (Node neighbour : node.neighbours) &#123;</span><br><span class="line">           <span class="keyword">if</span> (color1.contains(neighbour)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">           <span class="keyword">if</span> (paintColor(neighbour, color2, color1) == <span class="keyword">false</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h2 id="13-Toggle"><a href="#13-Toggle" class="headerlink" title="13. Toggle"></a>13. Toggle</h2><p>在hashmap中insert和delete时，不要忘记跟新hashmap。</p>
<p>Code</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       Toggle toggleInstance = <span class="keyword">new</span> Toggle();</span><br><span class="line">       toggleInstance.toggle(<span class="string">"a"</span>);</span><br><span class="line">       toggleInstance.toggle(<span class="string">"b"</span>);</span><br><span class="line">       toggleInstance.toggle(<span class="string">"c"</span>);</span><br><span class="line">       toggleInstance.toggle(<span class="string">"a"</span>);</span><br><span class="line">       toggleInstance.toggle(<span class="string">"c"</span>);</span><br><span class="line">       toggleInstance.toggle(<span class="string">"c"</span>);</span><br><span class="line">       toggleInstance.toggle(<span class="string">"a"</span>);</span><br><span class="line">       ArrayList&lt;String&gt; result = toggleInstance.getSelectedList();</span><br><span class="line">       <span class="keyword">for</span> (String s : result) &#123;</span><br><span class="line">           System.out.println(s);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">       Node pre, next;</span><br><span class="line">       String val;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="title">Node</span> <span class="params">(String val)</span> </span>&#123;</span><br><span class="line">           <span class="keyword">this</span>.val = val;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   Node head, tail;</span><br><span class="line">   HashMap&lt;String, Node&gt; mp;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">Toggle</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       mp = <span class="keyword">new</span> HashMap&lt;String, Node&gt;();</span><br><span class="line">       head = <span class="keyword">new</span> Node(<span class="string">" "</span>);</span><br><span class="line">       tail = <span class="keyword">new</span> Node(<span class="string">" "</span>);</span><br><span class="line">       head.next = tail;</span><br><span class="line">       tail.pre = head;</span><br><span class="line">       head.pre = <span class="keyword">null</span>;</span><br><span class="line">       tail.next = <span class="keyword">null</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">toggle</span><span class="params">(String username)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (mp.containsKey(username)) deleteNode(username);</span><br><span class="line">       <span class="keyword">else</span> insertNode(username);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> ArrayList&lt;String&gt; <span class="title">getSelectedList</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       ArrayList&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">       Node tmp = head.next;</span><br><span class="line">       <span class="keyword">while</span> (tmp != tail) &#123;</span><br><span class="line">           result.add(tmp.val);</span><br><span class="line">           tmp = tmp.next;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> result;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">deleteNode</span><span class="params">(String username)</span> </span>&#123;</span><br><span class="line">       Node cur = mp.get(username);</span><br><span class="line">       cur.pre.next = cur.next;</span><br><span class="line">       cur.next.pre = cur.pre;</span><br><span class="line">       cur = <span class="keyword">null</span>;</span><br><span class="line">       mp.remove(username);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">insertNode</span><span class="params">(String username)</span> </span>&#123;</span><br><span class="line">       Node insertedNode = <span class="keyword">new</span> Node(username);</span><br><span class="line">       insertedNode.pre = tail.pre;</span><br><span class="line">       insertedNode.next = tail;</span><br><span class="line">       tail.pre.next = insertedNode;</span><br><span class="line">       tail.pre = insertedNode;</span><br><span class="line">       mp.put(username, insertedNode);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h2 id="14-find-String-combined-by-given-char"><a href="#14-find-String-combined-by-given-char" class="headerlink" title="14. find String combined by given char"></a>14. find String combined by given char</h2><p>Link: <a href="http://www.1point3acres.com/bbs/thread-156347-1-1.html" target="_blank" rel="external">http://www.1point3acres.com/bbs/thread-156347-1-1.html</a><br>因为LZ说待查找的String是million级别的，所以还是需要对给定的String数组进行建Trie，因为考虑假如有1万个String是以10万个a开头的，那么在利用trie数据结构，我们只需要判断一次10万个a是否满足情况，而在没有trie的情况下，我们则需要对每个都需要判断。</p>
<p>Code</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">char</span>[] array = &#123;<span class="string">'a'</span>,<span class="string">'c'</span>,<span class="string">'a'</span>,<span class="string">'r'</span>,<span class="string">'t'</span>, <span class="string">'s'</span>, <span class="string">'c'</span>&#125;;</span><br><span class="line">        String[] strs = &#123;<span class="string">"a"</span>,<span class="string">"aa"</span>,<span class="string">"cat"</span>,<span class="string">"cats"</span>,<span class="string">"aaa"</span>,<span class="string">"cc"</span>&#125;;</span><br><span class="line">        ArrayList&lt;String&gt; result = findCombination(array, strs);</span><br><span class="line">        <span class="keyword">for</span> (String str : result) &#123;</span><br><span class="line">            System.out.println(str);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ArrayList&lt;String&gt; <span class="title">findCombination</span><span class="params">(<span class="keyword">char</span>[] array, String[] strs)</span> </span>&#123;</span><br><span class="line">        ArrayList&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (array == <span class="keyword">null</span> || strs == <span class="keyword">null</span> || array.length == <span class="number">0</span> || strs.length == <span class="number">0</span>) <span class="keyword">return</span> result;</span><br><span class="line">        TrieNode root = buildTrieTree(strs);</span><br><span class="line">        HashMap&lt;Character, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> ch : array) &#123;</span><br><span class="line">            map.put(ch, map.getOrDefault(ch, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        dfs(result, <span class="string">""</span>, root, map);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">TrieNode</span> </span>&#123;</span><br><span class="line">        <span class="keyword">char</span> val;</span><br><span class="line">        <span class="keyword">boolean</span> isWord;</span><br><span class="line">        HashMap&lt;Character, TrieNode&gt; children;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">TrieNode</span><span class="params">(<span class="keyword">char</span> val)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.val = val;</span><br><span class="line">            <span class="keyword">this</span>.isWord = <span class="keyword">false</span>;</span><br><span class="line">            <span class="keyword">this</span>.children = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> TrieNode <span class="title">buildTrieTree</span><span class="params">(String[] strs)</span> </span>&#123;</span><br><span class="line">        TrieNode root = <span class="keyword">new</span> TrieNode(<span class="string">' '</span>);</span><br><span class="line">        <span class="keyword">for</span> (String str : strs) &#123;</span><br><span class="line">            insertString(root, str);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">insertString</span><span class="params">(TrieNode root, String str)</span> </span>&#123;</span><br><span class="line">        TrieNode tmpNode = root;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> nodeValue : str.toCharArray()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (! tmpNode.children.containsKey(nodeValue)) &#123;</span><br><span class="line">                tmpNode.children.put(nodeValue, <span class="keyword">new</span> TrieNode(nodeValue));</span><br><span class="line">            &#125;</span><br><span class="line">            tmpNode = tmpNode.children.get(nodeValue);</span><br><span class="line">        &#125;</span><br><span class="line">        tmpNode.isWord = <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(ArrayList&lt;String&gt; result, String tmpPath, TrieNode root, HashMap&lt;Character, Integer&gt; map)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (root.isWord) &#123;</span><br><span class="line">            result.add(tmpPath);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> child : root.children.keySet()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (! map.containsKey(child)) <span class="keyword">continue</span>;</span><br><span class="line">            map.put(child, map.get(child) - <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span> (map.get(child) &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                dfs(result, tmpPath + child, root.children.get(child), map);</span><br><span class="line">            &#125;</span><br><span class="line">            map.put(child, map.get(child) + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">```    </span><br><span class="line">这里同时也给出一个对给定的<span class="keyword">char</span>数组可以组成的String集合做Trie tree的处理的实现方法。</span><br><span class="line">这里有两点需要注意：</span><br><span class="line"><span class="number">1</span>. 在Trie Tree中搜索String时临界点的处理；</span><br><span class="line"><span class="number">2</span>. 建Trie Tree时可以优化。</span><br><span class="line">注意：该方法不适合这道题目，只是作为参考。</span><br><span class="line"></span><br><span class="line">```<span class="function">Java</span><br><span class="line">    <span class="keyword">public</span> ArrayList&lt;String&gt; <span class="title">findCombination</span><span class="params">(<span class="keyword">char</span>[] array, String[] strs)</span> </span>&#123;</span><br><span class="line">        ArrayList&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        TrieNode root = buildTrie(array);</span><br><span class="line">        <span class="keyword">for</span> (String str : strs) &#123;</span><br><span class="line">            <span class="keyword">if</span> (searchString(root, str)) result.add(str);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">searchString</span><span class="params">(TrieNode root, String str)</span> </span>&#123;</span><br><span class="line">        TrieNode tmpNode = root;</span><br><span class="line">        <span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (tmpNode != <span class="keyword">null</span> &amp;&amp; index &lt; str.length()) &#123;</span><br><span class="line">            <span class="keyword">char</span> curChar = str.charAt(index ++);</span><br><span class="line">            tmpNode = tmpNode.children.get(curChar);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> index == str.length() &amp;&amp; tmpNode != <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">TrieNode</span> </span>&#123;</span><br><span class="line">        <span class="keyword">char</span> val;</span><br><span class="line">        HashMap&lt;Character, TrieNode&gt; children;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">TrieNode</span><span class="params">(<span class="keyword">char</span> val)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.val = val;</span><br><span class="line">            children = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> TrieNode <span class="title">buildTrie</span><span class="params">(<span class="keyword">char</span>[] array)</span> </span>&#123;</span><br><span class="line">        TrieNode root = <span class="keyword">new</span> TrieNode(<span class="string">' '</span>);</span><br><span class="line">        <span class="keyword">if</span> (array == <span class="keyword">null</span> || array.length == <span class="number">0</span>) <span class="keyword">return</span> root;</span><br><span class="line">        Arrays.sort(array);</span><br><span class="line">        dfs(array, <span class="keyword">new</span> <span class="keyword">boolean</span>[array.length], root);</span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">char</span>[] array, <span class="keyword">boolean</span>[] visited, TrieNode root)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.length; i ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (visited[i] == <span class="keyword">false</span>) &#123;</span><br><span class="line">                visited[i] = <span class="keyword">true</span>;</span><br><span class="line">                TrieNode child = <span class="keyword">new</span> TrieNode(array[i]);</span><br><span class="line">                root.children.put(array[i], child);</span><br><span class="line">                dfs(array, visited, child);</span><br><span class="line">                visited[i] = <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span> (i + <span class="number">1</span> &lt; array.length &amp;&amp; array[i] == array[i + <span class="number">1</span>] &amp;&amp; visited[i] == <span class="keyword">false</span>) i ++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="15-Detect-deadlock-in-log-file"><a href="#15-Detect-deadlock-in-log-file" class="headerlink" title="15. Detect deadlock in log file"></a>15. Detect deadlock in log file</h2><p>下面解法中的detect cycle不正确，应该是有两个set来做，参见11题。</p>
<p>Code<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">       <span class="keyword">int</span> program_id;</span><br><span class="line">       Set&lt;Node&gt; children;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">           <span class="keyword">this</span>.program_id = id;</span><br><span class="line">           <span class="keyword">this</span>.children = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="class"><span class="keyword">class</span> <span class="title">LogEntry</span> </span>&#123;</span><br><span class="line">       <span class="keyword">int</span> logId;</span><br><span class="line">       <span class="keyword">int</span> mutexId;</span><br><span class="line">       <span class="keyword">boolean</span> act;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="title">LogEntry</span><span class="params">(<span class="keyword">int</span> logId, <span class="keyword">int</span> mutexId, <span class="keyword">boolean</span> act)</span> </span>&#123;</span><br><span class="line">           <span class="keyword">this</span>.logId = logId;</span><br><span class="line">           <span class="keyword">this</span>.mutexId = mutexId;</span><br><span class="line">           <span class="keyword">this</span>.act = act;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       List&lt;LogEntry&gt; logs = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">       logs.add(<span class="keyword">new</span> LogEntry(<span class="number">1</span>,<span class="number">1</span>,<span class="keyword">true</span>));</span><br><span class="line">       logs.add(<span class="keyword">new</span> LogEntry(<span class="number">2</span>,<span class="number">2</span>,<span class="keyword">true</span>));</span><br><span class="line">       logs.add(<span class="keyword">new</span> LogEntry(<span class="number">3</span>,<span class="number">1</span>,<span class="keyword">true</span>));</span><br><span class="line">       logs.add(<span class="keyword">new</span> LogEntry(<span class="number">2</span>,<span class="number">1</span>,<span class="keyword">true</span>));</span><br><span class="line">       logs.add(<span class="keyword">new</span> LogEntry(<span class="number">1</span>,<span class="number">2</span>,<span class="keyword">true</span>));</span><br><span class="line">       logs.add(<span class="keyword">new</span> LogEntry(<span class="number">1</span>,<span class="number">1</span>,<span class="keyword">false</span>));</span><br><span class="line">       logs.add(<span class="keyword">new</span> LogEntry(<span class="number">3</span>,<span class="number">2</span>,<span class="keyword">true</span>));</span><br><span class="line">       <span class="keyword">int</span> res = detectDeadLock(logs);</span><br><span class="line">       System.out.print(res);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">detectDeadLock</span><span class="params">(List&lt;LogEntry&gt; logs)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (logs == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">       HashMap&lt;Integer, Node&gt; graph = <span class="keyword">new</span> HashMap&lt;Integer, Node&gt;();</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; logs.size(); i ++) &#123;</span><br><span class="line">           LogEntry log = logs.get(i);</span><br><span class="line">           Node parent = graph.containsKey(log.logId) ? graph.get(log.logId) : <span class="keyword">new</span> Node(log.logId);</span><br><span class="line">           graph.put(log.logId, parent);</span><br><span class="line">           <span class="keyword">if</span> (log.logId == log.mutexId) <span class="keyword">continue</span>;</span><br><span class="line">           Node child = graph.containsKey(log.mutexId) ? graph.get(log.mutexId) : <span class="keyword">new</span> Node(log.mutexId);</span><br><span class="line">           graph.put(log.mutexId, child);</span><br><span class="line">           <span class="keyword">if</span> (log.act == <span class="keyword">false</span>) &#123;</span><br><span class="line">               deleteEdge(parent, child);</span><br><span class="line">           &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">               addEdge(parent, child);</span><br><span class="line">               <span class="keyword">if</span> (containsCycle(parent, <span class="keyword">new</span> HashSet&lt;&gt;())) <span class="keyword">return</span> i + <span class="number">1</span>;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">deleteEdge</span><span class="params">(Node parent, Node child)</span> </span>&#123;</span><br><span class="line">       parent.children.remove(child);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">addEdge</span><span class="params">(Node parent, Node child)</span> </span>&#123;</span><br><span class="line">       parent.children.add(child);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">containsCycle</span><span class="params">(Node node, HashSet&lt;Node&gt; visited)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (!visited.add(node)) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">       <span class="keyword">for</span> (Node child : node.children) &#123;</span><br><span class="line">           <span class="keyword">if</span> (containsCycle(child, visited)) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="16-Big-Int"><a href="#16-Big-Int" class="headerlink" title="16. Big Int"></a>16. Big Int</h2><p>Update<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">BigInt</span> </span>&#123;</span><br><span class="line">        String val;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">BigInt</span><span class="params">(String v)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.val = v;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> BigInt <span class="title">add</span><span class="params">(BigInt other)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">int</span> aLen = <span class="keyword">this</span>.val.length();</span><br><span class="line">            <span class="keyword">int</span> bLen = other.val.length();</span><br><span class="line">            <span class="keyword">int</span> aIndex = <span class="keyword">this</span>.val.length() - <span class="number">1</span>, bIndex = other.val.length() - <span class="number">1</span>, carry = <span class="number">0</span>;</span><br><span class="line">            String result = <span class="string">""</span>;</span><br><span class="line">            <span class="keyword">while</span> (aIndex &gt;= <span class="number">0</span> || bIndex &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">int</span> tmpValue = carry;</span><br><span class="line">                <span class="keyword">if</span> (aIndex &gt;= <span class="number">0</span>) tmpValue += <span class="keyword">this</span>.val.charAt(aIndex) - <span class="string">'0'</span>;</span><br><span class="line">                <span class="keyword">if</span> (bIndex &gt;= <span class="number">0</span>) tmpValue += other.val.charAt(bIndex) - <span class="string">'0'</span>;</span><br><span class="line">                result = (tmpValue % <span class="number">10</span>) + result;</span><br><span class="line">                carry = tmpValue / <span class="number">10</span>;</span><br><span class="line">                aIndex--; bIndex --;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (carry != <span class="number">0</span>) result = carry + result;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> BigInt(result);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> BigInt <span class="title">multiply</span><span class="params">(BigInt other)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">int</span> aLen = <span class="keyword">this</span>.val.length(), bLen = other.val.length();</span><br><span class="line">            <span class="comment">// 999 * 99 = 98901</span></span><br><span class="line">            <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[aLen + bLen];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> aIndex = aLen - <span class="number">1</span>; aIndex &gt;= <span class="number">0</span>; aIndex --) &#123;</span><br><span class="line">                <span class="keyword">int</span> carry = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">int</span> aValue = <span class="keyword">this</span>.val.charAt(aIndex) - <span class="string">'0'</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> bIndex = bLen - <span class="number">1</span>; bIndex &gt;= <span class="number">0</span>; bIndex --) &#123;</span><br><span class="line">                    <span class="keyword">int</span> tmp = result[aIndex + bIndex + <span class="number">1</span>] + carry + aValue * (other.val.charAt(bIndex) - <span class="string">'0'</span>);</span><br><span class="line">                    result[aIndex + bIndex + <span class="number">1</span>] = tmp % <span class="number">10</span>;</span><br><span class="line">                    carry = tmp / <span class="number">10</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">int</span> shift = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">while</span> (carry != <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">int</span> tmp = result[aIndex - shift] + carry;</span><br><span class="line">                    result[aIndex - shift]  = tmp % <span class="number">10</span>;</span><br><span class="line">                    carry = tmp / <span class="number">10</span>;</span><br><span class="line">                    shift ++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            String resultStr = <span class="string">""</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> num : result) resultStr = resultStr + num;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> BigInt(resultStr);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">     <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        BigInt one = <span class="keyword">new</span> BigInt(<span class="string">"99"</span>);</span><br><span class="line">        BigInt two = <span class="keyword">new</span> BigInt(<span class="string">"9999"</span>);</span><br><span class="line">        BigInt three = one.multiply(two);</span><br><span class="line">        System.out.println(three.val);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       String[][] testCase = &#123;&#123;<span class="string">"0"</span>, <span class="string">"123"</span>&#125;, &#123;<span class="string">"987"</span>, <span class="string">"989"</span>&#125;, &#123;<span class="string">"9999"</span>, <span class="string">"1"</span>&#125;&#125;;</span><br><span class="line">       <span class="keyword">for</span> (String[] numbers : testCase) &#123;</span><br><span class="line">           String res = add(numbers[<span class="number">0</span>], numbers[<span class="number">1</span>]);</span><br><span class="line">           System.out.println(res);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> String <span class="title">add</span><span class="params">(String A, String B)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (A == <span class="keyword">null</span>) <span class="keyword">return</span> B;</span><br><span class="line">       <span class="keyword">if</span> (B == <span class="keyword">null</span>) <span class="keyword">return</span> A;</span><br><span class="line">       <span class="keyword">if</span> (A.length() &lt; B.length()) &#123;</span><br><span class="line">           String tmpStr = A;</span><br><span class="line">           A = B;</span><br><span class="line">           B = tmpStr;</span><br><span class="line">       &#125;</span><br><span class="line">       StringBuilder result = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">       <span class="keyword">int</span> carry = <span class="number">0</span>, pointA = A.length() - <span class="number">1</span>, pointB = B.length() - <span class="number">1</span>;</span><br><span class="line">       <span class="keyword">while</span> (pointA &gt;= <span class="number">0</span> || pointB &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">           <span class="keyword">if</span> (pointB &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">               <span class="keyword">int</span> value = A.charAt(pointA) - <span class="string">'0'</span> + B.charAt(pointB) - <span class="string">'0'</span> + carry;</span><br><span class="line">               result.insert(<span class="number">0</span>, value % <span class="number">10</span>);</span><br><span class="line">               carry = value / <span class="number">10</span>;</span><br><span class="line">           &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">               <span class="keyword">int</span> value = A.charAt(pointA) - <span class="string">'0'</span> + carry;</span><br><span class="line">               result.insert(<span class="number">0</span>, value % <span class="number">10</span>);</span><br><span class="line">               carry = value / <span class="number">10</span>;</span><br><span class="line">           &#125;</span><br><span class="line">           pointA --; pointB --;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">if</span> (carry != <span class="number">0</span>) result.insert(<span class="number">0</span>, carry);</span><br><span class="line">       <span class="keyword">return</span> result.toString();</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> String <span class="title">minus</span><span class="params">(String A, String B)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (A == <span class="keyword">null</span> || B == <span class="keyword">null</span> || A.length() == <span class="number">0</span> || B.length() == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">       <span class="keyword">int</span> compareTag = compareTwoNumbers(A, B);</span><br><span class="line">       <span class="keyword">if</span> (compareTag == <span class="number">0</span>) <span class="keyword">return</span> <span class="string">"0"</span>;</span><br><span class="line">       <span class="keyword">if</span> (compareTag == -<span class="number">1</span>) &#123;</span><br><span class="line">           String tmp = A;</span><br><span class="line">           A = B;</span><br><span class="line">           B = tmp;</span><br><span class="line">       &#125;</span><br><span class="line">       StringBuilder result = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">       <span class="keyword">int</span> indexA = A.length() - <span class="number">1</span>, indexB = B.length() - <span class="number">1</span>, carry = <span class="number">0</span>;</span><br><span class="line">       <span class="keyword">while</span> (indexA &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">           <span class="keyword">int</span> value = carry;</span><br><span class="line">           <span class="keyword">if</span> (indexB &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">               value += A.charAt(indexA) - <span class="string">'0'</span> - (B.charAt(indexB) - <span class="string">'0'</span>);</span><br><span class="line">           &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">               value += A.charAt(indexA) - <span class="string">'0'</span>;</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">if</span> (value &lt; <span class="number">0</span>) &#123;</span><br><span class="line">               value += <span class="number">10</span>;</span><br><span class="line">               carry = -<span class="number">1</span>;</span><br><span class="line">           &#125;</span><br><span class="line">           result.insert(<span class="number">0</span>, value);</span><br><span class="line">           indexA --; indexB --;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">int</span> zeroIndex = <span class="number">0</span>;</span><br><span class="line">       <span class="keyword">while</span> (zeroIndex &lt; result.length() - <span class="number">1</span> &amp;&amp; result.charAt(zeroIndex) == <span class="string">'0'</span>) zeroIndex ++;</span><br><span class="line">       <span class="keyword">return</span> (compareTag == -<span class="number">1</span> ? <span class="string">"-"</span> : <span class="string">""</span>) + result.toString().substring(zeroIndex);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> String <span class="title">multiply</span><span class="params">(String A, String B)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (A == <span class="keyword">null</span> || B == <span class="keyword">null</span> || A.length() == <span class="number">0</span> || B.length() == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">       <span class="keyword">int</span> lastIndexA = A.length() - <span class="number">1</span>, lastIndexB = B.length() - <span class="number">1</span>;</span><br><span class="line">       <span class="keyword">int</span> totalLen = lastIndexA + lastIndexB + <span class="number">2</span>;</span><br><span class="line">       <span class="keyword">int</span>[] resultInt = <span class="keyword">new</span> <span class="keyword">int</span>[totalLen];</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> indexA = lastIndexA; indexA &gt;= <span class="number">0</span>; indexA --) &#123;</span><br><span class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> indexB = lastIndexB; indexB &gt;= <span class="number">0</span>; indexB --) &#123;</span><br><span class="line">               <span class="keyword">int</span> curPosition = indexA + indexB + <span class="number">1</span>;</span><br><span class="line">               resultInt[curPosition] += (A.charAt(indexA) - <span class="string">'0'</span>) * (B.charAt(indexB) - <span class="string">'0'</span>);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       StringBuilder resultStr = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">       <span class="keyword">int</span> carry = <span class="number">0</span>;</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> tmpIndex = resultInt.length - <span class="number">1</span>; tmpIndex &gt;= <span class="number">0</span>; tmpIndex --) &#123;</span><br><span class="line">           <span class="keyword">int</span> value = resultInt[tmpIndex] + carry;</span><br><span class="line">           resultStr.insert(<span class="number">0</span>, value % <span class="number">10</span>);</span><br><span class="line">           carry = value / <span class="number">10</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">int</span> lastZeroIndex = <span class="number">0</span>;</span><br><span class="line">       <span class="keyword">while</span> (lastZeroIndex &lt; resultStr.length() - <span class="number">1</span> &amp;&amp; resultStr.charAt(lastZeroIndex) == <span class="string">'0'</span>) lastZeroIndex ++;</span><br><span class="line">       <span class="keyword">return</span> resultStr.toString().substring(lastZeroIndex);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h3 id="Follow-Up-with-negative-number"><a href="#Follow-Up-with-negative-number" class="headerlink" title="Follow Up: with negative number"></a>Follow Up: with negative number</h3><p>进行一系列的逻辑处理，比如<code>Add</code>中出现1个负数，就变换成<code>Minus</code>；如果出现两个负数，就变换成正数相加再在结果前加负号。</p>
<h3 id="Follow-Up-Big-Double"><a href="#Follow-Up-Big-Double" class="headerlink" title="Follow Up: Big Double"></a>Follow Up: Big Double</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> String <span class="title">bigDoubleAdd</span><span class="params">(String A, String B)</span> </span>&#123;</span><br><span class="line">        doubleAddCarry = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> dotIndexA = A.indexOf(<span class="string">"."</span>);</span><br><span class="line">        <span class="keyword">int</span> dotIndexB = B.indexOf(<span class="string">"."</span>);</span><br><span class="line">        String intA = dotIndexA == -<span class="number">1</span> ? A : A.substring(<span class="number">0</span>, dotIndexA);</span><br><span class="line">        String intB = dotIndexB == -<span class="number">1</span> ? B : B.substring(<span class="number">0</span>, dotIndexB);</span><br><span class="line">        String decimalA = dotIndexA == -<span class="number">1</span> ? <span class="string">""</span> : A.substring(dotIndexA + <span class="number">1</span>);</span><br><span class="line">        String decimalB = dotIndexB == -<span class="number">1</span> ? <span class="string">""</span> : B.substring(dotIndexB + <span class="number">1</span>);</span><br><span class="line">        String decimalSum = decimalAdd(decimalA, decimalB);</span><br><span class="line">        String intSum = intAdd(intA, intB);</span><br><span class="line">        <span class="keyword">return</span> intSum + (decimalSum == <span class="string">""</span> ? <span class="string">""</span> : (<span class="string">"."</span> + decimalSum));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> doubleAddCarry;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> String <span class="title">decimalAdd</span><span class="params">(String A, String B)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (A.length() == <span class="number">0</span>) <span class="keyword">return</span> B;</span><br><span class="line">        <span class="keyword">if</span> (B.length() == <span class="number">0</span>) <span class="keyword">return</span> A;</span><br><span class="line">        <span class="keyword">if</span> (A.length() &lt; B.length()) &#123;</span><br><span class="line">            String tmp = A;</span><br><span class="line">            A = B;</span><br><span class="line">            B = tmp;</span><br><span class="line">        &#125;</span><br><span class="line">        StringBuilder result = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">int</span> lenA = A.length() - <span class="number">1</span>, lenB = B.length() - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> indexA = lenA, indexB = lenB;</span><br><span class="line">        <span class="keyword">while</span> (indexA &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> value = A.charAt(indexA) - <span class="string">'0'</span> + doubleAddCarry;</span><br><span class="line">            <span class="keyword">if</span> (indexA &lt;= lenB) &#123;</span><br><span class="line">                value += B.charAt(indexB) - <span class="string">'0'</span>;</span><br><span class="line">                indexB --;</span><br><span class="line">            &#125;</span><br><span class="line">            result.insert(<span class="number">0</span>, value % <span class="number">10</span>);</span><br><span class="line">            doubleAddCarry = value / <span class="number">10</span>;</span><br><span class="line">            indexA --;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result.toString();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> String <span class="title">intAdd</span><span class="params">(String A, String B)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (A.length() == <span class="number">0</span>) <span class="keyword">return</span> B;</span><br><span class="line">        <span class="keyword">if</span> (B.length() == <span class="number">0</span>) <span class="keyword">return</span> A;</span><br><span class="line">        <span class="keyword">if</span> (A.length() &lt; B.length()) &#123;</span><br><span class="line">            String tmp = A;</span><br><span class="line">            A = B;</span><br><span class="line">            B = tmp;</span><br><span class="line">        &#125;</span><br><span class="line">        StringBuilder result = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">int</span> lenA = A.length(), lenB = B.length() - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> indexA = lenA - <span class="number">1</span>, indexB = lenB;</span><br><span class="line">        <span class="keyword">while</span> (indexA &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> value = A.charAt(indexA) - <span class="string">'0'</span> + doubleAddCarry;</span><br><span class="line">            <span class="keyword">if</span> (indexB &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                value += B.charAt(indexB) - <span class="string">'0'</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            result.insert(<span class="number">0</span>, value % <span class="number">10</span>);</span><br><span class="line">            doubleAddCarry = value / <span class="number">10</span>;</span><br><span class="line">            indexA --; indexB --;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (doubleAddCarry != <span class="number">0</span>) result.insert(<span class="number">0</span>, doubleAddCarry);</span><br><span class="line">        <span class="keyword">return</span> result.toString();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="17-SecretSanta"><a href="#17-SecretSanta" class="headerlink" title="17. SecretSanta"></a>17. SecretSanta</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String[][] testcases = &#123;&#123;<span class="string">"mary"</span>, <span class="string">"alice"</span>, <span class="string">"mike"</span>&#125;&#125;;</span><br><span class="line">        <span class="keyword">for</span> (String[] friends : testcases) &#123;</span><br><span class="line">            ArrayList&lt;ArrayList&lt;String&gt;&gt; result = giftExchange(friends);</span><br><span class="line">            System.out.println(<span class="string">"result is: "</span>);</span><br><span class="line">            <span class="keyword">for</span> (ArrayList&lt;String&gt; oneSolution : result) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">0</span>; index &lt; oneSolution.size(); index ++) &#123;</span><br><span class="line">                    System.out.print(friends[index] + <span class="string">" -&gt; "</span> + oneSolution.get(index) + <span class="string">"   "</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> ArrayList&lt;ArrayList&lt;String&gt;&gt; giftExchange(String[] friends) &#123;</span><br><span class="line">        ArrayList&lt;ArrayList&lt;String&gt;&gt; result = <span class="keyword">new</span> ArrayList&lt;ArrayList&lt;String&gt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (friends == <span class="keyword">null</span>) <span class="keyword">return</span> result;</span><br><span class="line">        backtracking(result, <span class="keyword">new</span> ArrayList&lt;String&gt;(), friends, <span class="keyword">new</span> <span class="keyword">boolean</span>[friends.length]);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtracking</span><span class="params">(ArrayList&lt;ArrayList&lt;String&gt;&gt; result, ArrayList&lt;String&gt; tmpResult, String[] friends, <span class="keyword">boolean</span>[] visited)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (tmpResult.size() == friends.length) &#123;</span><br><span class="line">            result.add(<span class="keyword">new</span> ArrayList&lt;&gt;(tmpResult));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; friends.length; i ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (! visited[i] &amp;&amp; tmpResult.size() != i) &#123;</span><br><span class="line">                tmpResult.add(friends[i]);</span><br><span class="line">                visited[i] = <span class="keyword">true</span>;</span><br><span class="line">                backtracking(result, tmpResult, friends, visited);</span><br><span class="line">                tmpResult.remove(tmpResult.size() - <span class="number">1</span>);</span><br><span class="line">                visited[i] = <span class="keyword">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h2 id="18-Permutation"><a href="#18-Permutation" class="headerlink" title="18. Permutation"></a>18. Permutation</h2><p>leetcode 46: <a href="https://leetcode.com/problems/permutations/" target="_blank" rel="external">https://leetcode.com/problems/permutations/</a><br>leetcode 46: comtains duplicate<br>以下是包含duplicate的解法。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">private List&lt;List&lt;Integer&gt;&gt; permute(int[] nums) &#123;</span><br><span class="line">       List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;List&lt;Integer&gt;&gt;();</span><br><span class="line">       Arrays.sort(nums);</span><br><span class="line">       backtracking(result, new ArrayList&lt;&gt;(), nums, new boolean[nums.length]);</span><br><span class="line">       return result;</span><br><span class="line">   &#125;</span><br><span class="line">   private void backtracking(List&lt;List&lt;Integer&gt;&gt; result, List&lt;Integer&gt; tmpResult, int[] nums, boolean[] visited) &#123;</span><br><span class="line">       if (tmpResult.size() == nums.length) &#123;</span><br><span class="line">           result.add(new ArrayList&lt;&gt;(tmpResult));</span><br><span class="line">           return;</span><br><span class="line">       &#125;</span><br><span class="line">       for (int i = 0; i &lt; nums.length; i ++) &#123;</span><br><span class="line">           if (! visited[i]) &#123;</span><br><span class="line">               visited[i] = true;</span><br><span class="line">               tmpResult.add(nums[i]);</span><br><span class="line">               backtracking(result, tmpResult, nums, visited);</span><br><span class="line">               visited[i] = false;</span><br><span class="line">               tmpResult.remove(tmpResult.size() - 1);</span><br><span class="line">               while (i + 1 &lt; nums.length &amp;&amp; nums[i] == nums[i + 1]) i ++;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="Follow-up-Next-Permutation"><a href="#Follow-up-Next-Permutation" class="headerlink" title="Follow up: Next Permutation"></a>Follow up: Next Permutation</h3><p>需要注意的是在两个<code>while</code>循环中临界值等于号的处理。相关的test case有：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[1,5,1], [5,1,1]</span><br></pre></td></tr></table></figure></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">nextPermutation</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length &lt; <span class="number">2</span>) <span class="keyword">return</span>;</span><br><span class="line">       <span class="keyword">int</span> index = nums.length - <span class="number">1</span>;</span><br><span class="line">       <span class="keyword">while</span> (index &gt; <span class="number">0</span> &amp;&amp; nums[index] &lt;= nums[index - <span class="number">1</span>]) index --;</span><br><span class="line">       <span class="keyword">if</span> (index == <span class="number">0</span>) &#123;</span><br><span class="line">           Arrays.sort(nums);</span><br><span class="line">       &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">           <span class="keyword">int</span> exchangeIndex = nums.length - <span class="number">1</span>;</span><br><span class="line">           <span class="keyword">while</span> (exchangeIndex &gt; index &amp;&amp; nums[exchangeIndex] &lt;= nums[index - <span class="number">1</span>]) exchangeIndex --;</span><br><span class="line">           <span class="keyword">int</span> tmp = nums[exchangeIndex];</span><br><span class="line">           nums[exchangeIndex] = nums[index - <span class="number">1</span>];</span><br><span class="line">           nums[index - <span class="number">1</span>] = tmp;</span><br><span class="line">           Arrays.sort(nums, index, nums.length);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h2 id="19-Game-of-Life"><a href="#19-Game-of-Life" class="headerlink" title="19. Game of Life"></a>19. Game of Life</h2><p>需要注意的是在判断邻居节点live的个数。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       <span class="keyword">int</span>[][] board = &#123;&#123;<span class="number">1</span>,<span class="number">1</span>&#125;, &#123;<span class="number">1</span>,<span class="number">0</span>&#125;&#125;;</span><br><span class="line">       gameOfLife(board);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">gameOfLife</span><span class="params">(<span class="keyword">int</span>[][] board)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (board == <span class="keyword">null</span> || board.length == <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">       <span class="keyword">int</span> row = board.length, col = board[<span class="number">0</span>].length;</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> rowIndex = <span class="number">0</span>; rowIndex &lt; row; rowIndex ++) &#123;</span><br><span class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> colIndex = <span class="number">0</span>; colIndex &lt; col; colIndex ++) &#123;</span><br><span class="line">               <span class="keyword">int</span> liveCount = <span class="number">0</span>;</span><br><span class="line">               <span class="keyword">for</span> (<span class="keyword">int</span> neighbourRowIndex = Math.max(<span class="number">0</span>, rowIndex - <span class="number">1</span>); neighbourRowIndex &lt;= Math.min(row - <span class="number">1</span>, rowIndex + <span class="number">1</span>); neighbourRowIndex ++) &#123;</span><br><span class="line">                   <span class="keyword">for</span> (<span class="keyword">int</span> neighbourColIndex = Math.max(<span class="number">0</span>, colIndex - <span class="number">1</span>); neighbourColIndex &lt;= Math.min(col - <span class="number">1</span>, colIndex + <span class="number">1</span>); neighbourColIndex ++) &#123;</span><br><span class="line">                       <span class="keyword">if</span> (neighbourRowIndex == rowIndex &amp;&amp; neighbourColIndex == colIndex) <span class="keyword">continue</span>;</span><br><span class="line">                       <span class="keyword">if</span> (board[neighbourRowIndex][neighbourColIndex] == <span class="number">1</span> || board[neighbourRowIndex][neighbourColIndex] == <span class="number">2</span>) liveCount ++;</span><br><span class="line">                   &#125;</span><br><span class="line">               &#125;</span><br><span class="line">               <span class="keyword">if</span> (board[rowIndex][colIndex] == <span class="number">1</span> &amp;&amp; (liveCount &lt; <span class="number">2</span> || liveCount &gt; <span class="number">3</span>)) board[rowIndex][colIndex] = <span class="number">2</span>;</span><br><span class="line">               <span class="keyword">else</span> <span class="keyword">if</span> (board[rowIndex][colIndex] == <span class="number">0</span> &amp;&amp; liveCount == <span class="number">3</span>) board[rowIndex][colIndex] = <span class="number">3</span>;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> rowIndex = <span class="number">0</span>; rowIndex &lt; row; rowIndex ++) &#123;</span><br><span class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> colIndex = <span class="number">0</span>; colIndex &lt; col; colIndex ++) &#123;</span><br><span class="line">               board[rowIndex][colIndex] &amp;= <span class="number">1</span>;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h3 id="Follow-Up-infinite-board"><a href="#Follow-Up-infinite-board" class="headerlink" title="Follow Up: infinite board"></a>Follow Up: infinite board</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">gameOfLifeInfinite</span><span class="params">(<span class="keyword">int</span>[][] board)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (board == <span class="keyword">null</span> || board.length == <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">       HashSet&lt;Cell&gt; live = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">       <span class="keyword">int</span> row = board.length, col = board[<span class="number">0</span>].length;</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; row; i ++) &#123;</span><br><span class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; col; j ++) &#123;</span><br><span class="line">               <span class="keyword">if</span> (board[i][j] == <span class="number">1</span>) live.add(<span class="keyword">new</span> Cell(i, j));</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       live = gameOfLife(live);</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; row; i ++) &#123;</span><br><span class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; col; j ++) &#123;</span><br><span class="line">               <span class="keyword">if</span> (live.contains(<span class="keyword">new</span> Cell(i, j))) board[i][j] = <span class="number">1</span>;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="class"><span class="keyword">class</span> <span class="title">Cell</span> </span>&#123;</span><br><span class="line">       <span class="keyword">int</span> x, y;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="title">Cell</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">           <span class="keyword">this</span>.x = x;</span><br><span class="line">           <span class="keyword">this</span>.y = y;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">           <span class="keyword">return</span> o <span class="keyword">instanceof</span> Cell &amp;&amp; ((Cell)o).x == <span class="keyword">this</span>.x &amp;&amp; ((Cell)o).y == <span class="keyword">this</span>.y;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">           <span class="keyword">int</span> hashCode = <span class="number">1</span>;</span><br><span class="line">           hashCode = hashCode * <span class="number">31</span> + <span class="keyword">this</span>.x;</span><br><span class="line">           hashCode = hashCode * <span class="number">31</span> + <span class="keyword">this</span>.y;</span><br><span class="line">           <span class="keyword">return</span> hashCode;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> HashSet&lt;Cell&gt; <span class="title">gameOfLife</span><span class="params">(HashSet&lt;Cell&gt; live)</span> </span>&#123;</span><br><span class="line">       HashMap&lt;Cell, Integer&gt; neighbours = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">       <span class="keyword">for</span> (Cell cell : live) &#123;</span><br><span class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> x = cell.x - <span class="number">1</span>; x &lt;= cell.x + <span class="number">1</span>; x ++) &#123;</span><br><span class="line">               <span class="keyword">for</span> (<span class="keyword">int</span> y = cell.y - <span class="number">1</span>; y &lt;= cell.y + <span class="number">1</span>; y ++) &#123;</span><br><span class="line">                   <span class="keyword">if</span> (x == cell.x &amp;&amp; y == cell.y) <span class="keyword">continue</span>;</span><br><span class="line">                   Cell neighbour = <span class="keyword">new</span> Cell(x, y);</span><br><span class="line">                   neighbours.put(neighbour, neighbours.getOrDefault(neighbour, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       HashSet&lt;Cell&gt; nextStates = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">       <span class="keyword">for</span> (Cell cell : neighbours.keySet()) &#123;</span><br><span class="line">           <span class="keyword">if</span> (neighbours.get(cell) == <span class="number">3</span> || (live.contains(cell) &amp;&amp; neighbours.get(cell) == <span class="number">2</span>)) nextStates.add(cell);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> nextStates;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h2 id="20-Trapping-Water-Problem"><a href="#20-Trapping-Water-Problem" class="headerlink" title="20. Trapping Water Problem"></a>20. Trapping Water Problem</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">trappingRainWater</span><span class="params">(<span class="keyword">int</span>[] heights)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (heights == <span class="keyword">null</span> || heights.length &lt; <span class="number">3</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> leftIndex=<span class="number">0</span>, rightIndex=heights.length-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> leftBounds = <span class="number">0</span>, rightBounds = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(leftIndex &lt;= rightIndex)&#123;</span><br><span class="line">            leftBounds = Math.max(leftBounds, heights[leftIndex]);</span><br><span class="line">            rightBounds = Math.max(rightBounds, heights[rightIndex]);</span><br><span class="line">            <span class="keyword">if</span>(leftBounds &lt; rightBounds)&#123;</span><br><span class="line">                result += leftBounds - heights[leftIndex];</span><br><span class="line">                leftIndex ++;</span><br><span class="line">            &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">                result += rightBounds - heights[rightIndex];</span><br><span class="line">                rightIndex --;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Algorithm/">Algorithm</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Algorithm-exercise" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/27/Algorithm-exercise/" class="article-date">
  	<time datetime="2015-10-27T22:06:30.000Z" itemprop="datePublished">2015-10-27</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/27/Algorithm-exercise/">Algorithm exercise</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="1-对角线打印矩阵"><a href="#1-对角线打印矩阵" class="headerlink" title="1. 对角线打印矩阵"></a>1. 对角线打印矩阵</h3><p>Input:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;1,2,3,4&#125;, &#123;5,6,7,8&#125;, &#123;9,10,11,12&#125;, &#123;13,14,15,16&#125;, &#123;17,18,19,20&#125;&#125;</span><br></pre></td></tr></table></figure></p>
<p>Output:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1  </span><br><span class="line">2  5  </span><br><span class="line">3  6  9  </span><br><span class="line">4  7  10  13  </span><br><span class="line">8  11  14  17  </span><br><span class="line">12  15  18  </span><br><span class="line">16  19  </span><br><span class="line">20</span><br></pre></td></tr></table></figure></p>
<p>Code<br>笔误： colIndex -&gt; rowIndex<br>边界条件应该是： colCount - 1</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">zagzigPrintMatrix</span><span class="params">(<span class="keyword">int</span>[][] matrix)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (matrix == <span class="keyword">null</span> || matrix.length == <span class="number">0</span> || matrix[<span class="number">0</span>].length == <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">int</span> rowCount = matrix.length, colCount = matrix[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">int</span> rowIndex = <span class="number">0</span>, colIndex = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(rowIndex &lt; rowCount &amp;&amp; colIndex &lt; colCount) &#123;</span><br><span class="line">            <span class="keyword">int</span> tmpRowIndex = rowIndex, tmpColIndex = colIndex;</span><br><span class="line">            <span class="keyword">while</span> (tmpRowIndex &lt; rowCount &amp;&amp; tmpColIndex &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">                System.out.print(matrix[tmpRowIndex ++][tmpColIndex --] + <span class="string">"  "</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">            <span class="keyword">if</span> (colIndex &lt; colCount - <span class="number">1</span>) &#123;</span><br><span class="line">                colIndex ++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                rowIndex ++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[][] matrix = &#123;&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;, &#123;<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>&#125;, &#123;<span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>,<span class="number">12</span>&#125;, &#123;<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>,<span class="number">16</span>&#125;,&#123;<span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>, <span class="number">20</span>&#125;&#125;;</span><br><span class="line">        zagzigPrintMatrix(matrix);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-Merge-K-Sorted-Lists"><a href="#2-Merge-K-Sorted-Lists" class="headerlink" title="2. Merge K Sorted Lists"></a>2. Merge K Sorted Lists</h3><p>经常漏<code>)</code>，因为一般网页版ide的自动补全优点问题；<br>在构造函数<code>Pair</code>中漏掉<code>int</code>。</p>
<p>Code</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Pair</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> val, row, col;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Pair</span><span class="params">(<span class="keyword">int</span> val, <span class="keyword">int</span> row, <span class="keyword">int</span> col)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.val = val;</span><br><span class="line">            <span class="keyword">this</span>.row = row;</span><br><span class="line">            <span class="keyword">this</span>.col = col;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;Integer&gt; <span class="title">mergeKSortedList</span><span class="params">(<span class="keyword">int</span>[][] lists)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; result = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">        <span class="keyword">if</span> (lists == <span class="keyword">null</span> || lists.length == <span class="number">0</span>) <span class="keyword">return</span> result;</span><br><span class="line">        PriorityQueue&lt;Pair&gt; queue = <span class="keyword">new</span> PriorityQueue&lt;Pair&gt;(<span class="keyword">new</span> Comparator&lt;Pair&gt;() &#123;</span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Pair p1, Pair p2)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> p1.val - p2.val;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> rowIndex = <span class="number">0</span>; rowIndex &lt; lists.length; rowIndex ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (lists[rowIndex].length == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">            queue.offer(<span class="keyword">new</span> Pair(lists[rowIndex][<span class="number">0</span>], rowIndex, <span class="number">0</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (! queue.isEmpty()) &#123;</span><br><span class="line">            Pair curPair = queue.poll();</span><br><span class="line">            result.add(curPair.val);</span><br><span class="line">            <span class="keyword">if</span> (curPair.col &lt; lists[curPair.row].length - <span class="number">1</span>) &#123;</span><br><span class="line">                queue.offer(<span class="keyword">new</span> Pair(lists[curPair.row][curPair.col + <span class="number">1</span>], curPair.row, curPair.col + <span class="number">1</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[][] lists = &#123;&#123;<span class="number">1</span>, <span class="number">9</span>&#125;, &#123;<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;, &#123;<span class="number">3</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">9</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>&#125;, &#123;<span class="number">11</span>&#125;&#125;;</span><br><span class="line">        List&lt;Integer&gt; result = mergeKSortedList(lists);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> num : result) &#123;</span><br><span class="line">            System.out.print(num + <span class="string">"  "</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       <span class="keyword">int</span>[][] lists = &#123;&#123;&#125;, &#123;<span class="number">1</span>&#125;, &#123;<span class="number">1</span>,<span class="number">2</span>&#125;, &#123;<span class="number">1</span>,<span class="number">2</span>&#125;, &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;, &#123;<span class="number">6</span>,<span class="number">7</span>&#125;&#125;;</span><br><span class="line">       Node[] headsList = constructListList(lists);</span><br><span class="line">       Node head = mergeKSortedList(headsList);</span><br><span class="line">       Node tmp = head;</span><br><span class="line">       <span class="keyword">while</span> (tmp != <span class="keyword">null</span>) &#123;</span><br><span class="line">           System.out.print(tmp.val + <span class="string">"  "</span>);</span><br><span class="line">           tmp = tmp.next;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">private</span> Node[] constructListList(<span class="keyword">int</span>[][] values) &#123;</span><br><span class="line">       <span class="keyword">if</span> (values == <span class="keyword">null</span> || values.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">       Node[] result = <span class="keyword">new</span> Node[values.length];</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; values.length; i ++) &#123;</span><br><span class="line">           result[i] = constructList(values[i]);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> result;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> Node <span class="title">constructList</span><span class="params">(<span class="keyword">int</span>[] values)</span> </span>&#123;</span><br><span class="line">       Node dummy = <span class="keyword">new</span> Node(<span class="number">0</span>);</span><br><span class="line">       Node pre = dummy;</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> val : values) &#123;</span><br><span class="line">           Node node = <span class="keyword">new</span> Node(val);</span><br><span class="line">           pre.next = node;</span><br><span class="line">           pre = pre.next;</span><br><span class="line">       &#125;</span><br><span class="line">       pre.next = <span class="keyword">null</span>;</span><br><span class="line">       <span class="keyword">return</span> dummy.next;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">       <span class="keyword">int</span> val;</span><br><span class="line">       Node next;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">           <span class="keyword">this</span>.val = val;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> Node <span class="title">mergeKSortedList</span><span class="params">(Node[] heads)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (heads == <span class="keyword">null</span> || heads.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">       PriorityQueue&lt;Node&gt; priorityQueue = <span class="keyword">new</span> PriorityQueue&lt;&gt;(<span class="keyword">new</span> Comparator&lt;Node&gt;() &#123;</span><br><span class="line">           <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Node nodeA, Node nodeB)</span> </span>&#123;</span><br><span class="line">               <span class="keyword">return</span> nodeA.val - nodeB.val;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;);</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; heads.length; i ++) &#123;</span><br><span class="line">           <span class="keyword">if</span> (heads[i] == <span class="keyword">null</span>) <span class="keyword">continue</span>;</span><br><span class="line">           priorityQueue.offer(heads[i]);</span><br><span class="line">       &#125;</span><br><span class="line">       Node dummy = <span class="keyword">new</span> Node(<span class="number">0</span>);</span><br><span class="line">       Node tmpNode = dummy;</span><br><span class="line">       <span class="keyword">while</span> (! priorityQueue.isEmpty()) &#123;</span><br><span class="line">           Node minValueNode = priorityQueue.poll();</span><br><span class="line">           tmpNode.next = minValueNode;</span><br><span class="line">           tmpNode = tmpNode.next;</span><br><span class="line">           minValueNode = minValueNode.next;</span><br><span class="line">           <span class="keyword">if</span> (minValueNode != <span class="keyword">null</span>) priorityQueue.offer(minValueNode);</span><br><span class="line">       &#125;</span><br><span class="line">       tmpNode.next = <span class="keyword">null</span>;</span><br><span class="line">       <span class="keyword">return</span> dummy.next;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-Valid-Sodoku"><a href="#3-Valid-Sodoku" class="headerlink" title="3. Valid Sodoku"></a>3. Valid Sodoku</h3><p>Code</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValidSodoku</span><span class="params">(<span class="keyword">char</span>[][] board)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (board == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">       <span class="keyword">int</span> row = board.length, col = board[<span class="number">0</span>].length;</span><br><span class="line">       <span class="keyword">if</span> (row != <span class="number">9</span> || col != <span class="number">9</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">       HashSet&lt;String&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> rowIndex = <span class="number">0</span>; rowIndex &lt; <span class="number">9</span>; rowIndex ++) &#123;</span><br><span class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> colIndex = <span class="number">0</span>; colIndex &lt; <span class="number">9</span>; colIndex ++) &#123;</span><br><span class="line">               <span class="keyword">if</span> (board[rowIndex][colIndex] == <span class="string">'.'</span>) <span class="keyword">continue</span>;</span><br><span class="line">               String value = <span class="string">"("</span> + board[rowIndex][colIndex] + <span class="string">")"</span>;</span><br><span class="line">               <span class="keyword">if</span> (!visited.add(rowIndex + value) || ! visited.add(value + colIndex) || ! visited.add(rowIndex / <span class="number">3</span> + value + colIndex / <span class="number">3</span>)) &#123;</span><br><span class="line">                   <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h3 id="4-添加-是整型数组的结果最大"><a href="#4-添加-是整型数组的结果最大" class="headerlink" title="4. 添加 + * () 是整型数组的结果最大"></a>4. 添加 + * () 是整型数组的结果最大</h3><p>Code</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">addOperatorToMaxResult</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> len = nums.length;</span><br><span class="line">        <span class="comment">// dp[endIndex][cutNumber] meas nums[0] ~ nums[endIndex] split into cutNumber parts, the maximum value</span></span><br><span class="line">        <span class="comment">// dp[endIndex][cutNumber] = Math.max(dp[endIndex][cutNumber], dp[tmpIndex][cutNumber - 1] * sum[tmpIndex + 1][endIndex])</span></span><br><span class="line">        <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[len + <span class="number">1</span>][len + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span>[] sum = <span class="keyword">new</span> <span class="keyword">int</span>[len + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">1</span>; index &lt;= len; index ++) &#123;</span><br><span class="line">            sum[index] = sum[index - <span class="number">1</span>] + nums[index - <span class="number">1</span>];</span><br><span class="line">            dp[index][<span class="number">1</span>] = sum[index];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> result = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> endIndex = <span class="number">2</span>; endIndex &lt;= len; endIndex ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> cutNumber = <span class="number">2</span>; cutNumber &lt;= endIndex; cutNumber ++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> lastPartStartIndex = cutNumber; lastPartStartIndex &lt;= endIndex; lastPartStartIndex ++) &#123;</span><br><span class="line">                    dp[endIndex][cutNumber] = Math.max(dp[endIndex][cutNumber], dp[lastPartStartIndex - <span class="number">1</span>][cutNumber - <span class="number">1</span>] * (sum[endIndex] - sum[lastPartStartIndex - <span class="number">1</span>]));</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (endIndex == len) &#123;</span><br><span class="line">                    result = Math.max(result, dp[endIndex][cutNumber]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">maxResultContainsNegative</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> len = nums.length;</span><br><span class="line">        <span class="keyword">int</span>[][] max = <span class="keyword">new</span> <span class="keyword">int</span>[len + <span class="number">1</span>][len + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span>[][] min = <span class="keyword">new</span> <span class="keyword">int</span>[len + <span class="number">1</span>][len + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span>[] sum = <span class="keyword">new</span> <span class="keyword">int</span>[len + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = <span class="number">1</span>; index &lt;= len; index ++) &#123;</span><br><span class="line">            sum[index] = sum[index - <span class="number">1</span>] + nums[index - <span class="number">1</span>];</span><br><span class="line">            max[index][<span class="number">1</span>] = sum[index];</span><br><span class="line">            min[index][<span class="number">1</span>] = sum[index];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> result = Integer.MIN_VALUE;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> endIndex = <span class="number">1</span>; endIndex &lt;= len; endIndex ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> partNumber = <span class="number">2</span>; partNumber &lt;= len; partNumber ++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> lastPartStartIndex = partNumber; lastPartStartIndex &lt;= endIndex; lastPartStartIndex ++) &#123;</span><br><span class="line">                    <span class="keyword">int</span> lastSum = sum[endIndex] - sum[lastPartStartIndex - <span class="number">1</span>];</span><br><span class="line">                    max[endIndex][partNumber] = Math.max(max[endIndex][partNumber], lastSum * (lastSum &gt; <span class="number">0</span> ? max[lastPartStartIndex - <span class="number">1</span>][partNumber - <span class="number">1</span>] : min[lastPartStartIndex - <span class="number">1</span>][partNumber - <span class="number">1</span>]));</span><br><span class="line">                    min[endIndex][partNumber] = Math.min(min[endIndex][partNumber], lastSum * (lastSum &gt; <span class="number">0</span> ? min[lastPartStartIndex - <span class="number">1</span>][partNumber - <span class="number">1</span>] : max[lastPartStartIndex - <span class="number">1</span>][partNumber - <span class="number">1</span>]));</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (endIndex == len) &#123;</span><br><span class="line">                    result = Math.max(result, max[endIndex][partNumber]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] nums = &#123;-<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;;</span><br><span class="line">        <span class="comment">// int res1 = addOperatorToMaxResult(nums);</span></span><br><span class="line">        <span class="keyword">int</span> res2 = maxResultContainsNegative(nums);</span><br><span class="line">        System.out.println(res2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;**</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] numbers = &#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>&#125;;</span><br><span class="line">        <span class="keyword">int</span> result = maximumResult(numbers);</span><br><span class="line">        System.out.println(result);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maximumResult</span><span class="params">(<span class="keyword">int</span>[] numbers)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (numbers == <span class="keyword">null</span> || numbers.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> length = numbers.length;</span><br><span class="line">        <span class="keyword">int</span>[] sum = <span class="keyword">new</span> <span class="keyword">int</span>[length + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[length + <span class="number">1</span>][length + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= length; i ++) &#123;</span><br><span class="line">            sum[i] = sum[i - <span class="number">1</span>] + numbers[i - <span class="number">1</span>];</span><br><span class="line">            dp[i][<span class="number">1</span>] = sum[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> result = dp[length][<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> tmpLen = <span class="number">2</span>; tmpLen &lt;= length; tmpLen ++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> partNumber = <span class="number">2</span>; partNumber &lt;= tmpLen; partNumber ++) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> lastPartStartIndex = partNumber; lastPartStartIndex &lt; tmpLen; lastPartStartIndex++) &#123;</span><br><span class="line"><span class="comment">//                    这里需要注意的是 dp[lastPartStartIndex - 1][partNumber - 1], lastPartStartIndex 该变量代表了前 lastPartStartIndex 个数字,因为所有坐标是从1开始的.</span></span><br><span class="line">                    dp[tmpLen][partNumber] = Math.max(dp[tmpLen][partNumber], dp[lastPartStartIndex - <span class="number">1</span>][partNumber - <span class="number">1</span>] * (sum[tmpLen] - sum[lastPartStartIndex - <span class="number">1</span>]));</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (tmpLen == length) &#123;</span><br><span class="line">                    result = Math.max(result, dp[tmpLen][partNumber]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-Find-Min-or-Target-in-Rotated-Array"><a href="#5-Find-Min-or-Target-in-Rotated-Array" class="headerlink" title="5. Find Min or Target in Rotated Array"></a>5. Find Min or Target in Rotated Array</h3><p>Code</p>
<p>在找min时：在求mid的时候, left + (right - left) / 2;<br>在找target时：深刻理解 target 和 nums[mid] 比较的原因！</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">findMinIndex</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (nums[left] &lt; nums[right]) &#123;</span><br><span class="line">                right = mid - <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (nums[mid] &gt; nums[right]) &#123;</span><br><span class="line">                    left = mid + <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    right = mid;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> left;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] nums = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">0</span>&#125;;</span><br><span class="line">        <span class="keyword">int</span> res = findMinIndex(nums);</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] nums = &#123;<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">9</span>&#125;;</span><br><span class="line"><span class="comment">//        int res = findMin(nums);</span></span><br><span class="line">        <span class="keyword">int</span> res = findTargetIndex(nums, <span class="number">10</span>);</span><br><span class="line">        System.out.println(res);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findMin</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">null</span> == nums || nums.length &lt; <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (nums[left] &gt; nums[right]) &#123;</span><br><span class="line">                <span class="keyword">if</span> (nums[mid] &gt; nums[right]) &#123;</span><br><span class="line">                    left = mid + <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    right = mid;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                right = mid - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums[left];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findMinContainsDuplicate</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (nums[left] &gt; nums[right]) &#123;</span><br><span class="line">                <span class="keyword">if</span> (nums[mid] &lt; nums[right]) &#123;</span><br><span class="line">                    right = mid;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    left = mid + <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[left] &lt; nums[right])&#123;</span><br><span class="line">                right = mid;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                right --;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums[left];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findTargetIndex</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (nums[mid] == target) <span class="keyword">return</span> mid;</span><br><span class="line">            <span class="keyword">if</span> (nums[mid] &gt; target) &#123;</span><br><span class="line">                <span class="keyword">if</span> (nums[left] &gt; nums[right] &amp;&amp; nums[mid] &gt; nums[right] &amp;&amp; target &lt;= nums[right]) &#123;</span><br><span class="line">                    left = mid + <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    right = mid - <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (nums[left] &gt; nums[right] &amp;&amp; nums[mid] &lt; nums[left] &amp;&amp; target &gt;= nums[left]) &#123;</span><br><span class="line">                    right = mid - <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    left = mid + <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums[left] == target ? left : -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="6-Frog-Jump"><a href="#6-Frog-Jump" class="headerlink" title="6. Frog Jump"></a>6. Frog Jump</h3><p>Code</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[][] testCases = &#123;&#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">12</span>,<span class="number">17</span>&#125;, &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">11</span>&#125;&#125;;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] stones : testCases) &#123;</span><br><span class="line">            <span class="keyword">boolean</span> result = canJumpToTheEnd(stones);</span><br><span class="line">            System.out.println(result);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canJumpToTheEnd</span><span class="params">(<span class="keyword">int</span>[] stones)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (stones == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        HashMap&lt;Integer, HashSet&lt;Integer&gt;&gt; nextPosition = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> position : stones) nextPosition.put(position, <span class="keyword">new</span> HashSet&lt;Integer&gt;());</span><br><span class="line">        nextPosition.get(<span class="number">0</span>).add(<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">int</span> destination = stones[stones.length - <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> pos : stones) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> step : nextPosition.get(pos)) &#123;</span><br><span class="line">                <span class="keyword">int</span> dest = pos + step;</span><br><span class="line">                <span class="keyword">if</span> (dest == destination) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                <span class="keyword">if</span> (nextPosition.containsKey(dest)) &#123;</span><br><span class="line">                    nextPosition.get(dest).add(step);</span><br><span class="line">                    nextPosition.get(dest).add(step + <span class="number">1</span>);</span><br><span class="line">                    <span class="keyword">if</span> (step &gt; <span class="number">1</span>) nextPosition.get(dest).add(step - <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-Course-Schedule-Two"><a href="#7-Course-Schedule-Two" class="headerlink" title="7. Course Schedule Two"></a>7. Course Schedule Two</h3><p>注意点：可能在输入的prerequisites数组中有重复的，所以在初始化map的时候需要检验是否已经录入改该prerequisite。</p>
<p>Code</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       <span class="keyword">int</span>[][] testCase1 = &#123;&#123;<span class="number">1</span>,<span class="number">0</span>&#125;, &#123;<span class="number">2</span>,<span class="number">0</span>&#125;,&#123;<span class="number">3</span>,<span class="number">1</span>&#125;,&#123;<span class="number">3</span>,<span class="number">2</span>&#125;&#125;;</span><br><span class="line">       <span class="keyword">int</span>[][] testCase2 = &#123;&#123;<span class="number">5</span>,<span class="number">8</span>&#125;, &#123;<span class="number">3</span>,<span class="number">5</span>&#125;,&#123;<span class="number">1</span>,<span class="number">9</span>&#125;,&#123;<span class="number">4</span>,<span class="number">5</span>&#125;,&#123;<span class="number">0</span>,<span class="number">2</span>&#125;,&#123;<span class="number">1</span>,<span class="number">9</span>&#125;,&#123;<span class="number">7</span>,<span class="number">8</span>&#125;,&#123;<span class="number">4</span>,<span class="number">9</span>&#125;&#125;;</span><br><span class="line">       <span class="keyword">int</span>[] result = findOrder(<span class="number">10</span>, testCase2);</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i : result) &#123;</span><br><span class="line">           System.out.println(i);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">int</span>[] findOrder(<span class="keyword">int</span> numCourses, <span class="keyword">int</span>[][] prerequisites) &#123;</span><br><span class="line">       <span class="keyword">int</span>[] indegree = <span class="keyword">new</span> <span class="keyword">int</span>[numCourses];</span><br><span class="line">       HashMap&lt;Integer, HashSet&lt;Integer&gt;&gt; prerequisiteMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numCourses; i ++) &#123;</span><br><span class="line">           prerequisiteMap.put(i, <span class="keyword">new</span> HashSet&lt;&gt;());</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span>[] prerequisite : prerequisites) &#123;</span><br><span class="line">           <span class="keyword">if</span>(prerequisiteMap.get(prerequisite[<span class="number">1</span>]).add(prerequisite[<span class="number">0</span>])) &#123;</span><br><span class="line">               indegree[prerequisite[<span class="number">0</span>]] ++;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[numCourses];</span><br><span class="line">       <span class="keyword">int</span> resultIndex = <span class="number">0</span>;</span><br><span class="line">       Queue&lt;Integer&gt; nextScheduledCourse = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numCourses; i ++) &#123;</span><br><span class="line">           <span class="keyword">if</span> (indegree[i] == <span class="number">0</span>) nextScheduledCourse.add(i);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">while</span> (! nextScheduledCourse.isEmpty()) &#123;</span><br><span class="line">           <span class="keyword">int</span> size = nextScheduledCourse.size();</span><br><span class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i ++) &#123;</span><br><span class="line">               <span class="keyword">int</span> prerequisiteCouse = nextScheduledCourse.poll();</span><br><span class="line">               result[resultIndex ++] = prerequisiteCouse;</span><br><span class="line">               <span class="keyword">for</span> (<span class="keyword">int</span> nextCourse : prerequisiteMap.get(prerequisiteCouse)) &#123;</span><br><span class="line">                   indegree[nextCourse] --;</span><br><span class="line">                   <span class="keyword">if</span> (indegree[nextCourse] == <span class="number">0</span>) &#123;</span><br><span class="line">                       nextScheduledCourse.offer(nextCourse);</span><br><span class="line">                   &#125;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> resultIndex == numCourses ? result : <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">0</span>];</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h3 id="8-Restore-IP-Address"><a href="#8-Restore-IP-Address" class="headerlink" title="8. Restore IP Address"></a>8. Restore IP Address</h3><p>用四重循环方法做的时候需要注意循环边界条件：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">restoreIpAddresses</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">        <span class="keyword">if</span> (s == <span class="keyword">null</span> || s.length() &lt; <span class="number">4</span> || s.length() &gt; <span class="number">12</span>) <span class="keyword">return</span> result;</span><br><span class="line">        <span class="keyword">int</span> len = s.length();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> firstEnd = <span class="number">0</span>; firstEnd &lt; <span class="number">3</span> &amp;&amp; firstEnd &lt; len - <span class="number">3</span>; firstEnd ++) &#123;</span><br><span class="line">            String first = s.substring(<span class="number">0</span>, firstEnd + <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span> (Integer.valueOf(first) &gt; <span class="number">255</span> || (first.length() &gt; <span class="number">1</span> &amp;&amp; first.charAt(<span class="number">0</span>) == <span class="string">'0'</span>)) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> secondEnd = firstEnd + <span class="number">1</span>; secondEnd &lt;= firstEnd + <span class="number">3</span> &amp;&amp; secondEnd &lt; len - <span class="number">2</span>; secondEnd ++) &#123;</span><br><span class="line">                String second = s.substring(firstEnd + <span class="number">1</span>, secondEnd + <span class="number">1</span>);</span><br><span class="line">                <span class="comment">// System.out.println(second);</span></span><br><span class="line">                <span class="keyword">if</span> (Integer.valueOf(second) &gt; <span class="number">255</span> || (second.length() &gt; <span class="number">1</span> &amp;&amp; second.charAt(<span class="number">0</span>) == <span class="string">'0'</span>)) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> thirdEnd = secondEnd + <span class="number">1</span>; thirdEnd &lt;= secondEnd + <span class="number">3</span> &amp;&amp; thirdEnd &lt; len - <span class="number">1</span>; thirdEnd ++) &#123;</span><br><span class="line">                    String third = s.substring(secondEnd + <span class="number">1</span>, thirdEnd + <span class="number">1</span>);</span><br><span class="line">                    <span class="keyword">if</span> (Integer.valueOf(third) &gt; <span class="number">255</span> || (third.length() &gt; <span class="number">1</span> &amp;&amp; third.charAt(<span class="number">0</span>) == <span class="string">'0'</span>)) <span class="keyword">continue</span>;</span><br><span class="line">                    String fourth = s.substring(thirdEnd + <span class="number">1</span>);</span><br><span class="line">                    <span class="keyword">if</span> (Integer.valueOf(fourth) &gt; <span class="number">255</span> || (fourth.length() &gt; <span class="number">1</span> &amp;&amp; fourth.charAt(<span class="number">0</span>) == <span class="string">'0'</span>)) <span class="keyword">continue</span>;</span><br><span class="line">                    result.add(first + <span class="string">"."</span> + second + <span class="string">"."</span> + third + <span class="string">"."</span> + fourth);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String[] ips = &#123;<span class="string">"255255255255"</span>, <span class="string">"25525511135"</span>&#125;;</span><br><span class="line">        <span class="keyword">for</span> (String ip : ips) &#123;</span><br><span class="line">            ArrayList&lt;String&gt; resultSol1 = restoreIP(ip);</span><br><span class="line">            ArrayList&lt;String&gt; resultSol2 = restoreIPSolutionTwo(ip);</span><br><span class="line">            System.out.println(<span class="string">"result is"</span>);</span><br><span class="line">            <span class="keyword">for</span> (String res : resultSol2) &#123;</span><br><span class="line">                System.out.print(res + <span class="string">"   "</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ArrayList&lt;String&gt; <span class="title">restoreIP</span><span class="params">(String ip)</span> </span>&#123;</span><br><span class="line">        ArrayList&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (ip.length() &gt; <span class="number">12</span> || ip.length() &lt; <span class="number">4</span>) <span class="keyword">return</span> result;</span><br><span class="line">        dfs(result, <span class="keyword">new</span> ArrayList&lt;&gt;(), ip, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(ArrayList&lt;String&gt; result, ArrayList&lt;String&gt; tmp, String ip, <span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (index == <span class="number">4</span> &amp;&amp; ip.length() == <span class="number">0</span>) &#123;</span><br><span class="line">            result.add(String.join(<span class="string">"."</span>, tmp));</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">3</span> &amp;&amp; i &lt;= ip.length(); i ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i &gt; <span class="number">1</span> &amp;&amp; ip.charAt(<span class="number">0</span>) == <span class="string">'0'</span>) <span class="keyword">break</span>;</span><br><span class="line">            String curPart = ip.substring(<span class="number">0</span>, i);</span><br><span class="line">            <span class="keyword">if</span> (Integer.valueOf(curPart) &gt; <span class="number">255</span>) <span class="keyword">break</span>;</span><br><span class="line">            tmp.add(ip.substring(<span class="number">0</span>, i));</span><br><span class="line">            dfs(result, tmp, ip.substring(i), index + <span class="number">1</span>);</span><br><span class="line">            tmp.remove(tmp.size() - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> ArrayList&lt;String&gt; <span class="title">restoreIPSolutionTwo</span><span class="params">(String ip)</span> </span>&#123;</span><br><span class="line">        ArrayList&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> ipLen = ip.length();</span><br><span class="line">        <span class="keyword">if</span> (ipLen &gt; <span class="number">12</span> || ipLen &lt; <span class="number">4</span>) <span class="keyword">return</span> result;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> firstEndIndex = <span class="number">1</span>; firstEndIndex &lt; <span class="number">4</span> &amp;&amp; firstEndIndex &lt; ipLen - <span class="number">2</span>; firstEndIndex ++) &#123;</span><br><span class="line">            String firstPart = ip.substring(<span class="number">0</span>, firstEndIndex);</span><br><span class="line">            <span class="keyword">if</span> (! isValid(firstPart)) <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> secondEndIndex = firstEndIndex + <span class="number">1</span>; secondEndIndex &lt; firstEndIndex + <span class="number">4</span> &amp;&amp; secondEndIndex &lt; ipLen - <span class="number">1</span>; secondEndIndex ++) &#123;</span><br><span class="line">                String secondPart = ip.substring(firstEndIndex, secondEndIndex);</span><br><span class="line">                <span class="keyword">if</span> (! isValid(secondPart)) <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> thirdEndIndex = secondEndIndex + <span class="number">1</span>; thirdEndIndex &lt; secondEndIndex + <span class="number">4</span> &amp;&amp; thirdEndIndex &lt; ipLen; thirdEndIndex ++) &#123;</span><br><span class="line">                    String thirdPart = ip.substring(secondEndIndex, thirdEndIndex);</span><br><span class="line">                    <span class="keyword">if</span> (! isValid(thirdPart)) <span class="keyword">break</span>;</span><br><span class="line">                    String fourthPart = ip.substring(thirdEndIndex);</span><br><span class="line">                    <span class="keyword">if</span> (isValid(fourthPart)) &#123;</span><br><span class="line">                        result.add(firstPart + <span class="string">"."</span> + secondPart + <span class="string">"."</span> + thirdPart + <span class="string">"."</span> + fourthPart);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isValid</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> ((s.length() &gt; <span class="number">1</span> &amp;&amp; s.charAt(<span class="number">0</span>) == <span class="string">'0'</span>) || Integer.valueOf(s) &gt; <span class="number">255</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h3 id="9-XML-Parser"><a href="#9-XML-Parser" class="headerlink" title="9. XML Parser"></a>9. XML Parser</h3><p>最后直接返回root就可以了，而不必返回stack.peek()，事实上这样也会出错。</p>
<p>Code</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       ArrayList&lt;String&gt; input = <span class="keyword">new</span> ArrayList&lt;&gt;(Arrays.asList(<span class="string">"open,story"</span>,</span><br><span class="line">               <span class="string">"open,id"</span>,</span><br><span class="line">               <span class="string">"inner,1234"</span>,</span><br><span class="line">               <span class="string">"close,id"</span>,</span><br><span class="line">               <span class="string">"open,snaps"</span>,</span><br><span class="line">               <span class="string">"open,snap"</span>,</span><br><span class="line">               <span class="string">"close,snap"</span>,</span><br><span class="line">               <span class="string">"open,snap"</span>,</span><br><span class="line">               <span class="string">"close,snap"</span>,</span><br><span class="line">               <span class="string">"open,snap"</span>,</span><br><span class="line">               <span class="string">"close,snap"</span>,</span><br><span class="line">               <span class="string">"open,snap"</span>,</span><br><span class="line">               <span class="string">"close,snap"</span>,</span><br><span class="line">               <span class="string">"close,snaps"</span>,</span><br><span class="line">               <span class="string">"close,story"</span>));</span><br><span class="line">       XMLNode root = parser(input);</span><br><span class="line">       print(root, <span class="number">0</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">(XMLNode root, <span class="keyword">int</span> level)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (root == <span class="keyword">null</span>) <span class="keyword">return</span>;</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; level; i ++) System.out.print(<span class="string">" "</span>);</span><br><span class="line">       <span class="keyword">if</span> (root.children.size() == <span class="number">0</span>) &#123;</span><br><span class="line">           System.out.println(<span class="string">"&lt;"</span> + root.tagName + <span class="string">"&gt;"</span> + root.value + <span class="string">"&lt;/"</span> + root.tagName + <span class="string">"&gt;"</span>);</span><br><span class="line">       &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">           System.out.println(<span class="string">"&lt;"</span> + root.tagName + <span class="string">"&gt;"</span>);</span><br><span class="line">           <span class="keyword">for</span> (XMLNode child : root.children) &#123;</span><br><span class="line">               print(child, level + <span class="number">1</span>);</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; level; i ++) System.out.print(<span class="string">" "</span>);</span><br><span class="line">           System.out.println(<span class="string">"&lt;/"</span> + root.tagName + <span class="string">"&gt;"</span>);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="class"><span class="keyword">class</span> <span class="title">XMLNode</span> </span>&#123;</span><br><span class="line">       String type;</span><br><span class="line">       String tagName;</span><br><span class="line">       String value = <span class="string">""</span>;</span><br><span class="line">       ArrayList&lt;XMLNode&gt; children;</span><br><span class="line">       <span class="function"><span class="keyword">public</span> <span class="title">XMLNode</span><span class="params">(String type)</span> </span>&#123;</span><br><span class="line">           <span class="keyword">this</span>.type = type;</span><br><span class="line">           <span class="keyword">this</span>.children = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> XMLNode <span class="title">parser</span><span class="params">(ArrayList&lt;String&gt; input)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (input == <span class="keyword">null</span> || input.size() == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">       Stack&lt;XMLNode&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">       String[] firstNodeValues = input.get(<span class="number">0</span>).split(<span class="string">","</span>);</span><br><span class="line">       XMLNode root = <span class="keyword">new</span> XMLNode(firstNodeValues[<span class="number">0</span>]);</span><br><span class="line">       root.tagName = firstNodeValues[<span class="number">1</span>];</span><br><span class="line">       stack.push(root);</span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; input.size(); i ++) &#123;</span><br><span class="line">           String str = input.get(i);</span><br><span class="line">           String[] strs = str.split(<span class="string">","</span>);</span><br><span class="line">           <span class="keyword">if</span> (strs[<span class="number">0</span>].equals(<span class="string">"inner"</span>)) &#123;</span><br><span class="line">               stack.peek().value = strs[<span class="number">1</span>];</span><br><span class="line">           &#125; <span class="keyword">else</span> <span class="keyword">if</span> (strs[<span class="number">0</span>].equals(<span class="string">"open"</span>)) &#123;</span><br><span class="line">               XMLNode node = <span class="keyword">new</span> XMLNode(strs[<span class="number">0</span>]);</span><br><span class="line">               node.tagName = strs[<span class="number">1</span>];</span><br><span class="line">               <span class="keyword">if</span> (! stack.isEmpty()) &#123;</span><br><span class="line">                   stack.peek().children.add(node);</span><br><span class="line">               &#125;</span><br><span class="line">               stack.push(node);</span><br><span class="line">           &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">               stack.pop();</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> root;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<h3 id="10-24-Game"><a href="#10-24-Game" class="headerlink" title="10. 24 Game"></a>10. 24 Game</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[][] nums = &#123;&#123;<span class="number">1</span>,<span class="number">4</span>,<span class="number">5</span>, <span class="number">9</span>&#125;, &#123;<span class="number">4</span>,<span class="number">1</span>,<span class="number">5</span>,<span class="number">6</span>&#125;, &#123;<span class="number">2</span>,<span class="number">3</span>,<span class="number">10</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">8</span>&#125;, &#123;<span class="number">4</span>,<span class="number">2</span>,<span class="number">8</span>,<span class="number">9</span>&#125;, &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;&#125;;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] num : nums) &#123;</span><br><span class="line">            <span class="keyword">boolean</span> result = gameSolution(num);</span><br><span class="line">            System.out.println(<span class="string">"result is:  "</span> + result);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">gameSolution</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        Arrays.sort(nums);</span><br><span class="line">        <span class="keyword">return</span> computerValue(nums, <span class="keyword">new</span> ArrayList&lt;&gt;(), <span class="keyword">new</span> <span class="keyword">boolean</span>[nums.length]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">computerValue</span><span class="params">(<span class="keyword">int</span>[] nums, ArrayList&lt;Integer&gt; reorderedNumbers, <span class="keyword">boolean</span>[] visited)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (reorderedNumbers.size() == nums.length) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> value : generatePartValue(reorderedNumbers, <span class="number">0</span>, nums.length - <span class="number">1</span>)) &#123;</span><br><span class="line">                <span class="keyword">if</span> (value == <span class="number">24</span>) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i ++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (visited[i] || i &gt; <span class="number">0</span> &amp;&amp; nums[i] == nums[i - <span class="number">1</span>] &amp;&amp; !visited[i - <span class="number">1</span>]) <span class="keyword">continue</span>;</span><br><span class="line">            visited[i] = <span class="keyword">true</span>;</span><br><span class="line">            reorderedNumbers.add(nums[i]);</span><br><span class="line">            <span class="keyword">if</span> (computerValue(nums, reorderedNumbers, visited)) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            reorderedNumbers.remove(reorderedNumbers.size() - <span class="number">1</span>);</span><br><span class="line">            visited[i] = <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> HashSet&lt;Integer&gt; <span class="title">generatePartValue</span><span class="params">(ArrayList&lt;Integer&gt; nums, <span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">        HashSet&lt;Integer&gt; result = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (start == end) &#123;</span><br><span class="line">            result.add(nums.get(start));</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> index = start; index &lt; end; index ++) &#123;</span><br><span class="line">            HashSet&lt;Integer&gt; lefts = generatePartValue(nums, start, index);</span><br><span class="line">            HashSet&lt;Integer&gt; rights = generatePartValue(nums, index + <span class="number">1</span>, end);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> left : lefts) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> right : rights) &#123;</span><br><span class="line">                    result.add(left + right);</span><br><span class="line">                    result.add(left - right);</span><br><span class="line">                    result.add(left * right);</span><br><span class="line">                    <span class="keyword">if</span> (right != <span class="number">0</span>) result.add(left / right);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Algorithm/">Algorithm</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-IOS开发笔记（Bug篇）" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/26/IOS开发笔记（Bug篇）/" class="article-date">
  	<time datetime="2015-10-27T04:17:12.000Z" itemprop="datePublished">2015-10-26</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/26/IOS开发笔记（Bug篇）/">IOS开发笔记（大小坑篇）</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>下面列举了一些很弱智但是曾经耗费debug时间大于30分钟的一些ios开发中的大小坑。</p>
<p><strong>buttonWithType:  </strong></p>
<p>之前基本都是storyboard布局，少数动态添加UIButton时也没有注意这个参数。但是今天在添加一个按钮的时候颜色总是会变成纯色，然后第一反应是去images.xcassets中去找图片、重新做图，试了两遍还是有问题，然后就回返代码中找错，最后发现这个是由于Button类型没选对。代码前后对比如下：</p>
<p>UIButton *sinaShareButton = [UIButton buttonWithType:UIButtonTypeSystem];</p>
<p>UIButton *sinaShareButton = [UIButton buttonWithType:UIButtonTypeCustom];</p>
<p>前后对应效果如下图：</p>
<p><a href="http://pengfeixing.com/wp-content/uploads/2015/10/buttonTypeError.png" target="_blank" rel="external"><img src="http://pengfeixing.com/wp-content/uploads/2015/10/buttonTypeError-164x300.png" alt="buttonTypeError"></a> <a href="http://pengfeixing.com/wp-content/uploads/2015/10/buttonTypeCorrect.png" target="_blank" rel="external"><img src="http://pengfeixing.com/wp-content/uploads/2015/10/buttonTypeCorrect-164x300.png" alt="buttonTypeCorrect"></a></p>
<p>原因如下：blablabla（占位符）</p>
<p>被这种弱智bug折腾实在有点坑爹啊，感觉自学在没成才之前就成仁了。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/IOS/">IOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Mobile/">Mobile</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/4/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/6/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 Pengfei Xing
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>