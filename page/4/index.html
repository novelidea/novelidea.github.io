<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>邢鹏飞的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="邢鹏飞的博客">
<meta property="og:url" content="http://yoursite.com/page/4/index.html">
<meta property="og:site_name" content="邢鹏飞的博客">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="邢鹏飞的博客">
<meta name="twitter:description">
  
    <link rel="alternative" href="/atom.xml" title="邢鹏飞的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="https://scontent-lax3-1.xx.fbcdn.net/hphotos-xaf1/v/t1.0-9/13015683_1735336710075080_3719248814767112109_n.jpg?oh=55422f70edcaba4fbfecf1107cdbcecc&amp;oe=577C7D07" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Pengfei Xing</a></h1>
		</hgroup>

		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>Menu</li>
						<li>Tags</li>
						
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">文章</a></li>
				        
							<li><a href="/tags/Mobile">移动开发</a></li>
				        
							<li><a href="/tags/FullStack">全栈</a></li>
				        
							<li><a href="/tags/System">系统</a></li>
				        
							<li><a href="/tags/algorithm">算法</a></li>
				        
							<li><a href="/tags/Diary">随笔</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/novelidea" title="github">github</a>
					        
								<a class="linkedin" target="_blank" href="https://www.linkedin.com/in/pengfei-xing-65886578" title="linkedin">linkedin</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Algorithm/" style="font-size: 16px;">Algorithm</a> <a href="/tags/Android/" style="font-size: 12px;">Android</a> <a href="/tags/Backend/" style="font-size: 14px;">Backend</a> <a href="/tags/Cheet-Sheet/" style="font-size: 10px;">Cheet Sheet</a> <a href="/tags/Diary/" style="font-size: 10px;">Diary</a> <a href="/tags/FullStack/" style="font-size: 16px;">FullStack</a> <a href="/tags/Game/" style="font-size: 10px;">Game</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/IOS/" style="font-size: 18px;">IOS</a> <a href="/tags/Java/" style="font-size: 12px;">Java</a> <a href="/tags/Mobile/" style="font-size: 20px;">Mobile</a> <a href="/tags/MongoDB/" style="font-size: 10px;">MongoDB</a> <a href="/tags/OOD/" style="font-size: 10px;">OOD</a> <a href="/tags/RESTful/" style="font-size: 10px;">RESTful</a> <a href="/tags/Scrappy/" style="font-size: 10px;">Scrappy</a> <a href="/tags/SpriteKit/" style="font-size: 12px;">SpriteKit</a> <a href="/tags/System/" style="font-size: 10px;">System</a> <a href="/tags/Unity/" style="font-size: 10px;">Unity</a> <a href="/tags/WatchOS/" style="font-size: 10px;">WatchOS</a> <a href="/tags/系统/" style="font-size: 10px;">系统</a>
					</div>
				</section>
				
				
				

				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Pengfei Xing</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
			
				<img lazy-src="https://scontent-lax3-1.xx.fbcdn.net/hphotos-xaf1/v/t1.0-9/13015683_1735336710075080_3719248814767112109_n.jpg?oh=55422f70edcaba4fbfecf1107cdbcecc&amp;oe=577C7D07" class="js-avatar">
			
			</div>
			<hgroup>
			  <h1 class="header-author">Pengfei Xing</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">文章</a></li>
		        
					<li><a href="/tags/Mobile">移动开发</a></li>
		        
					<li><a href="/tags/FullStack">全栈</a></li>
		        
					<li><a href="/tags/System">系统</a></li>
		        
					<li><a href="/tags/algorithm">算法</a></li>
		        
					<li><a href="/tags/Diary">随笔</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/novelidea" title="github">github</a>
			        
						<a class="linkedin" target="_blank" href="https://www.linkedin.com/in/pengfei-xing-65886578" title="linkedin">linkedin</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
  
    <article id="post-Watch-OS学习笔记" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/12/Watch-OS学习笔记/" class="article-date">
  	<time datetime="2015-11-12T23:23:18.000Z" itemprop="datePublished">2015-11-12</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/12/Watch-OS学习笔记/">WatchOS学习笔记</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>1.UIImage</p>
<p>设置图片的时候尽量使用setImageNamed，而不是setImageData和setImage，主要原因是第一种方法提前将图片加载到watchKit App Target中去了，而后两种方法的图片在watchKit Extension中，运行时需将图片资源加载到watchKit App Target中，会造成传输中的延迟，影响用户体验。但是在一开始导入图片的时候，如果选择setImageNamed方法，则需要将图片同时加到watchKit App Target和watchKit Extension中，不同于后两种方法，只需要将图片直接加到watchKit Extension即可。这里是用空间换取时间。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Mobile/">Mobile</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/WatchOS/">WatchOS</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-IOS学习笔记" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/07/IOS学习笔记/" class="article-date">
  	<time datetime="2015-11-07T18:48:48.000Z" itemprop="datePublished">2015-11-07</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/07/IOS学习笔记/">IOS学习笔记（零碎笔记）</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>1.block</p>
<hr>
<p>&nbsp;</p>
<p>block定义：</p>
<p>(returnType)(^blockName)(parameterTypes) = ^(parameters) {</p>
<p>statements</p>
<p>};</p>
<p>该block类型为：(returnType)(^)()</p>
<p>定义block快捷键：inline+enter</p>
<p>定义类型为block的属性语法：</p>
<p>@property (nonatomic, strong) void(^myBlock)(NSString *str) ;</p>
<p>注意点1:由于block是c语言的语法，所以在写block参数属性的时候不同于一般oc定义语法；</p>
<p>注意点2:block名称（myBlock）一定要放在(^)中，不能写成void(^)(NSString *str) myBlock（但是在方法中可以这样定义）;</p>
<p>&nbsp;</p>
<p>2.UILabel</p>
<hr>
<p>&nbsp;</p>
<p>若果label多行显示内容，即不限制行数，则要设置</p>
<p>numberOfLines = 0;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/IOS/">IOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Mobile/">Mobile</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-IOS开发笔记（代码块篇）" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/05/IOS开发笔记（代码块篇）/" class="article-date">
  	<time datetime="2015-11-06T05:37:19.000Z" itemprop="datePublished">2015-11-05</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/05/IOS开发笔记（代码块篇）/">IOS开发笔记（代码块篇）</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>1. when informing delegation object to run optional delegate method</p>
<p>在通知代理对象处理optional代理方法的时候需要判断该代理对象是否实现了该optional delgate method，因为如果直接通知代理对象去执行该对象未实现的代理方法，程序会奔溃。代码块如下：</p>
<p>if([self.delegate respondsToSelector:@selector(blogViewDidClickLikeButton)]){</p>
<p>[self.delegate blogViewDidClickLikeButton];</p>
<p>}</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/IOS/">IOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Mobile/">Mobile</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-IOS规范总结" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/05/IOS规范总结/" class="article-date">
  	<time datetime="2015-11-06T05:10:10.000Z" itemprop="datePublished">2015-11-05</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/05/IOS规范总结/">IOS规范总结</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>命名</strong></p>
<hr>
<p>&nbsp;</p>
<p><strong>1. 协议及协议方法命名：</strong></p>
<ol>
<li>协议名称：类名＋Delegate</li>
<li>协议方法：类名（不包括类前缀）＋方法描述<br>例子：</li>
</ol>
<p>在一个名叫XPFBlogView（XPF是项目前缀）中定义一个处理该view中一个按钮（like button）点击事件（didClick）的协议，则命名如下：</p>
<p>@protocol XPFBlogViewDelegate &lt;NSObject&gt;</p>
<p>-(void)blogViewDidClickLikeButton:(XPFBlogView *)blogView;</p>
<p>@end</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/IOS/">IOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Mobile/">Mobile</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-IOS开发笔记（Bug篇）" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/26/IOS开发笔记（Bug篇）/" class="article-date">
  	<time datetime="2015-10-27T04:17:12.000Z" itemprop="datePublished">2015-10-26</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/26/IOS开发笔记（Bug篇）/">IOS开发笔记（大小坑篇）</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>下面列举了一些很弱智但是曾经耗费debug时间大于30分钟的一些ios开发中的大小坑。</p>
<p><strong>buttonWithType:  </strong></p>
<p>之前基本都是storyboard布局，少数动态添加UIButton时也没有注意这个参数。但是今天在添加一个按钮的时候颜色总是会变成纯色，然后第一反应是去images.xcassets中去找图片、重新做图，试了两遍还是有问题，然后就回返代码中找错，最后发现这个是由于Button类型没选对。代码前后对比如下：</p>
<p>UIButton *sinaShareButton = [UIButton buttonWithType:UIButtonTypeSystem];</p>
<p>UIButton *sinaShareButton = [UIButton buttonWithType:UIButtonTypeCustom];</p>
<p>前后对应效果如下图：</p>
<p><a href="http://pengfeixing.com/wp-content/uploads/2015/10/buttonTypeError.png" target="_blank" rel="external"><img src="http://pengfeixing.com/wp-content/uploads/2015/10/buttonTypeError-164x300.png" alt="buttonTypeError"></a> <a href="http://pengfeixing.com/wp-content/uploads/2015/10/buttonTypeCorrect.png" target="_blank" rel="external"><img src="http://pengfeixing.com/wp-content/uploads/2015/10/buttonTypeCorrect-164x300.png" alt="buttonTypeCorrect"></a></p>
<p>原因如下：blablabla（占位符）</p>
<p>被这种弱智bug折腾实在有点坑爹啊，感觉自学在没成才之前就成仁了。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/IOS/">IOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Mobile/">Mobile</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Git-Cheat-Sheet" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/26/Git-Cheat-Sheet/" class="article-date">
  	<time datetime="2015-10-27T02:39:23.000Z" itemprop="datePublished">2015-10-26</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/26/Git-Cheat-Sheet/">git cheat sheet</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Add files from working directory to stage(index):</strong></p>
<p>git add filename</p>
<p>git add -A</p>
<p>git add .</p>
<p>&nbsp;</p>
<p><strong>get branch from github</strong></p>
<p>git clone -b branchname git@github.com:username/projectname.git</p>
<p>or</p>
<p>git clone -b branchname <a href="http://git@github.com:username/projectname.git" target="_blank" rel="external">http://git@github.com:username/projectname.git</a></p>
<p>&nbsp;</p>
<p><strong>push file</strong></p>
<p>push filename origin branchname</p>
<p>&nbsp;</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/FullStack/">FullStack</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Git/">Git</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-IOS开发笔记（第三方框架篇）" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/24/IOS开发笔记（第三方框架篇）/" class="article-date">
  	<time datetime="2015-10-24T20:02:32.000Z" itemprop="datePublished">2015-10-24</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/24/IOS开发笔记（第三方框架篇）/">IOS 开发笔记（第三方框架篇）</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>&nbsp;</p>
<p><strong>SDWebImage(<a href="https://github.com/rs/SDWebImage" target="_blank" rel="external">https://github.com/rs/SDWebImage</a>)</strong></p>
<p>该框架在处理网络请求图片优势非常明显，但是本地缓存的图片会吞噬大量内存，所以用该框架的时候，一定要在AppDelegate中实现applicationDidReceiveMemoryWarning的代理。主要是停止图片的下载＋清空缓存。</p>
<p>[[SDWebImageManager sharedManager] cancelAll];</p>
<p>[[SDWebImageManager sharedManager].imageCache clearMemory];</p>
<p>&nbsp;</p>
<p><strong>AFNetworking (<a href="https://github.com/AFNetworking/AFNetworking" target="_blank" rel="external">https://github.com/AFNetworking/AFNetworking</a>)</strong></p>
<p>该框架提供了很多网络请求的API。有一点需要注意的是，在用</p>
<p>[AFHTTPRequestOperationManager manager]管理请求的时候，有时会遇到如下error(点击查看大图):</p>
<p><a href="http://pengfeixing.com/wp-content/uploads/2015/10/AFNetworkingError1.jpg" target="_blank" rel="external"><img src="http://pengfeixing.com/wp-content/uploads/2015/10/AFNetworkingError1-300x101.jpg" alt="AFNetworkingError"></a></p>
<p>&nbsp;</p>
<p>该图是以向新浪微博请求OAuth授权请求获取token时的报错，主要原因是新浪服务器响应请求的响应头中content-type为text/plain，而该框架不支持该类型，所有我们需要做一些修改。修改只需要找到AFURLResponseSerialization.m文件，在init方法中添加支持的content-type。修改后截图如下（点击查看大图）：</p>
<p>&nbsp;</p>
<p><a href="http://pengfeixing.com/wp-content/uploads/2015/10/textPlainError2.jpg" target="_blank" rel="external"><img src="http://pengfeixing.com/wp-content/uploads/2015/10/textPlainError2-300x47.jpg" alt="textPlainError2"></a></p>
<p>&nbsp;</p>
<p><strong>MJExtension (<a href="https://github.com/CoderMJLee/MJExtension" target="_blank" rel="external">https://github.com/CoderMJLee/MJExtension</a>)</strong></p>
<p>该框架主要实现字典快速转模型，可通过如下函数实现</p>
<ul>
<li>(NSMutableArray <em>)objectArrayWithKeyValuesArray:(NSArray </em>)keyValuesArray;</li>
</ul>
<p>但是在用该方法快速实现字典转模型A的时候，如果该字典中含有子字典需要转换成对应的模型B，则需要在模型A的的定义中遵守&lt;MJKeyValue&gt;协议，然后实现以下方法：</p>
<ul>
<li>(NSDictionary *)objectClassInArray;</li>
</ul>
<p>&nbsp;</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/IOS/">IOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Mobile/">Mobile</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-introduction-to-bloom-filter" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/18/introduction-to-bloom-filter/" class="article-date">
  	<time datetime="2015-10-18T22:02:37.000Z" itemprop="datePublished">2015-10-18</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/18/introduction-to-bloom-filter/">analysis to bloom filter</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>BRIEF INTRODUCTION</strong></p>
<p>Bloom filter is a space efficient algorithm that can judge whether a record exists in a given record set. For example, FBI needs to judge whether a man is on the list of suspects; typing system needs to judge whether the word we are typing is correct - by computing that whether that word is in the word dictionary; email service provider, such as google, needs to judge whether a email is a spam mail - by recording the email sender who has been reported by others to send spam emails before.</p>
<p>Take filtering spam mail as an example, indeed, many other machine learning algorithms can be used in this aspect, but all these methods need to deep into the email content, which may cost a lot of time and memory space. Also, others may come with that hash function that can handle searching &amp; matching problems. We can build a blacklist of spam email sender and hash every email address in the set to a value. Then we can run in constant time to judge whether an email is spam email. However, hash method isn’t ‘space efficient’, which means it will need lots of memory to handle this problem considering the large amount of spam mail sender in the world. For example, if we assume there are 5 billion spam mail senders in the world and the space utility rate is 50% and each email address takes 8 Bytes. Then we can calculate the amount of the memory using hash function to handle this problem as follows:</p>
<p>[latex]5{\times}{10^9}{\times}8{\div}50{\%}Bytes=8{\times}{10^{10}}Bytes=745GB[/latex]</p>
<p>Actually, normal server doesn’t have such larger memory. Thus, it’s insane to apply hash method to this problem.</p>
<p>An alternative method or a method that can be combined with those machine learning methods is bloom filter, which is proposed by Burton Howard Bloom in 1970. It can be described as follows:</p>
<ol>
<li>Initialize a bit array [latex]M[/latex] with length <strong><em>m </em></strong>and set all the values to 0;</li>
<li>Build <strong><em>k</em></strong> hash functions;</li>
<li>Hash every record in the input set <strong><em>S</em></strong> for <strong><em>k</em></strong> times and we can get <strong><em>k</em></strong> values which represent <strong><em>k</em></strong> positions (p1, p2, p3,…, pk) of the bit array;</li>
<li><p>Set M[p1], M[p2], M[p3],…, M[pk] to 1.<br>Then, we finish building a bloom filter. And given a record, we can easily judge whether the record is in the set <strong><em>S </em></strong>as follows:</p>
</li>
<li><p>Hash the given record using the k hash functions and get <strong><em>k</em></strong> values V(v1, v2, v3,…, vk);</p>
</li>
<li>if for each M[vi] == 1 where vi belongs to V, then we can say this record is highly possibly in set <strong><em>S</em></strong>. Otherwise, we can say that this record is definitely not in set <strong><em>S</em></strong>.<br>Every coin has two sides. Bloom filter can judge whether a record is not in a given set or a record is <strong>highly possibly</strong> in a give set. That is why the False Negative of this algorithm is equal to zero, but the False Positive is not. We now analyse how to minimise the False Negative by choosing the appropriate value of  <em><strong>k</strong></em>.</li>
</ol>
<p><strong>MATHEMATIC ANALYSIS</strong></p>
<p>We assume we are given a bit array M of which length is m and the number of the set is n. Now after each hashing, the possibility of the value of a chosen position of M is still 0 is</p>
<p>[latex]1-\frac{1}{m}[/latex]</p>
<p>and after we hash one record for k times, the possibility of that is</p>
<p><a href="1-\frac{1}{m}">latex</a>^k[/latex]</p>
<p>and when we finish the initialization of bloom filter, the possibility changes to</p>
<p><a href="1-\frac{1}{m}">latex</a>^{kn}[/latex]</p>
<p>未完待续……</p>
<p>&nbsp;</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Algorithm/">Algorithm</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/3/">&laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 Pengfei Xing
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>