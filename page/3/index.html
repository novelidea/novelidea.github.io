<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>邢鹏飞的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="邢鹏飞的博客">
<meta property="og:url" content="http://yoursite.com/page/3/index.html">
<meta property="og:site_name" content="邢鹏飞的博客">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="邢鹏飞的博客">
<meta name="twitter:description">
  
    <link rel="alternative" href="/atom.xml" title="邢鹏飞的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="null" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Pengfei Xing</a></h1>
		</hgroup>

		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>Menu</li>
						<li>Tags</li>
						
						<li>Links</li>
						
						
						<li>About</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/novelidea" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://weibo.com/2878470034/profile" title="weibo">weibo</a>
					        
								<a class="mail" target="_blank" href="/novelidea1992@gmail.com" title="mail">mail</a>
					        
								<a class="linkedin" target="_blank" href="https://www.linkedin.com/in/pengfei-xing-65886578" title="linkedin">linkedin</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/algorithm/" style="font-size: 10px;">algorithm</a> <a href="/tags/bloom-filter/" style="font-size: 10px;">bloom filter</a> <a href="/tags/computer-science/" style="font-size: 10px;">computer science</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">奥巴马的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">卡卡的美丽传说</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">本泽马的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">吉格斯的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">习大大大不同</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">托蒂的博客</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">我是谁，我从哪里来，我到哪里去？我就是我，是颜色不一样的吃货…</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Pengfei Xing</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
			
				<img lazy-src="null" class="js-avatar">
			
			</div>
			<hgroup>
			  <h1 class="header-author">Pengfei Xing</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/novelidea" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/2878470034/profile" title="weibo">weibo</a>
			        
						<a class="mail" target="_blank" href="/novelidea1992@gmail.com" title="mail">mail</a>
			        
						<a class="linkedin" target="_blank" href="https://www.linkedin.com/in/pengfei-xing-65886578" title="linkedin">linkedin</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
  
    <article id="post-shuffling-algorithm" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/02/13/shuffling-algorithm/" class="article-date">
  	<time datetime="2016-02-14T00:49:28.000Z" itemprop="datePublished">2016-02-13</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/02/13/shuffling-algorithm/">Shuffling Algorithm</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>洗牌算法是一个比较经典的算法，主要讨论如何随机生成一副牌。第一次遇见是2013年春腾讯一面的时候，当时妥妥跪了，题目都没听懂，第二次遇见是大三上系统结构课，最后讲到了洗牌算法。比较经典详细的算法解释参见<span style="color: #3366ff;"><a href="https://en.wikipedia.org/wiki/Fisher–Yates_shuffle" target="_blank" rel="external">维基百科</a></span>。这里主要讨论一种流行的简化版本。</p>
<h2 id="设计实现"><a href="#设计实现" class="headerlink" title="设计实现"></a>设计实现</h2><p>主要思路是从扑克的最后一张开始，假设下标为 i，然后从在区间[0, i - 1]中生成随机数j，交换下标为i，j所对应的元素。如此从最后一张循环操作到第二张（到第一张时可以跳出循环）。</p>
<p>C++代码如下:</p>
<p><pre class="lang:default decode:true "># include &lt;iostream&gt;</pre></p>
<h1 id="define-CARDNUM-52"><a href="#define-CARDNUM-52" class="headerlink" title="define CARDNUM 52"></a>define CARDNUM 52</h1><p>using namespace std;</p>
<p>class Shuffling{<br>public:<br>    int<em> shuffle(){<br>        int</em> cards = new int[CARDNUM];<br>        int index = 0;<br>        for(int i = 1; i &lt;= 13; i ++){<br>            for(int j = 0; j &lt; 4; j ++){<br>                cards[index ++] = i;<br>            }<br>        }<br>        for(int i = CARDNUM - 1; i &gt;= 1; i –){<br>            int j = rand() % i;<br>            swap(cards, i, j);<br>        }<br>        return cards;<br>    }</p>
<pre><code>void swap(int arr[], int a, int b){
    int tmp = arr[a];
    arr[a] = arr[b];
    arr[b] = tmp;
}
</code></pre><p>};</p>
<p>int main() {<br>    Shuffling action = Shuffling();<br>    int* a = action.shuffle();<br>    for(int i = 0; i &lt; CARDNUM; i ++){<br>        cout&lt;&lt;a[i]&lt;&lt;endl;<br>    }<br>    return 0;<br>}<br><br>Java代码如下：</p>
<p><pre class="lang:java decode:true ">public int[] shuffle(int max){<br>        Random rand = new Random();<br>        int[] cards = new int[max];<br>        for(int i = 0; i &lt; max; i ++){<br>            cards[i] = i;<br>        }<br>        for(int i = max - 1; i &gt; 0; i –){<br>            int exchange = rand.nextInt(i);<br>            int tmp = cards[i];<br>            cards[i] = cards[exchange];<br>            cards[exchange] = tmp;<br>        }<br>        return cards;<br>    }</pre><br>其中，这里需要注意的是，Java中如果要生成区间[min, max]之间的随机数，则是：</p>
<p><pre class="lang:default decode:true ">rand.nextInt(max - min + 1) + min;</pre><br>&nbsp;</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/算法/">算法</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Scrappy安装注意事项" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/02/07/Scrappy安装注意事项/" class="article-date">
  	<time datetime="2016-02-08T01:14:05.000Z" itemprop="datePublished">2016-02-07</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/02/07/Scrappy安装注意事项/">Scrappy 安装注意事项</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>安装时报错为：</p>
<p><pre class="lang:default decode:true ">ImportError: cannot import name xmlrpc client</pre><br>解决方法：</p>
<p><pre class="lang:default decode:true  ">sudo rm -rf /Library/Python/2.7/site-packages/six<em><br>sudo rm -rf /System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/six</em><br>sudo pip install six</pre></p>
<p>scrapy crawl huawei</p>
<p>docker: Cannot connect to the Docker daemon. Is the docker daemon running on this host?.<br>See ‘docker run –help’.</p>
<p>eval “$(docker-machine env default)”<br>&nbsp;</p>
<p>&nbsp;</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/general-tech/">general tech</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-unity-3d-note" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/02/02/unity-3d-note/" class="article-date">
  	<time datetime="2016-02-02T18:27:39.000Z" itemprop="datePublished">2016-02-02</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/02/02/unity-3d-note/">Unity 3D Note</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>change size</p>
<pre class="lang:c# decode:true ">void OnTriggerEnter(Collider other) 
    {
        if (other.gameObject.CompareTag("Diamond")){
            other.gameObject.SetActive (false);

            Color newColor = new Color( Random.value, Random.value, Random.value, 1.0f );
            // apply it on current object's material
            GetComponent&lt;Renderer&gt;().material.color = Color.green;

            transform.localScale -= new Vector3(0.4F, 0.4F, 0.4F);
        }

    }</pre>
rotate
<pre class="lang:c# decode:true ">void Update () {
        transform.Rotate (new Vector3 (0, 90, 0) * Time.deltaTime / 4);
    }</pre>
moving forward and backward
<pre class="lang:c# decode:true ">public class moveForwardAndBackward : MonoBehaviour {

    Vector3 origin;
    float distance = 6;
    float speed = 0.3f;

    void Start(){
        origin = transform.position;
    }

    void Update () {
        transform.position = origin + (transform.forward*(Mathf.PingPong(Time.time*distance*speed + (distance*speed/2), distance*2)-distance));
    }

}</pre>
触发某事件从而使另外一个物体消失
<pre class="lang:c# decode:true  ">if (other.gameObject.CompareTag ("CaveGround")) {
            GameObject arrow = GameObject.FindGameObjectWithTag("CaveArrow");
            arrow.SetActive(false);
}</pre>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/general-tech/">general tech</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-python-note" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/25/python-note/" class="article-date">
  	<time datetime="2016-01-25T20:38:18.000Z" itemprop="datePublished">2016-01-25</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/25/python-note/">Python Note</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><pre class="lang:python decode:true" title="exception">try:<br>    fh = open(‘nonexistentfile.txt’)<br>except IOError as e:<br>    print(‘error is: ({})’.format(e))</pre><br>taken</p>
<p><pre class="lang:python decode:true " title="if-else">def main():<br>    a, b = 1, 5<br>    print(“a less than b”) if a &lt; b else print(“a more than b”)</pre></p>
<p>if <strong>name</strong> == ‘<strong>main</strong>‘:<br>    main()<br>taken</p>
<p><pre class="">class Egg:<br>    def <strong>init</strong>(self, kind = “fried”):<br>        self.kind = kind</pre></p>
<pre><code>def whatKind(self):
    return self.kind
</code></pre><p>def main():<br>    fried = Egg()<br>    scrambled = Egg(“scrambled”)<br>    print(fried.whatKind())<br>    print(scrambled.whatKind())</p>
<p>if <strong>name</strong> == ‘<strong>main</strong>‘:<br>    main();<br>taken</p>
<p><pre class="">def main():<br>    number1 = 5 / 2<br>    number2 = 5 // 2<br>    number3 = round(5 / 2)<br>    number4 = round(5 / 2, 2)<br>    number5 = int(42.9)<br>    number6 = float(42)</pre><br>taken</p>
<p><pre class="lang:python decode:true" title="string">def main():<br>    s1 = “this is \na string”<br>    s2 = r”this is a \nraw string”<br>    s3 = ‘’’\<br>    this is a line<br>        string test<br>    end<br>    ‘’’</pre><br>taken</p>
<p><pre class="lang:python decode:true " title="tuple &amp; list &amp; string &amp; dictionary">def main():<br>    a = (1,2,3)   #tuple immutable<br>    for i in a:<br>        print(i)</pre></p>
<pre><code>b = [1,2,3]   #list mutable
b.append(4)
b.insert(0,1)
c = &apos;string&apos;
print(c[2:4])
for i in c:
    print(i)
d = {&apos;one&apos; : 1, &apos;two&apos; : 2, &apos;three&apos; : 3}
for k in d:
    print(k, d[k])
</code></pre><p>   for k in sorted(d.keys()):<br>        print(k, d[k])<br>taken</p>
<p><pre class="lang:python decode:true " title="dict">def main():<br>    choices = dict(<br>        one = ‘first’,<br>        two = ‘seconde’,<br>        three = ‘third’<br>    )<br>    v = ‘five’<br>    print(choices.get(v, ‘other’))</pre></p>
<p>if <strong>name</strong> == ‘<strong>main</strong>‘:<br>    main()<br>taken</p>
<p><pre class="lang:python decode:true " title="enumerate">def main():<br>    s = ‘this is a string’<br>    for i, c in enumerate(s):<br>        print(i, c)</pre></p>
<p>if <strong>name</strong> == ‘<strong>main</strong>‘:<br>    main()<br>&nbsp;</p>
<p>taken</p>
<p><pre class="lang:python decode:true " title="binary output">def b(n):print(‘{:08b}’.format(n))</pre></p>
<p>b(5)<br>taken</p>
<p><pre class="lang:python decode:true " title="comparison">a, b = 3, 3<br>print(a == b)<br>print(a is b)</pre></p>
<p>a, b = [3] , [3]<br>print(a == b)<br>print(a is b)    #False<br>taken</p>
<p>range in Python is noninclusive and list is inclusive</p>
<p><pre class="">def main():<br>    testfunc(42)</pre></p>
<p>def testfunc(number, another = None, onemore = 75):<br>    if another == None:<br>        another = 44<br>    print(‘this is a test function’, number, another, onemore)</p>
<p>if <strong>name</strong> == ‘<strong>main</strong>‘:<br>    main()<br>taken</p>
<p><pre class="">class Duck:<br>    def <strong>init</strong>(self, **kwargs):<br>        self.variables = kwargs</pre></p>
<pre><code>def quark(self):
    print(&quot;quark&quot;)

def walk(self):
    print(&quot;walk&quot;)

def set_variables(self, v, k):
    self.variables[v] = k

def get_variables(self, k):
    return self.variables.get(k, None)
</code></pre><p>def main():<br>    donald = Duck(feet = 2)<br>    print(donald.get_variables(‘feet’))<br>    print(donald.get_variables(‘head’))</p>
<pre><code>donald.set_variables(&apos;color&apos;, &apos;blue&apos;)
print(donald.get_variables(&apos;color&apos;))
</code></pre><p>if <strong>name</strong> == ‘<strong>main</strong>‘:<br>    main()<br>taken</p>
<p><pre class="lang:python decode:true " title="list operation">list = [1,2,3,4,5]<br>list.insert(0,0)<br>list.remove(1)<br>del list[2]<br>list.pop(3)</pre><br>&nbsp;</p>
<p>&nbsp;</p>
<p>taken</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/general-tech/">general tech</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-presentation-link-week-one" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/20/presentation-link-week-one/" class="article-date">
  	<time datetime="2016-01-20T19:16:54.000Z" itemprop="datePublished">2016-01-20</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/20/presentation-link-week-one/">Presentation Link (week one)</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Week 1:</strong></p>
<p><strong>Team Member:</strong></p>
<p>Pengfei Xing</p>
<p>Yizhao He</p>
<p>Ying Yu</p>
<p>Chi Zhang</p>
<p>Dong Chen</p>
<p>Jianing Liu</p>
<p><strong>Similar Game:</strong></p>
<p><a href="https://www.youtube.com/watch?v=Ik5imOLWHls" target="_blank" rel="external">https://www.youtube.com/watch?v=Ik5imOLWHls</a></p>
<p><strong>Developing Tools</strong></p>
<p>Unity 3D, 3D-MAX</p>
<p><strong>Platform:</strong></p>
<p>IOS</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/IOS/">IOS</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-sina-microblog-app-for-apple-watch" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/08/sina-microblog-app-for-apple-watch/" class="article-date">
  	<time datetime="2016-01-09T07:28:07.000Z" itemprop="datePublished">2016-01-08</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/08/sina-microblog-app-for-apple-watch/">Sina Microblog App for Apple Watch</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Nowadays, the best Sina Microblog app for Apple Watch is designed by Weico Co. which is a third-party app development company. However, this app can just allows users to read the 20 newest statuses which makes it impossible to read older statuses via the microblog app. Thus, based on the situation, I designed and implemented a totally new Apple Watch app that has the following breakthrough new features:</p>
<ol>
<li>Be the first Apple Watch app that can refresh and load more status;</li>
<li>Be the first Apple Watch app that can display shared status;</li>
<li>Allow users to read more detailed information about a status;</li>
<li>Allow users to ‘like’ or ‘share’ status.<br>Posters about new features:</li>
</ol>
<p><a href="http://pengfeixing.com/wp-content/uploads/2016/01/1.pic_.jpg" target="_blank" rel="external"><img src="http://pengfeixing.com/wp-content/uploads/2016/01/1.pic_-169x300.jpg" alt="home.pic"></a> <a href="http://pengfeixing.com/wp-content/uploads/2016/01/2.pic_.jpg" target="_blank" rel="external"><img src="http://pengfeixing.com/wp-content/uploads/2016/01/2.pic_-169x300.jpg" alt="refresh.pic"></a> <a href="http://pengfeixing.com/wp-content/uploads/2016/01/3.pic_.jpg" target="_blank" rel="external"><img src="http://pengfeixing.com/wp-content/uploads/2016/01/3.pic_-169x300.jpg" alt="more.pic"></a></p>
<p><a href="http://pengfeixing.com/wp-content/uploads/2016/01/4.pic_.jpg" target="_blank" rel="external"><img src="http://pengfeixing.com/wp-content/uploads/2016/01/4.pic_-169x300.jpg" alt="detail.pic"></a> <a href="http://pengfeixing.com/wp-content/uploads/2016/01/2.pic_1.jpg" target="_blank" rel="external"><img src="http://pengfeixing.com/wp-content/uploads/2016/01/2.pic_1-169x300.jpg" alt="2.pic"></a> <a href="http://pengfeixing.com/wp-content/uploads/2016/01/5.pic_.jpg" target="_blank" rel="external"><img src="http://pengfeixing.com/wp-content/uploads/2016/01/5.pic_-169x300.jpg" alt="shareAndlike.pic"></a></p>
<p>Demo Presentation:</p>
<p><a href="https://youtu.be/HjWLoYmpzhg" target="_blank" rel="external">https://youtu.be/HjWLoYmpzhg</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/watchOS/">watchOS</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-project-diary" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/23/project-diary/" class="article-date">
  	<time datetime="2015-11-24T06:42:15.000Z" itemprop="datePublished">2015-11-23</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/23/project-diary/">USCLock APP</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Demo Presentation:</strong></p>
<p>URL is: <a href="https://www.youtube.com/watch?v=z_Sufm9xeMw&amp;feature=youtu.be" target="_blank" rel="external">https://www.youtube.com/watch?v=z_Sufm9xeMw&amp;feature=youtu.be</a></p>
<p><a href="https://youtu.be/z_Sufm9xeMw" target="_blank" rel="external">https://youtu.be/z_Sufm9xeMw</a></p>
<p><strong>项目日记（Project Diary）</strong></p>
<p><strong>Day 1</strong></p>
<p>项目进度：10%</p>
<p>主要的工作，立项，并完成了基本的UI框架，界面优化打算等模型写完后再回过来修改。</p>
<p>下午写完585的extra credit assignment，比想象的要简单不少，所以就多了许多预留给该project的时间，下午4点的时候有了写个app的想法，5点建立的工程。</p>
<p><strong>Day 2</strong></p>
<p>项目进度： 20%</p>
<p>今天遇到了一个大bug，主要是在解析图书馆网页的时候有些div解析不了，但是查看网页元素该div确实存在网页html文件中。然后今天debug了一整个下午，试了各种方法，终于在晚上解决了这个大bug！</p>
<p>主要原因是这些无法解析的div是通过Ajax获得的，所以在向request函数传递url参数时，不需要传递图书馆主页的url，而只需要传递Ajax动态交互时的url。浪费了这么多时间主要还是对前端知识的不熟悉，所以下学期申请上571 web technology是一个明智的选择，尽管老师很变态班级考试均分之有40+。</p>
<p>今天在解析html也推进了一点，主要是google到了一个第三方框架，当然自己也能手写，但是在代码执行效率上不敢保证，唯一不足的是该框架已经好几月月没有更新了。后期等有空会简单介绍一下该框架。</p>
<p><strong>Day 3</strong></p>
<p>项目进度：25%</p>
<p>今天主要建立了学校20个图书馆HTML文件node id的plist文件，并且将node id字典转换成了model（字典转模型）；然后从网页上抓取了当天的图书馆的open close时间数据，并且呈现在了table view中。</p>
<p>遇到的主要困难：一开始将plist文件错误地建立在了工程文件(ProjectName)Tests文件目录的Supporting Files下面，所以在main bundle的app package中找不到该plist文件，后来就通过在xcode中进行拖拽的方式将该文件从(ProjectName)Tests目录拖拽到了(ProjectName)下的Supporting Files下面，然后还是找不到，最后只得重新新建plist文件。</p>
<p>待解决的问题：</p>
<ol>
<li>leavey library图书馆大部分时间是24小时开放，并没有open close time，需要特殊处理一下；</li>
<li>ios中在图书馆的时间查询网站短时间内重复请求会产生400错误（网络连接成功，但是没有数据返回），网站初步差了一下说是cookie导致的。设想的解决方案有两个：2.1 深入调研导致400的错误原因，看能否消除cookie的影响（如果真的是cookie导致的话）； 2.2 在沙盒中建立文件保存当天的数据，一方面避免段时间内连续向服务器拿数据，另一方面也提高了效率，因为可以直接从本地拿数据，这样的话需要建立一个时间戳，每次查询前需要将本地时间与沙盒数据对应的时间戳进行比较，之有在需要更新的时候才向服务器发送请求。目前初步打算先实现第二种解决方案。<br><strong>Day 4</strong></li>
</ol>
<p>项目进度：30%</p>
<p>今天主要实现了前一天待解决问题中的第2点，没实现第一点主要是因为今天是holiday，leavey有了open time和close time，所以没有了测试数据。</p>
<p>关于第二点的实现，今天感觉实现的非常棒！首先是建立了图书馆的数据模型，然后根据业务逻辑抽出了一个模型工具类，放在了tool目录下面，主要负责模型的存档读档、以及时间戳的判断，感觉在项目中锻炼了自己面相对象编程的能力。</p>
<p>今天遇到了小bug是宏定义最后不能加封号，不过只卡了10分钟左右，其他都很顺利。</p>
<p>不要奇怪为什么项目进度这么慢，下周两门考试。</p>
<p>另外，今天也初步看了一下gym版块的情况，感觉还可以，内容的获取难度大概是library的160%，主要是gym有一个正常时间，然后额外还有一个节假日时间，节假日时间版块的url、排版布局都是动态实现的，但是初步想了个解决方案，明天打算实现一下。</p>
<p>下一步计划：</p>
<p>实现gym版块的数据获取、展示；UI美化打算等所有数据获取结束后再做，一方面可以在同一段时间内做类似的工作，另一方面也是在做UI时可以留出足够的时间来进行数据测试。</p>
<p><strong>Day 5</strong></p>
<p>项目进度：35%</p>
<p>考完试后玩了两天，然后今天继续code。</p>
<p>今天主要完成了gym, swimming pool, restaurant开放时间数据的获取，并且开始设计iPhone端的界面布局。但是，数据尚未转化成模型，打算明天再继续这方面的工作。</p>
<p>另外，今天感觉最成功的还是修复了之前Ajax请求url很多情况请求数据失败的情况，主要是NSURLRequest初始化参数设置的问题。</p>
<p><strong>Day 6</strong></p>
<p>项目进度：40%</p>
<p>今天主要处理MVVM模型，实现了gym, restaurant基本UI。明天实现swimming pool，并进行一些UI调整，添上加载进度条。然后iPhone端的开发先告一段落。</p>
<p><strong>Day 7</strong></p>
<p>项目进度： 45％</p>
<p>今天主要完成了pool部分的数据处理及展示，外加做了一点首页部分的UI,，不过整个app的UI需要集中来做一下，但是现在对配色、布局还没有比较好的想法，所有先搁置，开始apple watch部分的开发。</p>
<p><strong>Day 8</strong></p>
<p>项目进度： 50%</p>
<p>iPhone端app基本完成，项目暂且搁置，有时间再去做apple watch部分。</p>
<p>demo presentation:</p>
<p>youtube:  <a href="https://www.youtube.com/watch?v=S0Eejn3PsEc" target="_blank" rel="external">https://www.youtube.com/watch?v=S0Eejn3PsEc</a></p>
<p>tencent: <a href="http://v.qq.com/boke/page/x/u/b/x01769q4pub.html" target="_blank" rel="external">http://v.qq.com/boke/page/x/u/b/x01769q4pub.html</a></p>
<p><strong>Day 9</strong></p>
<p>项目进度100%</p>
<p>架设了服务器数据库来解决了library部分数据请求存在一定的失败率的bug；</p>
<p>将library开放时间的数据由原先的一天扩展到了四天；</p>
<p>完成了Apple Watch部分的设计及实现。</p>
<p>demo展示：<a href="https://youtu.be/z_Sufm9xeMw" target="_blank" rel="external">https://youtu.be/z_Sufm9xeMw</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/IOS/">IOS</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Watch-OS学习笔记" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/12/Watch-OS学习笔记/" class="article-date">
  	<time datetime="2015-11-12T23:23:18.000Z" itemprop="datePublished">2015-11-12</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/12/Watch-OS学习笔记/">WatchOS学习笔记</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>1.UIImage</p>
<p>设置图片的时候尽量使用setImageNamed，而不是setImageData和setImage，主要原因是第一种方法提前将图片加载到watchKit App Target中去了，而后两种方法的图片在watchKit Extension中，运行时需将图片资源加载到watchKit App Target中，会造成传输中的延迟，影响用户体验。但是在一开始导入图片的时候，如果选择setImageNamed方法，则需要将图片同时加到watchKit App Target和watchKit Extension中，不同于后两种方法，只需要将图片直接加到watchKit Extension即可。这里是用空间换取时间。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/watchOS/">watchOS</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-IOS开发笔记（代码块篇）" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/05/IOS开发笔记（代码块篇）/" class="article-date">
  	<time datetime="2015-11-06T05:37:19.000Z" itemprop="datePublished">2015-11-05</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/05/IOS开发笔记（代码块篇）/">IOS开发笔记（代码块篇）</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>1. when informing delegation object to run optional delegate method</p>
<p>在通知代理对象处理optional代理方法的时候需要判断该代理对象是否实现了该optional delgate method，因为如果直接通知代理对象去执行该对象未实现的代理方法，程序会奔溃。代码块如下：</p>
<p>if([self.delegate respondsToSelector:@selector(blogViewDidClickLikeButton)]){</p>
<p>[self.delegate blogViewDidClickLikeButton];</p>
<p>}</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/IOS/">IOS</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-IOS规范总结" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/05/IOS规范总结/" class="article-date">
  	<time datetime="2015-11-06T05:10:10.000Z" itemprop="datePublished">2015-11-05</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/05/IOS规范总结/">IOS规范总结</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>命名</strong></p>
<hr>
<p>&nbsp;</p>
<p><strong>1. 协议及协议方法命名：</strong></p>
<ol>
<li>协议名称：类名＋Delegate</li>
<li>协议方法：类名（不包括类前缀）＋方法描述<br>例子：</li>
</ol>
<p>在一个名叫XPFBlogView（XPF是项目前缀）中定义一个处理该view中一个按钮（like button）点击事件（didClick）的协议，则命名如下：</p>
<p>@protocol XPFBlogViewDelegate &lt;NSObject&gt;</p>
<p>-(void)blogViewDidClickLikeButton:(XPFBlogView *)blogView;</p>
<p>@end</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/IOS/">IOS</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/2/">&laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/4/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 Pengfei Xing
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>