<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>Uschedule APP | 邢鹏飞的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Demo Presentation:
URL is: https://www.youtube.com/watch?v=z_Sufm9xeMw&amp;amp;feature=youtu.be
https://youtu.be/z_Sufm9xeMw
项目日记（Project Diary）
Day 1
项目进度：10%
主要的工作，立项，并完成了基本的UI框架，界面优化打算等模型写完后再回过来修改。
下午写">
<meta property="og:type" content="article">
<meta property="og:title" content="Uschedule APP">
<meta property="og:url" content="http://yoursite.com/2015/11/23/Uschedule-APP-Diary/index.html">
<meta property="og:site_name" content="邢鹏飞的博客">
<meta property="og:description" content="Demo Presentation:
URL is: https://www.youtube.com/watch?v=z_Sufm9xeMw&amp;amp;feature=youtu.be
https://youtu.be/z_Sufm9xeMw
项目日记（Project Diary）
Day 1
项目进度：10%
主要的工作，立项，并完成了基本的UI框架，界面优化打算等模型写完后再回过来修改。
下午写">
<meta property="og:updated_time" content="2016-04-18T20:31:05.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Uschedule APP">
<meta name="twitter:description" content="Demo Presentation:
URL is: https://www.youtube.com/watch?v=z_Sufm9xeMw&amp;amp;feature=youtu.be
https://youtu.be/z_Sufm9xeMw
项目日记（Project Diary）
Day 1
项目进度：10%
主要的工作，立项，并完成了基本的UI框架，界面优化打算等模型写完后再回过来修改。
下午写">
  
    <link rel="alternative" href="/atom.xml" title="邢鹏飞的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="null" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Pengfei Xing</a></h1>
		</hgroup>

		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>Menu</li>
						<li>Tags</li>
						
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">文章</a></li>
				        
							<li><a href="/tags/Mobile">移动开发</a></li>
				        
							<li><a href="/tags/FullStack">全栈</a></li>
				        
							<li><a href="/tags/System">系统</a></li>
				        
							<li><a href="/tags/Algorithm">算法</a></li>
				        
							<li><a href="/tags/Diary">随笔</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/novelidea" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://weibo.com/2878470034/profile" title="weibo">weibo</a>
					        
								<a class="linkedin" target="_blank" href="https://www.linkedin.com/in/pengfei-xing-65886578" title="linkedin">linkedin</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Algorithm/" style="font-size: 16.67px;">Algorithm</a> <a href="/tags/Backend/" style="font-size: 13.33px;">Backend</a> <a href="/tags/Diary/" style="font-size: 10px;">Diary</a> <a href="/tags/FullStack/" style="font-size: 15px;">FullStack</a> <a href="/tags/Game/" style="font-size: 10px;">Game</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/IOS/" style="font-size: 18.33px;">IOS</a> <a href="/tags/Java/" style="font-size: 11.67px;">Java</a> <a href="/tags/Mobile/" style="font-size: 20px;">Mobile</a> <a href="/tags/MongoDB/" style="font-size: 10px;">MongoDB</a> <a href="/tags/OOD/" style="font-size: 10px;">OOD</a> <a href="/tags/Project/" style="font-size: 10px;">Project</a> <a href="/tags/RESTful/" style="font-size: 10px;">RESTful</a> <a href="/tags/Scrappy/" style="font-size: 10px;">Scrappy</a> <a href="/tags/SpriteKit/" style="font-size: 13.33px;">SpriteKit</a> <a href="/tags/System/" style="font-size: 10px;">System</a> <a href="/tags/Unity/" style="font-size: 10px;">Unity</a> <a href="/tags/WatchOS/" style="font-size: 10px;">WatchOS</a>
					</div>
				</section>
				
				
				

				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Pengfei Xing</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
			
				<img lazy-src="null" class="js-avatar">
			
			</div>
			<hgroup>
			  <h1 class="header-author">Pengfei Xing</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">文章</a></li>
		        
					<li><a href="/tags/Mobile">移动开发</a></li>
		        
					<li><a href="/tags/FullStack">全栈</a></li>
		        
					<li><a href="/tags/System">系统</a></li>
		        
					<li><a href="/tags/Algorithm">算法</a></li>
		        
					<li><a href="/tags/Diary">随笔</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/novelidea" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/2878470034/profile" title="weibo">weibo</a>
			        
						<a class="linkedin" target="_blank" href="https://www.linkedin.com/in/pengfei-xing-65886578" title="linkedin">linkedin</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap"><article id="post-Uschedule-APP-Diary" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/23/Uschedule-APP-Diary/" class="article-date">
  	<time datetime="2015-11-24T06:42:15.000Z" itemprop="datePublished">2015-11-23</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Uschedule APP
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/IOS/">IOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Mobile/">Mobile</a></li></ul>
	</div>

        

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><strong>Demo Presentation:</strong></p>
<p>URL is: <a href="https://www.youtube.com/watch?v=z_Sufm9xeMw&amp;feature=youtu.be" target="_blank" rel="external">https://www.youtube.com/watch?v=z_Sufm9xeMw&amp;feature=youtu.be</a></p>
<p><a href="https://youtu.be/z_Sufm9xeMw" target="_blank" rel="external">https://youtu.be/z_Sufm9xeMw</a></p>
<p><strong>项目日记（Project Diary）</strong></p>
<p><strong>Day 1</strong></p>
<p>项目进度：10%</p>
<p>主要的工作，立项，并完成了基本的UI框架，界面优化打算等模型写完后再回过来修改。</p>
<p>下午写完585的extra credit assignment，比想象的要简单不少，所以就多了许多预留给该project的时间，下午4点的时候有了写个app的想法，5点建立的工程。</p>
<p><strong>Day 2</strong></p>
<p>项目进度： 20%</p>
<p>今天遇到了一个大bug，主要是在解析图书馆网页的时候有些div解析不了，但是查看网页元素该div确实存在网页html文件中。然后今天debug了一整个下午，试了各种方法，终于在晚上解决了这个大bug！</p>
<p>主要原因是这些无法解析的div是通过Ajax获得的，所以在向request函数传递url参数时，不需要传递图书馆主页的url，而只需要传递Ajax动态交互时的url。浪费了这么多时间主要还是对前端知识的不熟悉，所以下学期申请上571 web technology是一个明智的选择，尽管老师很变态班级考试均分之有40+。</p>
<p>今天在解析html也推进了一点，主要是google到了一个第三方框架，当然自己也能手写，但是在代码执行效率上不敢保证，唯一不足的是该框架已经好几月月没有更新了。后期等有空会简单介绍一下该框架。</p>
<p><strong>Day 3</strong></p>
<p>项目进度：25%</p>
<p>今天主要建立了学校20个图书馆HTML文件node id的plist文件，并且将node id字典转换成了model（字典转模型）；然后从网页上抓取了当天的图书馆的open close时间数据，并且呈现在了table view中。</p>
<p>遇到的主要困难：一开始将plist文件错误地建立在了工程文件(ProjectName)Tests文件目录的Supporting Files下面，所以在main bundle的app package中找不到该plist文件，后来就通过在xcode中进行拖拽的方式将该文件从(ProjectName)Tests目录拖拽到了(ProjectName)下的Supporting Files下面，然后还是找不到，最后只得重新新建plist文件。</p>
<p>待解决的问题：</p>
<ol>
<li>leavey library图书馆大部分时间是24小时开放，并没有open close time，需要特殊处理一下；</li>
<li>ios中在图书馆的时间查询网站短时间内重复请求会产生400错误（网络连接成功，但是没有数据返回），网站初步差了一下说是cookie导致的。设想的解决方案有两个：2.1 深入调研导致400的错误原因，看能否消除cookie的影响（如果真的是cookie导致的话）； 2.2 在沙盒中建立文件保存当天的数据，一方面避免段时间内连续向服务器拿数据，另一方面也提高了效率，因为可以直接从本地拿数据，这样的话需要建立一个时间戳，每次查询前需要将本地时间与沙盒数据对应的时间戳进行比较，之有在需要更新的时候才向服务器发送请求。目前初步打算先实现第二种解决方案。<br><strong>Day 4</strong></li>
</ol>
<p>项目进度：30%</p>
<p>今天主要实现了前一天待解决问题中的第2点，没实现第一点主要是因为今天是holiday，leavey有了open time和close time，所以没有了测试数据。</p>
<p>关于第二点的实现，今天感觉实现的非常棒！首先是建立了图书馆的数据模型，然后根据业务逻辑抽出了一个模型工具类，放在了tool目录下面，主要负责模型的存档读档、以及时间戳的判断，感觉在项目中锻炼了自己面相对象编程的能力。</p>
<p>今天遇到了小bug是宏定义最后不能加封号，不过只卡了10分钟左右，其他都很顺利。</p>
<p>不要奇怪为什么项目进度这么慢，下周两门考试。</p>
<p>另外，今天也初步看了一下gym版块的情况，感觉还可以，内容的获取难度大概是library的160%，主要是gym有一个正常时间，然后额外还有一个节假日时间，节假日时间版块的url、排版布局都是动态实现的，但是初步想了个解决方案，明天打算实现一下。</p>
<p>下一步计划：</p>
<p>实现gym版块的数据获取、展示；UI美化打算等所有数据获取结束后再做，一方面可以在同一段时间内做类似的工作，另一方面也是在做UI时可以留出足够的时间来进行数据测试。</p>
<p><strong>Day 5</strong></p>
<p>项目进度：35%</p>
<p>考完试后玩了两天，然后今天继续code。</p>
<p>今天主要完成了gym, swimming pool, restaurant开放时间数据的获取，并且开始设计iPhone端的界面布局。但是，数据尚未转化成模型，打算明天再继续这方面的工作。</p>
<p>另外，今天感觉最成功的还是修复了之前Ajax请求url很多情况请求数据失败的情况，主要是NSURLRequest初始化参数设置的问题。</p>
<p><strong>Day 6</strong></p>
<p>项目进度：40%</p>
<p>今天主要处理MVVM模型，实现了gym, restaurant基本UI。明天实现swimming pool，并进行一些UI调整，添上加载进度条。然后iPhone端的开发先告一段落。</p>
<p><strong>Day 7</strong></p>
<p>项目进度： 45％</p>
<p>今天主要完成了pool部分的数据处理及展示，外加做了一点首页部分的UI,，不过整个app的UI需要集中来做一下，但是现在对配色、布局还没有比较好的想法，所有先搁置，开始apple watch部分的开发。</p>
<p><strong>Day 8</strong></p>
<p>项目进度： 50%</p>
<p>iPhone端app基本完成，项目暂且搁置，有时间再去做apple watch部分。</p>
<p>demo presentation:</p>
<p>youtube:  <a href="https://www.youtube.com/watch?v=S0Eejn3PsEc" target="_blank" rel="external">https://www.youtube.com/watch?v=S0Eejn3PsEc</a></p>
<p>tencent: <a href="http://v.qq.com/boke/page/x/u/b/x01769q4pub.html" target="_blank" rel="external">http://v.qq.com/boke/page/x/u/b/x01769q4pub.html</a></p>
<p><strong>Day 9</strong></p>
<p>项目进度100%</p>
<p>架设了服务器数据库来解决了library部分数据请求存在一定的失败率的bug；</p>
<p>将library开放时间的数据由原先的一天扩展到了四天；</p>
<p>完成了Apple Watch部分的设计及实现。</p>
<p>demo展示：<a href="https://youtu.be/z_Sufm9xeMw" target="_blank" rel="external">https://youtu.be/z_Sufm9xeMw</a></p>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2015/12/31/写在岁末年初/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          写在岁末年初
        
      </div>
    </a>
  
  
    <a href="/2015/11/12/Watch-OS学习笔记/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">WatchOS学习笔记</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>


<div class="share_jia">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">Share to: &nbsp; </span>
		<a class="jiathis_button_facebook"></a> 
    <a class="jiathis_button_twitter"></a>
    <a class="jiathis_button_plus"></a> 
    <a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
    <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>






<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="Uschedule-APP-Diary" data-title="Uschedule APP" data-url="http://yoursite.com/2015/11/23/Uschedule-APP-Diary/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"true"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>




</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 Pengfei Xing
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>